window.__require=function e(t,n,o){function i(a,s){if(!n[a]){if(!t[a]){var c=a.split("/");if(c=c[c.length-1],!t[c]){var u="function"==typeof __require&&__require;if(!s&&u)return u(c,!0);if(r)return r(c,!0);throw new Error("Cannot find module '"+a+"'")}}var l=n[a]={exports:{}};t[a][0].call(l.exports,function(e){return i(t[a][1][e]||e)},l,l.exports,e,t,n,o)}return n[a].exports}for(var r="function"==typeof __require&&__require,a=0;a<o.length;a++)i(o[a]);return i}({AlertManager:[function(e,t,n){"use strict";cc._RF.push(t,"df3093HSdRCmJ08pJkKcyZ3","AlertManager"),Object.defineProperty(n,"__esModule",{value:!0});var o,i=e("../framework/MVCS"),r=e("../utils/Util"),a=e("../framework/UIManager"),s=e("./NormalTips");(function(e){e[e.COMMON=0]="COMMON",e[e.HELP=1]="HELP",e[e.NET_ERROR=2]="NET_ERROR"})(o=n.AlertType||(n.AlertType={}));var c=function(){function e(){}return e.showNormalTips=function(e,t,n,o,c){void 0===t&&(t=i.MVCS.eUILayer.Tips),void 0===n&&(n=1),void 0===o&&(o=70),void 0===c&&(c=0),r.Util.loadPrefab("common/alert/tip").then(function(i){i.getComponent(s.default).setText(e),i.y=c;var r=cc.moveBy(n,cc.v2(0,o)),u=cc.fadeOut(1);i.group="UI",i.setParent(a.UIManager.layerRoots(t)),i.runAction(cc.sequence(r,u,cc.callFunc(function(){i.destroy()})))})},e.showAlert=function(e,t){e==o.COMMON?a.UIManager.Open("common/alert/CommonAlert",i.MVCS.eTransition.Default,i.MVCS.eUILayer.Loading,t):e==o.NET_ERROR&&a.UIManager.Open("common/alert/NetErrorAlert",i.MVCS.eTransition.Default,i.MVCS.eUILayer.Loading,t)},e}();n.AlertManager=c,cc._RF.pop()},{"../framework/MVCS":void 0,"../framework/UIManager":void 0,"../utils/Util":"Util","./NormalTips":"NormalTips"}],AnimTransition:[function(e,t,n){"use strict";cc._RF.push(t,"e8cb13ryTxJIqZm62fat33M","AnimTransition"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(){this.isClean=!1}return e.prototype.init=function(e,t){this._node=e,this.isClean=t,this.m_animator=e.getComponent(cc.Animation)},e.prototype.show=function(){var e=this;return new Promise(function(t,n){null!=e.m_animator&&(e.m_animator.play("Show"),t())})},e.prototype.hide=function(){null!=this.m_animator&&this.m_animator.play("Hide")},e}();n.AnimTransition=o,cc._RF.pop()},{}],AnimateManager:[function(e,t,n){"use strict";cc._RF.push(t,"400466xSJBEfYl7GRk/WB0F","AnimateManager"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("./Manager"),i=function(){return function(e){this.id=e}}(),r=function(){function e(){this._clips={}}return e.prototype.getFireAnimationClip=function(e){var t=this;return new Promise(function(n,r){var a=t._clips[e];null==a?(t._clips[e]=new i(e),o.Manager.loader.LoadAssetAsync(e,"fireEffect/"+e,cc.AnimationClip,function(e,o,i){t._clips[e].clip=o,n(t._clips[e].clip)},t,e)):n(a.clip)})},e.prototype.getHitAnimationClip=function(e){var t=this;return new Promise(function(n,r){var a=t._clips[e];null==a?(a=new i(e),t._clips[e]=a,o.Manager.loader.LoadAssetAsync(e,"hitEffect/"+e,cc.AnimationClip,function(e,o,i){t._clips[e].clip=o,n(t._clips[e].clip)},t,"")):n(a.clip)})},e.prototype.getBoomAnimationClip=function(e){var t=this;return new Promise(function(n,r){var a=t._clips[e];null==a?(a=new i(e),t._clips[e]=a,o.Manager.loader.LoadAssetAsync(e,"boomEffect/"+e,cc.AnimationClip,function(e,o,i){t._clips[e].clip=o,n(t._clips[e].clip)},t,"")):n(a.clip)})},e}();n.AnimateManager=r,cc._RF.pop()},{"./Manager":"Manager"}],AnimationUtils:[function(e,t,n){"use strict";cc._RF.push(t,"521325sl4NBcplnBGBwvxy+","AnimationUtils"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(){}return e.play=function(e,t,n,o,i,r,a,s,c,u,l,f){void 0===a&&(a=cc.WrapMode.Default),void 0===s&&(s=!0),void 0===l&&(l=0),cc.loader.load(e,function(r,f){if(!r&&f){f.wrapMode=a;var p=new cc.Node;p.addComponent(cc.Sprite);var h=p.addComponent(cc.Animation);h.addClip(f),t.addChild(p),h.play(n),console.debug("\u64ad\u653e\u52a8\u753b  ======== "+e),p.setPosition(o||0,i||0),u&&p.setScale(u),c&&(p.zIndex=c);var d=function(){p.destroy(),p=null};h.on("finished",function(){s&&(l>0?d():h.scheduleOnce(l,this,d))},this)}else console.error("\u52a8\u753b\u8d44\u6e90\u52a0\u8f7d\u5931\u8d25\uff0curl = "+e)}.bind(this))},e.prototype.createAnimationByLoadAtlas=function(e,t){var n=t.getComponent(cc.Animation);cc.loader.load(e,function(e,t){var o=t.getSpriteFrames(),i=cc.AnimationClip.createWithSpriteFrames(o,10);i.name="buff",i.wrapMode=cc.WrapMode.Loop,n.addClip(i),n.play("run")}.bind(this),null,!1)},e.prototype.loadAnimationClip=function(e,t){var n=t.getComponent(cc.Animation);cc.loader.load(e,function(e,t){t.wrapMode=cc.WrapMode.Loop,n.addClip(t),n.play("run")}.bind(this),null,!1)},e}();n.AnimationUtils=o,cc._RF.pop()},{}],AppConfig:[function(e,t,n){"use strict";var o,i,r;cc._RF.push(t,"c4c5drF951OOoriupHOUzUz","AppConfig"),Object.defineProperty(n,"__esModule",{value:!0}),n.HDDefaultUserInfo={code:"",nick_name:"\u533f\u540d",gender:0,avatar_url:"",country:"",province:"",city:"",open_id:""},n.EPlatform=cc.Enum({WeChat:1,ZiJie:2,Android:3,IOS_SiHao:4,QQ:5});var a=((o={})[n.EPlatform.WeChat]="wxc93ee93882288748",o[n.EPlatform.ZiJie]="tt1e1168ac813b90a1",o[n.EPlatform.IOS_SiHao]="shrxls166",o[n.EPlatform.QQ]="1109310519",o);n.Environment={native:0,test:1,release:2},n.appConfig={platform_id:n.EPlatform.ZiJie,app_id:a[n.EPlatform.ZiJie],env:n.Environment.native,app_version:"1.0.7",sdk_version:"0.0.1"},n.videoIdList=((i={})[n.EPlatform.WeChat]={0:"adunit-88d20fd9554af003",1:"adunit-fec852ff1007ebad",2:"adunit-84f9cfc348914114"},i[n.EPlatform.ZiJie]={0:"377u36btbwg68ah8hn",1:"5jci2jhcdhh6124fe2",2:"9fa4g0ki0ffr0188r6"},i),n.bannerIdList=((r={})[n.EPlatform.WeChat]={0:"adunit-0a1a3754b51ed661",1:"adunit-113dacb641819017",2:"adunit-e388f552b4bebf55",3:"adunit-538c54d5b0ee14be",4:"adunit-4060d8b6871a84de",5:"adunit-132ebdbdabce33c2",6:"adunit-6ad9ebd67ae0d7b6",7:"adunit-a07f952c9de507f5"},r[n.EPlatform.ZiJie]={0:"2qgeprngx5h3500ek6",1:"2qgeprngx5h3500ek6",2:"2qgeprngx5h3500ek6",3:"2qgeprngx5h3500ek6",4:"2qgeprngx5h3500ek6",5:"2qgeprngx5h3500ek6",6:"2qgeprngx5h3500ek6",7:"2qgeprngx5h3500ek6"},r),cc._RF.pop()},{}],AssetLoader:[function(e,t,n){"use strict";cc._RF.push(t,"44691vqB41F07E6jNlEvqeg","AssetLoader"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(){this.m_progress=0}return e.addRef=function(t,n){for(var o=0;o<n.length;o++){var i=n[o],r=e._refMap[i];e._refMap[i]=null==r?1:r+1}},e.delRef=function(t,n){for(var o=[],i=0;i<n.length;i++){var r=n[i],a=e._refMap[r];null!=a?a>1?e._refMap[r]=a-1:(delete e._refMap[r],o.push(r)):cc.error("delRef times null, uuid:"+r)}o.length>0&&cc.loader.release(o)},Object.defineProperty(e.prototype,"asset",{get:function(){return this._asset},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isAlive",{get:function(){return!0},enumerable:!0,configurable:!0}),e.prototype.IsDone=function(){return this._isLoaded},Object.defineProperty(e.prototype,"progress",{get:function(){return this._isLoaded?1:this.m_progress},enumerable:!0,configurable:!0}),e.prototype.Init=function(e,t,n){null==this.m_assetPath?(this.m_assetPath=t,this.m_assetName=e,this.m_assetType=n):cc.error("AssetLoader.Init mult times! path old:"+this.m_assetPath+"\nnew:"+t)},e.prototype.LoadAsync=function(){var t=this;this._isLoaded||this.m_progress>0||(this.m_progress=.01,cc.loader.loadRes(this.m_assetPath,this.m_assetType,function(e,n,o){t.m_progress<0||(t.m_progress=e/n,null!=t._progressCallback&&(t._progressCallback.call(t._progressTarget,t.m_assetPath,t.m_progress),e>=n&&(t._progressCallback=null,t._progressTarget=null)))},function(n,o){if(n)cc.error("AssetLoader.LoadAsync error:",t.m_assetPath,n);else{if(t.m_progress<0)return t.m_assetType!=cc.JsonAsset||cc.loader.release(t.m_assetPath),void cc.warn("AssetLoader.LoadAsync cancel:",t.m_assetPath,t.m_assetType);null!=t._progressCallback&&(t._progressCallback.call(t._progressTarget,t.m_assetPath,1),t._progressCallback=null,t._progressTarget=null),t._isLoaded=!0,t._asset=o;var i=cc.loader.getDependsRecursively(t.m_assetPath);e.addRef(t.m_assetPath,i)}}))},e.prototype.UnLoad=function(){},e.prototype.SetProgressCallback=function(e,t){this._isLoaded?e.call(t,this.m_assetPath,1):(this._progressCallback=e,this._progressTarget=t)},e._refMap={},e}();n.AssetLoader=o,cc._RF.pop()},{}],AudioManager:[function(e,t,n){"use strict";cc._RF.push(t,"584a0c8NU9EbopSE0wq1PXD","AudioManager");var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,r){function a(e){try{c(o.next(e))}catch(e){r(e)}}function s(e){try{c(o.throw(e))}catch(e){r(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}c((o=o.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(e){return function(t){return c([e,t])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,o=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(e){r=[6,e],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var r,a=e("../config/Cfg"),s=e("./Manager"),c=e("../module/setting/SettingModel"),u=e("../frame/Notifier"),l=e("../frame/NotifyID"),f=(window.wx,function(){return function(e){this.id=e}}());(function(e){e[e.UI=0]="UI",e[e.Gun=1]="Gun",e[e.Gun1=2]="Gun1",e[e.Gun2=3]="Gun2",e[e.Gun3=4]="Gun3",e[e.Gun4=5]="Gun4",e[e.Hit=6]="Hit",e[e.Hit1=7]="Hit1",e[e.Hit2=8]="Hit2",e[e.Hit3=9]="Hit3",e[e.Dead=10]="Dead",e[e.Tool=11]="Tool",e[e.Laser=12]="Laser",e[e.Music=13]="Music",e[e.Max=13]="Max"})(r=n.AudioType||(n.AudioType={}));var p=function(){function e(){this._clips={},this._audioGunSources=cc.js.createMap(),this._audioSources=[],this._musicSettingVolume=1,this._musicConfigVolume=1,this._musicFadeVolume=1,this._muteMusic=!0,this._muteAudio=!0,this._audioSettingVolume=1,this._audioConfigVolumes=[],this.countGunType=1,this.countHitDeadType=6,this.audionum=0,this.audioHitNum=0,this.audioUINum=0;var e=cc.director.getScene(),t=new cc.Node("_AudioManager"),n=new cc.Node("_testManager");cc.game.addPersistRootNode(t),cc.game.addPersistRootNode(n),t.parent=e,n.parent=e,this._root=t,this._testroot=n,this._musicSource=t.addComponent(cc.AudioSource),this._musicSource.loop=!0;for(var o=0;o<r.Max;o++)this.addAudioSource();u.Notifier.addListener(l.NotifyID.App_Pause,this.OnAppPause,this)}return e.prototype.addAudioSource=function(){var e=this._root.addComponent(cc.AudioSource);this._audioSources.push(e),this._audioConfigVolumes.push(1)},e.prototype.setMusicVolume=function(e){this._musicSettingVolume=e,cc.audioEngine.setMusicVolume(e),null!=this._musicSource&&(this._musicSource.volume=this._musicSettingVolume*this._musicConfigVolume*this._musicFadeVolume)},e.prototype.setMusicConfigVolume=function(e){this._musicConfigVolume=e,cc.audioEngine.setMusicVolume(e),null!=this._musicSource&&(this._musicSource.volume=this._musicSettingVolume*this._musicConfigVolume*this._musicFadeVolume)},e.prototype.setMusicFadeVolume=function(e){this._musicFadeVolume=e},e.prototype.doPlayMusic=function(e){null!=e.clip?(this._musicSource.clip=e.clip,this._musicSource.play()):cc.warn("DoPlayMusic clip null")},e.prototype.playMusic=function(e,t,n){var o=this;if(void 0===t&&(t=!0),void 0===n&&(n=!0),n||null==this._musicClip||this._musicClip.id!=e){if((null==this._musicClip||e!=this._musicClip.id)&&c.default.getInstance.muteMusic){var i=a.Cfg.Sound.get(e);if(null!=i){i.volume<=0&&(cc.error("soundCfg volume error id:",e),i.volume=1),this.setMusicConfigVolume(i.volume),this._musicSource.loop=t;var r=this._clips[e];if(null==r){var u=i.path;s.Manager.loader.LoadAssetAsync(e+"",u,cc.AudioClip,function(e,t,n){var i=Number(e);o._clips[i]||(o._clips[i]=new f(i),o._clips[i].clip=t),o.doPlayMusic(o._clips[i])},this,"")}else this._musicClip=r,this.doPlayMusic(r)}else cc.error("PlayMusic error config id:",e)}}else cc.log("skip the same music:",e)},e.prototype.stopMusic=function(){cc.audioEngine.stopMusic(),this._musicSource.stop()},e.prototype.pauseMusic=function(){this._musicSource.pause(),cc.audioEngine.pauseMusic()},e.prototype.resumeMusic=function(){c.default.getInstance.muteMusic&&this._musicSource.resume()},e.prototype.muteMusic=function(e){c.default.getInstance.muteMusic?this._musicClip?this.resumeMusic():this.playMusic(508,!0):this.pauseMusic()},e.prototype.preloadMusic=function(e,t,n){return void 0===t&&(t=null),void 0===n&&(n=null),o(this,void 0,void 0,function(){var o,r,c,u=this;return i(this,function(i){return o=a.Cfg.Sound.get(e),r=o.path,null!=(c=this._clips[e])?(t.call(n,r,1),[2]):(c=new f(e),[2,new Promise(function(e,o){s.Manager.loader.LoadAssetAsync(r,r,cc.AudioClip,function(t,n){c.clip=n,e()},u,""),null!=t&&s.Manager.loader.SetProgressCallback(r,t,n)})])})})},e.prototype.musicVolume=function(){return this._musicSettingVolume},e.prototype.setAudioVolume=function(e){},e.prototype.setAudioClip=function(e,t){this._clips[e]||(this._clips[e]=new f(e)),this._clips[e].clip=t},e.prototype.setAudioConfigVolume=function(e,t){void 0===t&&(t=r.UI)},e.prototype.doPlayAudio=function(e,t,n,o){if(void 0===n&&(n=1),null!=e.clip){var i=t;t==r.Gun?(this.countGunType++,this.countGunType>5&&(this.countGunType=1),i=this.countGunType):t!=r.Hit&&t!=r.Dead||(this.countHitDeadType++,this.countHitDeadType>10&&(this.countHitDeadType=6),i=this.countHitDeadType),this._audioSources[i].clip=e.clip,this._audioSources[i].play()}else cc.warn("DoPlayAudio clip null")},e.prototype.playAudio=function(e,t,n){var o=this;void 0===t&&(t=r.UI),void 0===n&&(n=1);var i=a.Cfg.Sound.get(e);if(null!=i){if(this._muteAudio&&!(this.audionum>=2&&t==r.Dead||this.audioHitNum>=2&&t==r.Hit||this.audioUINum>=2&&t==r.UI)){t==r.Dead?this.audionum++:t==r.Hit?this.audioHitNum++:t==r.UI&&this.audioUINum++,i.volume<=0&&(cc.error("soundCfg volume error id:",e),i.volume=1),this._audioSources[t].loop=!1;var c=this._clips[e];if(null==c){this._clips[e]=new f(e);var u=i.path;s.Manager.loader.LoadAssetAsync(e+"",u,cc.AudioClip,function(r,a,s){var c=Number(r);o._clips[c].clip=a,i.loop?o.doPlayGunFire(o._clips[c].clip,e,i.volume):o.doPlayAudio(o._clips[c],t,n,i.volume)},this,"")}else i.loop?this.doPlayGunFire(c.clip,e,i.volume):this.doPlayAudio(c,t,n,i.volume)}}else cc.error("PlayAudio error config id:",e)},e.prototype.stopAudio=function(e){void 0===e&&(e=r.UI),this._audioSources[e].stop()},e.prototype.muteAudio=function(e,t){void 0===t&&(t=r.UI),this._muteAudio=e},e.prototype.audioVolume=function(){return this._audioSettingVolume},e.prototype.OnAppPause=function(e){if(!e&&cc.sys.os==cc.sys.OS_ANDROID&&window.wx){var t=this._clips[501];t&&this.doPlayAudio(t,r.UI,0,.1)}},e.prototype.stopAllGunSources=function(){for(var e in this._audioGunSources)this._audioGunSources[e]&&this._audioGunSources[e].pause()},e.prototype.stopGunFire=function(e){this._audioGunSources[e]&&this._audioGunSources[e].pause()},e.prototype.doPlayGunFire=function(e,t,n){if(this._audioGunSources[t])this._audioGunSources[t].clip&&(this._audioGunSources[t].isPlaying||this._audioGunSources[t].resume());else{var o=this._testroot.addComponent(cc.AudioSource);this._audioGunSources[t]=o,this._audioGunSources[t].clip=e,this._audioGunSources[t].volume=n,this._audioGunSources[t].loop=!0,this._audioGunSources[t].play()}},e.prototype.OnGamePause=function(e){e?s.Manager.audio.pauseMusic():s.Manager.audio.resumeMusic()},e}();n.AudioManager=p,cc._RF.pop()},{"../config/Cfg":"Cfg","../frame/Notifier":"Notifier","../frame/NotifyID":"NotifyID","../module/setting/SettingModel":"SettingModel","./Manager":"Manager"}],AutoMove:[function(e,t,n){"use strict";cc._RF.push(t,"69a0aHTKI9JWKEyzxN7BPaY","AutoMove");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,a=r.ccclass,s=r.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.velocity=cc.v2(0,0),t}return o(t,e),t.prototype.start=function(){},t.prototype.update=function(e){this._moveVec=this.velocity.mul(e);var t=this.node.position.add(this._moveVec);this.node.setPosition(t),null!=this._cameraNode&&(t=this._cameraNode.position.add(this._moveVec),this._cameraNode.setPosition(t))},t.prototype.activeCameraFollow=function(){this._cameraNode=cc.find("Canvas/Main Camera")},i([s(cc.Vec2)],t.prototype,"velocity",void 0),t=i([a],t)}(cc.Component);n.AutoMove=c,cc._RF.pop()},{}],BarrierCfg:[function(e,t,n){"use strict";cc._RF.push(t,"a96ebwjPjdLNZ2onZcX0Ged","BarrierCfg");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._name="Barrier",t}return o(t,e),t}(e("./TConfig").TConfig);n.BarrierCfgReader=i,cc._RF.pop()},{"./TConfig":"TConfig"}],BaseNet:[function(e,t,n){"use strict";cc._RF.push(t,"6624c1KV9JLBbZO4ENQ9yvJ","BaseNet"),Object.defineProperty(n,"__esModule",{value:!0});var o=console,i=window.wx,r=function(){function e(){}return e.httpPost=function(e,t,n){return this._http("POST",e,t,n)},e.httpGet=function(e,t,n){return this._http("GET",e,t,n)},e.httpDelete=function(e,t,n){return this._http("DELETE",e,t,n)},e.httpPut=function(e,t,n){return this._http("PUT",e,t,n)},Object.defineProperty(e,"directHttp",{get:function(){var e=this;return this.__http||(this.__http=e._isWechat()?e._wxHttp:e._webHttp),this.__http},enumerable:!0,configurable:!0}),e._isWechat=function(){return!(void 0===i)},e._http=function(e,t,n,i){var r=this;return new Promise(function(a,s){r.directHttp(e,t,n,i).then(function(i){i.err&&0!=i.err||i.code&&0!=i.code?(o.warn("request "+e+" "+t+" "+n+" res error res.err = "+i.err+", res.msg = "+i.msg),s(i)):a(i.data)}).catch(function(i){o.warn("request "+e+" "+t+" "+n+" error "+i),s(i)})})},e._wxHttp=function(e,t,n,o){return new Promise(function(r,a){i.request({url:t,data:n,method:e,header:{"content-type":"application/json",Authorization:o},success:function(e){var t=e.data.code,n=e.data.err;0==t||0==n?r(e.data):a(e.data)},fail:function(e){a({code:-1,msg:"request\u8bf7\u6c42\u5931\u8d25",data:e})}})})},e._webHttp=function(e,t,n,i,r){return void 0===r&&(r="json"),new Promise(function(a,s){var c=new XMLHttpRequest;if(c.timeout=7e3,"GET"==e&&n){var u="?";for(var l in n)"?"!=u&&(u+="&"),u+=l+"="+n[l];t+=u}switch(c.open(e,t),c.onreadystatechange=function(){4==c.readyState?200==c.status?a("json"==r?JSON.parse(c.responseText):c.response):s({code:-1,msg:Error("xmlHttp status = "+c.status),data:{}}):o.debug("xmlhttp readystate "+c.readyState)},c.onerror=function(){s({code:-1,msg:Error("xmlhttp something error"),data:{}})},r){case"json":c.setRequestHeader("content-type","application/json"),c.setRequestHeader("Authorization",i)}"blob"!=r&&"arraybuffer"!=r||(c.responseType=r),c.send(n?JSON.stringify(n):"")})},e.__http=null,e}();n.default=r,cc._RF.pop()},{}],BossCfg:[function(e,t,n){"use strict";cc._RF.push(t,"f789cHhm2ZFqKQcHY78OeeB","BossCfg");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._name="Boss",t}return o(t,e),t}(e("./TConfig").TConfig);n.BossCfgReader=i,cc._RF.pop()},{"./TConfig":"TConfig"}],BoxItem_DSP:[function(e,t,n){"use strict";cc._RF.push(t,"add0bEs5AVJioOcHtc9tlDo","BoxItem_DSP");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../../../../hd_module"),a=e("../../../../../config/AppConfig"),s=e("../../../../../utils/sprite "),c=cc._decorator,u=c.ccclass,l=c.property,f={0:"develop",1:"trial",2:"release"},p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.appid="",t.imgUrl=null,t.sprite=null,t}return o(t,e),t.prototype.init=function(e){e&&(this.appid=e.appid,this.imgUrl=e.imgUrl,this.onFlush())},t.prototype.onLoad=function(){this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this)},t.prototype.onDestroy=function(){this.node.off(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this)},t.prototype.onTouchEnd=function(){r.HD_MODULE.getPlatform().navigateToMiniProgram({appId:this.appid,envVersion:f[a.appConfig.env],success:function(){}})},t.prototype.onFlush=function(e){switch(void 0===e&&(e="all"),e){case"all":this.updateSprite()}},t.prototype.updateSprite=function(){this.sprite&&this.imgUrl&&s.default.setSprite(this.sprite,this.imgUrl)},i([l(cc.Sprite)],t.prototype,"sprite",void 0),t=i([u],t)}(cc.Component);n.default=p,cc._RF.pop()},{"../../../../../config/AppConfig":"AppConfig","../../../../../hd_module":"hd_module","../../../../../utils/sprite ":"sprite "}],BoxView_DSP:[function(e,t,n){"use strict";cc._RF.push(t,"6c394LQC7tNVIQwJloFgySY","BoxView_DSP");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../../../../hd_module"),a=e("../../../../../config/AppConfig"),s=cc._decorator,c=s.ccclass,u=s.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.boxItem=null,t.platform=a.EPlatform.WeChat,t.scrollContent=null,t.itemList={},t}var n;return o(t,e),n=t,t.prototype.onLoad=function(){},t.prototype.onEnable=function(){var e=this;if(r.HD_MODULE.getPlatform().getToken()&&this.platform==a.appConfig.platform_id)if(n.isGetData)this.onFlush();else{f.init(function(){n.isGetData=!0,e.onFlush()})}else this.node.setContentSize(0,0)},t.prototype.onFlush=function(e){switch(void 0===e&&(e="all"),e){case"all":this.updateItemList()}},t.prototype.updateItemList=function(){var e=f.miniproList.home;if(e)for(var t=0;t<e.length;++t){var n=this.itemList[t];n||(n=cc.instantiate(this.boxItem))&&(n.parent=this.scrollContent,this.itemList[t]=n),n.getComponent("BoxItem_DSP").init({appid:e[t].app_id,imgUrl:e[t].icon})}},t.isGetData=!1,i([u(cc.Prefab)],t.prototype,"boxItem",void 0),i([u({type:a.EPlatform})],t.prototype,"platform",void 0),i([u(cc.Node)],t.prototype,"scrollContent",void 0),t=n=i([c],t)}(cc.Component);n.default=l;var f=function(){function e(){}return e.init=function(t){r.HD_MODULE.getNet().getDSPInfo({version:a.appConfig.app_version},function(n){e.miniproList=n.data.apps,t()})},e.miniproList=null,e}();cc._RF.pop()},{"../../../../../config/AppConfig":"AppConfig","../../../../../hd_module":"hd_module"}],BulletCfg:[function(e,t,n){"use strict";cc._RF.push(t,"0dd386nG2ZBSYUZ/8jL47Zq","BulletCfg");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._name="Bullet",t}return o(t,e),t}(e("./TConfig").TConfig);n.BulletCfgReader=i,cc._RF.pop()},{"./TConfig":"TConfig"}],Button_DSP:[function(e,t,n){"use strict";cc._RF.push(t,"de654hrqQhNo6P2EezCXrzc","Button_DSP");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../../../../config/AppConfig"),a=e("../../../../../mgr/EventManager"),s=e("../../../../../hd_module"),c=e("../../../../../utils/sprite "),u=e("../../../../../utils/AnimationUtils"),l=e("../../../../../utils/EffectUtils"),f=cc._decorator,p=f.ccclass,h=f.property,d=cc.Enum({home:1,game:2,result:3,box:4}),g={1:"home",2:"game",3:"result",4:"box"},_={0:"develop",1:"trial",2:"release"},m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.pos=d.home,t.platform=r.EPlatform.WeChat,t.index=-1,t.timerId=0,t}var n;return o(t,e),n=t,t.prototype.onEnable=function(){var e=this;this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),a.EventManager.on("dsp-getdata",function(){return e.changeSprite()},this)},t.prototype.onDestroy=function(){clearInterval(this.timerId)},t.prototype.onLoad=function(){s.HD_MODULE.getPlatform().getToken()&&this.platform==r.appConfig.platform_id?n.isGetData?this.changeSprite():(v.init(),n.isGetData=!0):this.node.setContentSize(0,0)},t.prototype.onDisable=function(){this.node.off(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),a.EventManager.offTarget(this)},t.prototype.onTouchEnd=function(){var e=this,t=this.getMiniProInfo();if(t){var n=t.app_id;s.HD_MODULE.getPlatform().navigateToMiniProgram({appId:n,envVersion:_[r.appConfig.env],path:t.path||"",success:function(){e.changeSprite(),s.HD_MODULE.getNet().postDSPOut({to_app_id:n})},fail:function(){return e.changeSprite()}})}},t.prototype.changeSprite=function(e){var t=this,n=this.getMiniProList(),o=this.getMiniProInfo();if(o){this.index=e||0==e?e:(this.index+1)%n.length;var i=o.duration||10;clearInterval(this.timerId),this.timerId=setInterval(function(){t.changeSprite()},1e3*i),this.onFlush()}},t.prototype.onFlush=function(e,t){switch(void 0===e&&(e="all"),e){case"all":this.updateSpirte()}},t.prototype.updateSpirte=function(){var e=this.getMiniProInfo();if(e){var t=this.getAnimationUrl();if(t)u.AnimationUtils.play(t,this.node,null,0,0);else{var n=this.node.getComponent(cc.Sprite);n||(n=this.node.addComponent(cc.Sprite)),n.sizeMode=cc.Sprite.SizeMode.CUSTOM,c.default.setSprite(n,e.icon)}}},t.prototype.updateEffect=function(){var e=this.getMiniProInfo();if(e)switch(this.node.stopAllActions(),e.effect){case y.SCALE:l.EffectUtils.getInstance().playScaleEffect(this.node);break;case y.SCALE:l.EffectUtils.getInstance().shakeObj(this.node)}},t.prototype.getMiniProList=function(){var e=v.miniproList[g[this.pos]];return e||{}},t.prototype.getMiniProInfo=function(){var e=this.getMiniProList();return-1==this.index&&(this.index=Math.floor(Math.random()*e.length)),e[this.index]},t.prototype.getAnimationUrl=function(){var e=this.getMiniProInfo();if(!e)return"";for(var t="",n=e.icon.split(","),o=0;o<n.length;o++){var i=n[o];if(new RegExp(".anim$").test(i)){t=i;break}}return t},t.isGetData=!1,i([h({type:d})],t.prototype,"pos",void 0),i([h({type:r.EPlatform})],t.prototype,"platform",void 0),t=n=i([p],t)}(cc.Component);n.default=m;var y,v=function(){function e(){}return e.init=function(){s.HD_MODULE.getNet().getDSPInfo({version:r.appConfig.app_version},function(t){e.miniproList=t.data.apps,a.EventManager.emit("dsp-getdata")})},e.miniproList={},e}();n.DSPData=v,function(e){e[e.SCALE=0]="SCALE",e[e.SHAKE_HEAD=0]="SHAKE_HEAD"}(y=n.DSPEffectType||(n.DSPEffectType={})),cc._RF.pop()},{"../../../../../config/AppConfig":"AppConfig","../../../../../hd_module":"hd_module","../../../../../mgr/EventManager":"EventManager","../../../../../utils/AnimationUtils":"AnimationUtils","../../../../../utils/EffectUtils":"EffectUtils","../../../../../utils/sprite ":"sprite "}],CallID:[function(e,t,n){"use strict";cc._RF.push(t,"40d1606+spNJ45EV9WY6tOY","CallID"),Object.defineProperty(n,"__esModule",{value:!0}),function(e){e[e._Start=999]="_Start",e[e.Setting_IsMuteMusic=1e3]="Setting_IsMuteMusic",e[e.Setting_IsMuteAudio=1001]="Setting_IsMuteAudio",e[e.Setting_IsBlockShake=1002]="Setting_IsBlockShake",e[e.Setting_IsHurtShow=1003]="Setting_IsHurtShow",e[e.Setting_GetRealDesignSize=1004]="Setting_GetRealDesignSize",e[e.Shop_HaveUnLockGoods=1005]="Shop_HaveUnLockGoods"}(n.CallID||(n.CallID={})),cc._RF.pop()},{}],CameraManager:[function(e,t,n){"use strict";cc._RF.push(t,"f14309afZhERbNEEZgYLl1l","CameraManager"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../frame/Notifier"),i=e("../frame/NotifyID"),r=e("../frame/Time"),a=function(){function e(){this._zoomStart=!1,this._zoomOffset=cc.v2(0,0),this._zoomRatio=1,this._zoomSpeed=1,this._shakeStart=!1,this._shakeStrength=1,this._shakeDura=1,this._shakeTimeout=1,this._shakeSpeed=100,this._rawPosition=cc.Vec2.ZERO,o.Notifier.addListener(i.NotifyID.Game_Update,this.onUpdate,this)}return e.prototype.onSceneSwitchFinish=function(){this.initCamera(!0)},e.prototype.initCamera=function(e){void 0===e&&(e=!1),(e||null==this._cameraNode)&&(this._cameraNode=cc.find("Canvas/Main Camera"),null!=this._cameraNode&&(this._camera=this._cameraNode.getComponent(cc.Camera)))},Object.defineProperty(e.prototype,"camera",{get:function(){return this._camera},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"node",{get:function(){return this._cameraNode},enumerable:!0,configurable:!0}),e.prototype.setTarget=function(e){this.initCamera(!1),this._target=e},e.prototype.setZoom=function(e,t){this._zoomStart=!0,this._zoomRatio=e,this._zoomSpeed=t,this.initCamera(!1)},e.prototype.setShake=function(e,t,n){this._shakeStart=!0,this._shakeStrength=e,this._shakeDura=n,this._shakeTimeout=r.Time.time+n,this._shakeSpeed=t,this.initCamera(!1),this._cameraNode&&(this._rawPosition=this._cameraNode.position)},e.prototype.onUpdate=function(){this.follow(),this.zoom(),this.shake()},e.prototype.follow=function(){if(null!=this._target)if(null!=this._cameraNode){var e=this._zoomOffset,t=this._target.position.add(e);this._cameraNode.setPosition(t)}else cc.error("CameraManager.follow _cameraNode null")},e.prototype.zoom=function(){if(this._zoomStart)if(null!=this._camera){var e=this._camera.zoomRatio,t=this._zoomRatio;this._camera.zoomRatio=Math.lerp(e,t,this._zoomSpeed*r.Time.deltaTime),Math.abs(this._camera.zoomRatio-t)<.005&&(this._zoomStart=!1,this._camera.zoomRatio=t),this._zoomOffset.x=1334*(1-this._camera.zoomRatio)/5}else cc.error("CameraManager.zoom _camera null")},e.prototype.shake=function(){if(this._shakeStart)if(null!=this._cameraNode){if(this._shakeTimeout<r.Time.time)return this._shakeStart=!1,void(null==this._target&&this._cameraNode.setPosition(this._rawPosition));var e,t=Math.lerp(0,this._shakeStrength,(this._shakeTimeout-r.Time.time)/this._shakeDura),n=cc.v2(Math.sin(r.Time.time*this._shakeSpeed)*t,Math.cos(r.Time.time*this._shakeSpeed)*t);e=(e=null==this._target?this._rawPosition:this._cameraNode.position).add(n),this._cameraNode.setPosition(e)}else cc.error("CameraManager.shake _cameraNode null")},e.prototype.screenShot=function(e){void 0===e&&(e=null),this.initCamera(!1),null!=this._camera||cc.error("CameraManager.screenShot _camera null")},e}();n.CameraManager=a,cc._RF.pop()},{"../frame/Notifier":"Notifier","../frame/NotifyID":"NotifyID","../frame/Time":"Time"}],Cfg:[function(e,t,n){"use strict";cc._RF.push(t,"2fe13q4Sh5J07IbIdUmFvHo","Cfg");var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,r){function a(e){try{c(o.next(e))}catch(e){r(e)}}function s(e){try{c(o.throw(e))}catch(e){r(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}c((o=o.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(e){return function(t){return c([e,t])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,o=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(e){r=[6,e],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var r=e("./BarrierCfg"),a=e("./BossCfg"),s=e("./BulletCfg"),c=e("./DialCfg"),u=e("./DropCfg"),l=e("./GuideCfg"),f=e("./InviteCfg"),p=e("./MonsterCfg"),h=e("./NoticeCfg"),d=e("./SignCfg"),g=e("./SoundCfg"),_=e("./StrikeCfg"),m=e("./SurpriseCfg"),y=e("./TipsCfg"),v=e("./TreasurefixCfg"),S=e("./TreasureCfg"),w=e("./WeaponCfg"),C=e("./Const"),b=function(){function e(){this._Barrier=new r.BarrierCfgReader,this._Boss=new a.BossCfgReader,this._Bullet=new s.BulletCfgReader,this._Dial=new c.DialCfgReader,this._Drop=new u.DropCfgReader,this._Guide=new l.GuideCfgReader,this._Invite=new f.InviteCfgReader,this._Monster=new p.MonsterCfgReader,this._Notice=new h.NoticeCfgReader,this._Sign=new d.SignCfgReader,this._Sound=new g.SoundCfgReader,this._Strike=new _.StrikeCfgReader,this._Surprise=new m.SurpriseCfgReader,this._Tips=new y.TipsCfgReader,this._Treasurefix=new v.TreasurefixCfgReader,this._Treasure=new S.TreasureCfgReader,this._Weapon=new w.WeaponCfgReader}return Object.defineProperty(e.prototype,"Barrier",{get:function(){return this._Barrier},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Boss",{get:function(){return this._Boss},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Bullet",{get:function(){return this._Bullet},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Dial",{get:function(){return this._Dial},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Drop",{get:function(){return this._Drop},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Guide",{get:function(){return this._Guide},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Invite",{get:function(){return this._Invite},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Monster",{get:function(){return this._Monster},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Notice",{get:function(){return this._Notice},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Sign",{get:function(){return this._Sign},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Sound",{get:function(){return this._Sound},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Strike",{get:function(){return this._Strike},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Surprise",{get:function(){return this._Surprise},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Tips",{get:function(){return this._Tips},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Treasurefix",{get:function(){return this._Treasurefix},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Treasure",{get:function(){return this._Treasure},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Weapon",{get:function(){return this._Weapon},enumerable:!0,configurable:!0}),e.prototype.initByMergeJson=function(){return o(this,void 0,void 0,function(){var e=this;return i(this,function(t){return[2,new Promise(function(t,n){cc.loader.loadRes("config/GameJsonCfg",cc.JsonAsset,function(e,o){if(e)return cc.error("Cfg.initByMergeJson error",e),void n();var i=o.json;for(var r in i){if(this.hasOwnProperty("_"+r))this["_"+r].initByMap(i[r]);else cc.warn("Cfg.initByMergeJson null, "+r)}t()}.bind(e))})]})})},e.prototype.initBySingleJson=function(){return o(this,void 0,void 0,function(){var e=this;return i(this,function(t){return[2,new Promise(function(t,n){cc.loader.loadResDir("config",function(e,o,i){if(e)return cc.error("Cfg.initBySingleJson error",e),void n();for(var r=0;r<o.length;r++){var a=o[r],s=a.name;if(this.hasOwnProperty("_"+s))this["_"+s].initByMap(a.json);else cc.warn("Cfg.initBySingleJson null, "+s)}t()}.bind(e))})]})})},e.prototype.initRemoteJson=function(t,n,r){return o(this,void 0,void 0,function(){var o;return i(this,function(i){return o=this,[2,new Promise(function(i,a){cc.loader.load(C.Const.JsonRemoteUrl+t+".json",function(s,c){s?cc.loader.loadRes("config/"+t,cc.JsonAsset,function(t,s){t&&a("err");var c=s.name;o.hasOwnProperty("_"+c)||(cc.warn("Cfg.initRemoteJson null, "+c),a("err")),o["_"+c].initByMap(s.json),e.cfgLoadNum+=1,n&&(n.string=(e.cfgLoadNum>10?10:e.cfgLoadNum)+"%"),r&&(r.progress=(e.cfgLoadNum>10?10:e.cfgLoadNum)/100),i()}):(o.hasOwnProperty("_"+t)||(cc.warn("Cfg.initRemoteJson null, "+t),a("err")),o["_"+t].initByMap(c),i(),e.cfgLoadNum+=1,n&&(n.string=(e.cfgLoadNum>10?10:e.cfgLoadNum)+"%"),r&&(r.progress=(e.cfgLoadNum>10?10:e.cfgLoadNum)/100))})})]})})},e.prototype.initLocalJson=function(t,n,r){return o(this,void 0,void 0,function(){var o;return i(this,function(i){return o=this,[2,new Promise(function(i,a){cc.loader.loadRes("config/"+t,cc.JsonAsset,function(t,s){t&&a("err");var c=s.name;o.hasOwnProperty("_"+c)||(cc.warn("Cfg.initRemoteJson null, "+c),a("err")),o["_"+c].initByMap(s.json),e.cfgLoadNum+=1,n&&(n.string=(e.cfgLoadNum>10?10:e.cfgLoadNum)+"%"),r&&(r.progress=(e.cfgLoadNum>10?10:e.cfgLoadNum)/100),i()})})]})})},e.prototype.HasTag=function(e,t){return null!=e.tags&&e.tags.indexOf(t)>=0},e.prototype.selectArray=function(e,t,n,o){var i=e[t];return null==i?o:i[n]||o},e.cfgLoadNum=0,e}();n.Cfg=new b,cc._RF.pop()},{"./BarrierCfg":"BarrierCfg","./BossCfg":"BossCfg","./BulletCfg":"BulletCfg","./Const":"Const","./DialCfg":"DialCfg","./DropCfg":"DropCfg","./GuideCfg":"GuideCfg","./InviteCfg":"InviteCfg","./MonsterCfg":"MonsterCfg","./NoticeCfg":"NoticeCfg","./SignCfg":"SignCfg","./SoundCfg":"SoundCfg","./StrikeCfg":"StrikeCfg","./SurpriseCfg":"SurpriseCfg","./TipsCfg":"TipsCfg","./TreasureCfg":"TreasureCfg","./TreasurefixCfg":"TreasurefixCfg","./WeaponCfg":"WeaponCfg"}],CommonAlert:[function(e,t,n){"use strict";cc._RF.push(t,"a5092sHOMVNl4nWw6sxRDLa","CommonAlert");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../framework/MVCS"),a=e("../manager/Manager"),s=cc._decorator,c=s.ccclass,u=s.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.desc=null,t.cbConfirm=null,t}return o(t,e),t.prototype.start=function(){},t.prototype.changeListener=function(e){},t.prototype.onOpen=function(t){e.prototype.onOpen.call(this,t),this.desc.string=t.desc?t.desc:"",this.desc.node.parent.height=this.desc.node.height+250,this.cbConfirm=t&&t.errorcb},t.prototype.onClose=function(){a.Manager.audio.playAudio(1),e.prototype.onClose.call(this),this.cbConfirm&&this.cbConfirm()},i([u(cc.RichText)],t.prototype,"desc",void 0),t=i([c],t)}(r.MVCS.BaseView);n.default=l,cc._RF.pop()},{"../framework/MVCS":void 0,"../manager/Manager":"Manager"}],Common_Define:[function(e,t,n){"use strict";cc._RF.push(t,"495984wGvdMTYyBDlUaQuy4","Common_Define"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(){}return e.UserLogin="user/login",e.BoxTodo="user/boxsTodo",e.MatchPlayer="user/getRandomUser",e.BattleFinish="user/battleFinish",e.GoodsUp="user/goodsUp",e.GetUser="/v1/custom_data",e.UpdateUser="/v1/custom_data",e.Report="report",e.Reform="reform",e.GetJWT="getJWT",e.updateRankScore="ranklist",e.getRankList="ranklist",e.UpdateReform="user/reform",e.testUpdate="user/testUpdate",e.serverTime="serverTime",e}();n.Common_HttpInterface=o;var i=function(){function e(){}return e.SettingUI="ui/setting/SettingView",e.MenuUI="ui/menu/MenuView",e.FightUI="ui/fight/FightUI",e.ResultUI="ui/result/ResultView",e.ReliveUI="ui/fight/ReliveView",e.PauseUI="ui/fight/PauseView",e.ShopUI="ui/shop/ShopView",e.MoreGoldUI="ui/moregold/MoreGoldView",e.InviteAndServiceUI="ui/moregold/InviteAndService",e.GroupUI="ui/group/GroupView",e.GetRewardUI="ui/common/GetRewardPanel",e.GetDiamondUI="ui/common/GetDiamondPanel",e.ExchangeDiamondUI="ui/common/ExchangeDiamond",e.GetFreeGold="ui/common/GetFreeGold",e.GetFreeWeapon="ui/common/GetFreeWeapon",e.GetExtraReward="ui/common/GetExtraReward",e.InviteWeaponUI="ui/common/InviteWeaponUI",e.ReliveTipsUI="ui/common/ReliveTipsUI",e.CheatUI="ui/cheat/CheatView",e.GuideUI="ui/guide/GuideView",e.AnimationGuideView="ui/guide/AnimationGuideView",e.ResultNewUI="ui/result/ResultNewView",e.DrawUI="ui/draw/DrawView",e.MainDrawUI="ui/draw/MainDrawView",e.ServiceUI="ui/service/ServiceView",e.NoticeUI="ui/notice/NoticeView",e.TimeGold="ui/common/GetTimeGold",e.InviteUI="ui/invite/InvitePanel",e.RankUI="ui/rank/RankView",e.SurpassFriend="ui/rank/SurpassFriendView",e.ExchangePowerUI="ui/common/ExchangePower",e.WeaponRewardUI="ui/common/WeaponReward",e.BannerPanel="ui/common/BannerPanel",e.DSPPanel="ui/dsp/DSPPanel",e.MemberUI="ui/member/MemberView",e.MemberRewardView="ui/member/MemberRewardView",e.MenuIOSBtnView="ui/menu/MenuIOSButtonView",e.GetRewardOtherUI="ui/common/GetRewardOtherUI",e.RecordVideoUI="ui/ZiJie/ZiJieRecord",e.UpgradePanelUI="ui/common/UpgradePanel",e.BossRankUI="ui/boss/BossView",e.BossHelpUI="ui/boss/BossHelpView",e}();n.Common_UIPath=i;var r=function(){function e(){}return e.result="result",e.regular="regular",e.invite="invite",e.shop="shop",e.service="service",e.home="home",e.box="box",e.rank="rank",e.gunAway="gunAway",e.gunTry="gunTry",e.bossresult="bossresult",e}();n.ShareCode=r;var a=function(){function e(){}return e.inviteReward="\u5206\u4eab\u9080\u8bf7\u8fdb\u5165\u6e38\u620f",e}();n.ShareScene=a,cc._RF.pop()},{}],Const:[function(e,t,n){"use strict";cc._RF.push(t,"20c56SGjRNACKMViIMNXM0K","Const"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../sdk/hd_module/config/AppConfig");(function(e){e.APP_ID="wxc93ee93882288748",e.designWidth=720,e.designHeight=1280,e.GAME_SCENENAME="GameScene",e.GameName="\u70ed\u8840\u730e\u624b",e.SHOW_LOG=!0,e.STORAGE_SETTING="setting",e.STORAGE_NEWUSER="newuser",e.STORAGE_LOADMENU="loadmenu",e.JsonRemoteUrl="https://cdn.heidong.fun/gameres/t3/p1/release/zijie/"+o.appConfig.app_version+"/config/",e.GroupDefault="Default",e.GroupTerrain="Terrain",e.GroupDecorate="Decorate",e.GroupMainRole="MainRole",e.GroupMonster="Monster",e.GroupBomb="Bomb",e.GroupBullet="Bullet",e.GroupTool="Tool",e.GroupUI="UI"})(n.Const||(n.Const={})),cc._RF.pop()},{"../../sdk/hd_module/config/AppConfig":void 0}],DefaultTransition:[function(e,t,n){"use strict";cc._RF.push(t,"e250aK4y1pPnoYk+5fS3MMl","DefaultTransition"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(){this.isClean=!1}return e.prototype.init=function(e,t){this._node=e,this.isClean=t},e.prototype.show=function(){var e=this;return new Promise(function(t){null!=e._node&&(e._node.active=!0,t())})},e.prototype.hide=function(){null!=this._node&&(this.isClean?this._node.destroy():this._node.active=!1)},e}();n.DefaultTransition=o,cc._RF.pop()},{}],DialCfg:[function(e,t,n){"use strict";cc._RF.push(t,"d09c1ivdCFMP4rtqGboLMia","DialCfg");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._name="Dial",t}return o(t,e),t}(e("./TConfig").TConfig);n.DialCfgReader=i,cc._RF.pop()},{"./TConfig":"TConfig"}],DropCfg:[function(e,t,n){"use strict";cc._RF.push(t,"aaaf9usWX5Gr5tnMbk5Bbjp","DropCfg");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._name="Drop",t}return o(t,e),t}(e("./TConfig").TConfig);n.DropCfgReader=i,cc._RF.pop()},{"./TConfig":"TConfig"}],EffectUtils:[function(e,t,n){"use strict";cc._RF.push(t,"19678NP0sBOkYs0FcV9PgUr","EffectUtils"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(){}return e.getInstance=function(){return e._instance||(e._instance=new e),e._instance},e.prototype.shakeObj=function(e,t){void 0===t&&(t=3),e&&e.runAction(cc.repeatForever(cc.sequence(cc.rotateTo(.15,10),cc.rotateTo(.15,-10),cc.rotateTo(.1,8),cc.rotateTo(.1,-8),cc.rotateTo(.1,4),cc.rotateTo(.1,-4),cc.rotateTo(.08,0),cc.delayTime(t))))},e.prototype.playScaleEffect=function(e,t,n){void 0===t&&(t=.1),void 0===n&&(n=.5);var o,i=e.scaleX,r=e.scaleY,a=function(){if(e&&!e.destroyed){e.scaleX=i*(1-t),e.scaleY=r*(1-t);var a=cc.scaleTo(n,i*t,r*t),s=cc.sequence(a,cc.callFunc(o));e&&e.runAction(s)}};(o=function(){if(e&&!e.destroyed){e.scaleX=i*(1+t),e.scaleY=r*(1+t);var o=cc.scaleTo(n,i*t,r*t),s=cc.sequence(o,cc.callFunc(a));e&&e.runAction(s)}})()},e}();n.EffectUtils=o,cc._RF.pop()},{}],EventManager:[function(e,t,n){"use strict";cc._RF.push(t,"7e6fdcFiSdGGZDmuaQRzQst","EventManager"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(){}return e.on=function(e,t,n){if(!e||!n)throw new Error("EventUtil must have type and target. type:"+e+" target:"+n);void 0===this._eventMap.get(e)&&this._eventMap.set(e,new Map),this._eventMap.get(e).set(n,{callback:t,target:n})},e.emit=function(e,t){var n=this._eventMap.get(e);void 0!==n?n.forEach(function(e,n){e.callback.call(e.target,t)}):console.warn("\u6ca1\u6709\u627e\u5230\u5168\u5c40\u4e8b\u4ef6\uff1a"+e)},e.off=function(e,t){var n=this._eventMap.get(e);if(void 0!==n){for(var o=void 0,i=0,r=Array.from(n.entries());i<r.length;i++){var a=r[i];if(a[1].target===t){o=a[0];break}}o&&n.delete(o)}},e.offType=function(e){this._eventMap.delete(e)},e.offTarget=function(e){this._eventMap.forEach(function(t,n){var o=[];t.forEach(function(t,n){t.target===e&&o.push(n)}),o.forEach(function(e){return t.delete(e)})})},e._eventMap=new Map,e}();n.EventManager=o,cc._RF.pop()},{}],FontSheet:[function(e,t,n){"use strict";cc._RF.push(t,"bca2buYGcpAPIOjaxEJ+ZGW","FontSheet");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,a=r.ccclass,s=r.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.fonts=[],t}return o(t,e),t.prototype.get=function(e){return e>this.fonts.length?(cc.error(this.node.name,"FontSheet.get out range:",e,this.fonts.length),this.fonts[0]):this.fonts[e]},i([s(cc.Font)],t.prototype,"fonts",void 0),t=i([a],t)}(cc.Component);n.FontSheet=c,cc._RF.pop()},{}],GameSwitchVo:[function(e,t,n){"use strict";cc._RF.push(t,"adae0zJbVFFlqbvqdb3kNYk","GameSwitchVo"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(){this.result=!0,this.shop=!1,this.relive=!1,this.invite=!1,this.box=!1,this.dsp=!1,this.banner=!1,this.sign=!1,this.extraReward=!1,this.freeGold=!1,this.shareContorller=!1,this.gunAway=!1,this.signWeapon=!1,this.animationGuide=!0}return e.prototype.updateSwitchVo=function(e){Object.getOwnPropertyNames(this).forEach(function(t){e.hasOwnProperty(t)&&(this[t]=e[t])}.bind(this))},e}();n.GameSwitchVo=o,cc._RF.pop()},{}],GameVoManager:[function(e,t,n){"use strict";cc._RF.push(t,"dacfb2Pvm1FC6y188onfShJ","GameVoManager"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../shareData/UserVo"),i=e("../shareData/GameSwitchVo"),r=e("../adpapter/NetAdapter"),a=function(){function e(){this.myUserVo=new o.UserVo,this._gameSwitchVo=new i.GameSwitchVo}return Object.defineProperty(e.prototype,"gameSwitchVo",{get:function(){return this._gameSwitchVo},enumerable:!0,configurable:!0}),Object.defineProperty(e,"getInstance",{get:function(){return null==e._instance&&(e._instance=new e),e._instance},enumerable:!0,configurable:!0}),e.prototype.updateSwitchVo=function(e){this._gameSwitchVo.updateSwitchVo(e)},e.prototype.saveData=function(){var t={type:1,custom_data:e.getInstance.myUserVo.serialize()};r.default.putKVData(t)},e._instance=null,e}();n.GameVoManager=a,cc._RF.pop()},{"../adpapter/NetAdapter":"NetAdapter","../shareData/GameSwitchVo":"GameSwitchVo","../shareData/UserVo":"UserVo"}],Global:[function(e,t,n){"use strict";cc._RF.push(t,"7643drut9FIzoOY4WR9YnUM","Global");var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};window.toJson=function(e,t,n){var i=[],r=JSON.stringify(e,function(e,n){if(null==t||-1===t.indexOf(e)){if("object"===(void 0===n?"undefined":o(n))&&null!==n){if(-1!==i.indexOf(n))return;i.push(n)}return n}},n);return i=null,r},window.toArray=function(e){var t=[];if(null===e||"object"!==(void 0===e?"undefined":o(e)))return t;for(var n in e){var i=e[n];t.push(i)}return t},window.copy=function(e){if(null===e||"object"!==(void 0===e?"undefined":o(e)))return e;var t=Array.isArray(e)?[]:{};return Object.keys(e).forEach(function(n){t[n]=e[n]}),t},window.deepCopy=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(null===e||"object"!==(void 0===e?"undefined":o(e)))return e;var n=function(e,t){return e.filter(t)[0]}(t,function(t){return t.original===e});if(n)return n.copy;var i=Array.isArray(e)?[]:{};return t.push({original:e,copy:i}),Object.keys(e).forEach(function(n){i[n]=deepCopy(e[n],t)}),i},window.isNullOrEmpty=function(e){if(null==e)return!0;if(""==e)return!0;var t=void 0===e?"undefined":o(e);return"string"!=t&&"number"!=t&&cc.error("isNullOrEmpty error type",e),!1},window.isInteger=function(e){return!isNaN(e)&&e%1==0},window.assign=function(e,t){null!==t&&"object"===(void 0===t?"undefined":o(t))&&null!==e&&"object"===(void 0===e?"undefined":o(e))&&Object.keys(t).forEach(function(n){e[n]=t[n]})},window.costFormat=function(e,t,n){return null==n&&(n="FFFFFF"),e>=t?"<color=#"+n+">"+e+"/"+t+"</c>":"<color=#FF0000>"+e+"</c><color=#"+n+">/"+t+"</c>"},window.shortFormat=function(e){return e<1e4?e.toString():e<1e8?(e/1e4).toFixed(1)+"\u4e07":(e/1e8).toFixed(1)+"\u4ebf"};window.timeoutFormat=function(e){if((e=Math.floor(e))<60)return[e+"\u79d2",1];if(e<3600)return[Math.floor(e/60)+"\u5206"+e%60+"\u79d2",1];if(e<86400){var t=e%3600;return[Math.floor(e/3600)+"\u5c0f\u65f6"+Math.floor(t/60)+"\u5206",t%=60]}var n=e%86400;return[Math.floor(e/86400)+"\u5929"+Math.floor(n/3600)+"\u5c0f\u65f6",n%=3600]},cc._RF.pop()},{}],GuideCfg:[function(e,t,n){"use strict";cc._RF.push(t,"375cd+Xi8xHH7eS1//uLhKK","GuideCfg");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._name="Guide",t}return o(t,e),t}(e("./TConfig").TConfig);n.GuideCfgReader=i,cc._RF.pop()},{"./TConfig":"TConfig"}],1:[function(e,t,n){"use strict";n.byteLength=function(e){var t=u(e),n=t[0],o=t[1];return 3*(n+o)/4-o},n.toByteArray=function(e){for(var t,n=u(e),o=n[0],a=n[1],s=new r(l(e,o,a)),c=0,f=a>0?o-4:o,p=0;p<f;p+=4)t=i[e.charCodeAt(p)]<<18|i[e.charCodeAt(p+1)]<<12|i[e.charCodeAt(p+2)]<<6|i[e.charCodeAt(p+3)],s[c++]=t>>16&255,s[c++]=t>>8&255,s[c++]=255&t;2===a&&(t=i[e.charCodeAt(p)]<<2|i[e.charCodeAt(p+1)]>>4,s[c++]=255&t);1===a&&(t=i[e.charCodeAt(p)]<<10|i[e.charCodeAt(p+1)]<<4|i[e.charCodeAt(p+2)]>>2,s[c++]=t>>8&255,s[c++]=255&t);return s},n.fromByteArray=function(e){for(var t,n=e.length,i=n%3,r=[],a=0,s=n-i;a<s;a+=16383)r.push(p(e,a,a+16383>s?s:a+16383));1===i?(t=e[n-1],r.push(o[t>>2]+o[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],r.push(o[t>>10]+o[t>>4&63]+o[t<<2&63]+"="));return r.join("")};for(var o=[],i=[],r="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,c=a.length;s<c;++s)o[s]=a[s],i[a.charCodeAt(s)]=s;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function l(e,t,n){return 3*(t+n)/4-n}function f(e){return o[e>>18&63]+o[e>>12&63]+o[e>>6&63]+o[63&e]}function p(e,t,n){for(var o,i=[],r=t;r<n;r+=3)o=(e[r]<<16&16711680)+(e[r+1]<<8&65280)+(255&e[r+2]),i.push(f(o));return i.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},{}],2:[function(e,t,n){(function(t){"use strict";var o=e("base64-js"),i=e("ieee754"),r=e("isarray");function a(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=c.prototype:(null===e&&(e=new c(t)),e.length=t),e}function c(e,t,n){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return p(this,e)}return u(this,e,t,n)}function u(e,t,n,o){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?g(e,t,n,o):"string"==typeof t?h(e,t,n):_(e,t)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function f(e,t,n,o){return l(t),t<=0?s(e,t):void 0!==n?"string"==typeof o?s(e,t).fill(n,o):s(e,t).fill(n):s(e,t)}function p(e,t){if(l(t),e=s(e,t<0?0:0|m(t)),!c.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function h(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!c.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var o=0|y(t,n),i=(e=s(e,o)).write(t,n);return i!==o&&(e=e.slice(0,i)),e}function d(e,t){var n=t.length<0?0:0|m(t.length);e=s(e,n);for(var o=0;o<n;o+=1)e[o]=255&t[o];return e}function g(e,t,n,o){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(o||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===o?new Uint8Array(t):void 0===o?new Uint8Array(t,n):new Uint8Array(t,n,o),c.TYPED_ARRAY_SUPPORT?(e=t).__proto__=c.prototype:e=d(e,t),e}function _(e,t){if(c.isBuffer(t)){var n=0|m(t.length);return 0===(e=s(e,n)).length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||$(t.length)?s(e,0):d(e,t);if("Buffer"===t.type&&r(t.data))return d(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function m(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function y(e,t){if(c.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var o=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return K(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return Z(e).length;default:if(o)return K(e).length;t=(""+t).toLowerCase(),o=!0}}function v(e,t,n){var o=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return U(this,t,n);case"utf8":case"utf-8":return k(this,t,n);case"ascii":return R(this,t,n);case"latin1":case"binary":return E(this,t,n);case"base64":return P(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F(this,t,n);default:if(o)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),o=!0}}function S(e,t,n){var o=e[t];e[t]=e[n],e[n]=o}function w(e,t,n,o,i){if(0===e.length)return-1;if("string"==typeof n?(o=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=c.from(t,o)),c.isBuffer(t))return 0===t.length?-1:C(e,t,n,o,i);if("number"==typeof t)return t&=255,c.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):C(e,[t],n,o,i);throw new TypeError("val must be string, number or Buffer")}function C(e,t,n,o,i){var r,a=1,s=e.length,c=t.length;if(void 0!==o&&("ucs2"===(o=String(o).toLowerCase())||"ucs-2"===o||"utf16le"===o||"utf-16le"===o)){if(e.length<2||t.length<2)return-1;a=2,s/=2,c/=2,n/=2}function u(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var l=-1;for(r=n;r<s;r++)if(u(e,r)===u(t,-1===l?0:r-l)){if(-1===l&&(l=r),r-l+1===c)return l*a}else-1!==l&&(r-=r-l),l=-1}else for(n+c>s&&(n=s-c),r=n;r>=0;r--){for(var f=!0,p=0;p<c;p++)if(u(e,r+p)!==u(t,p)){f=!1;break}if(f)return r}return-1}function b(e,t,n,o){n=Number(n)||0;var i=e.length-n;o?(o=Number(o))>i&&(o=i):o=i;var r=t.length;if(r%2!=0)throw new TypeError("Invalid hex string");o>r/2&&(o=r/2);for(var a=0;a<o;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function M(e,t,n,o){return X(K(t,e.length-n),e,n,o)}function I(e,t,n,o){return X(Y(t),e,n,o)}function A(e,t,n,o){return I(e,t,n,o)}function T(e,t,n,o){return X(Z(t),e,n,o)}function O(e,t,n,o){return X(Q(t,e.length-n),e,n,o)}function P(e,t,n){return 0===t&&n===e.length?o.fromByteArray(e):o.fromByteArray(e.slice(t,n))}function k(e,t,n){n=Math.min(e.length,n);for(var o=[],i=t;i<n;){var r,a,s,c,u=e[i],l=null,f=u>239?4:u>223?3:u>191?2:1;if(i+f<=n)switch(f){case 1:u<128&&(l=u);break;case 2:128==(192&(r=e[i+1]))&&(c=(31&u)<<6|63&r)>127&&(l=c);break;case 3:r=e[i+1],a=e[i+2],128==(192&r)&&128==(192&a)&&(c=(15&u)<<12|(63&r)<<6|63&a)>2047&&(c<55296||c>57343)&&(l=c);break;case 4:r=e[i+1],a=e[i+2],s=e[i+3],128==(192&r)&&128==(192&a)&&128==(192&s)&&(c=(15&u)<<18|(63&r)<<12|(63&a)<<6|63&s)>65535&&c<1114112&&(l=c)}null===l?(l=65533,f=1):l>65535&&(l-=65536,o.push(l>>>10&1023|55296),l=56320|1023&l),o.push(l),i+=f}return L(o)}n.Buffer=c,n.SlowBuffer=function(e){+e!=e&&(e=0);return c.alloc(+e)},n.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),n.kMaxLength=a(),c.poolSize=8192,c._augment=function(e){return e.__proto__=c.prototype,e},c.from=function(e,t,n){return u(null,e,t,n)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(e,t,n){return f(null,e,t,n)},c.allocUnsafe=function(e){return p(null,e)},c.allocUnsafeSlow=function(e){return p(null,e)},c.isBuffer=function(e){return!(null==e||!e._isBuffer)},c.compare=function(e,t){if(!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,o=t.length,i=0,r=Math.min(n,o);i<r;++i)if(e[i]!==t[i]){n=e[i],o=t[i];break}return n<o?-1:o<n?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!r(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var o=c.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var a=e[n];if(!c.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(o,i),i+=a.length}return o},c.byteLength=y,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)S(this,t,t+1);return this},c.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)S(this,t,t+3),S(this,t+1,t+2);return this},c.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)S(this,t,t+7),S(this,t+1,t+6),S(this,t+2,t+5),S(this,t+3,t+4);return this},c.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?k(this,0,e):v.apply(this,arguments)},c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){var e="",t=n.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},c.prototype.compare=function(e,t,n,o,i){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===o&&(o=0),void 0===i&&(i=this.length),t<0||n>e.length||o<0||i>this.length)throw new RangeError("out of range index");if(o>=i&&t>=n)return 0;if(o>=i)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,o>>>=0,i>>>=0,this===e)return 0;for(var r=i-o,a=n-t,s=Math.min(r,a),u=this.slice(o,i),l=e.slice(t,n),f=0;f<s;++f)if(u[f]!==l[f]){r=u[f],a=l[f];break}return r<a?-1:a<r?1:0},c.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},c.prototype.indexOf=function(e,t,n){return w(this,e,t,n,!0)},c.prototype.lastIndexOf=function(e,t,n){return w(this,e,t,n,!1)},c.prototype.write=function(e,t,n,o){if(void 0===t)o="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)o=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===o&&(o="utf8")):(o=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");o||(o="utf8");for(var r=!1;;)switch(o){case"hex":return b(this,e,t,n);case"utf8":case"utf-8":return M(this,e,t,n);case"ascii":return I(this,e,t,n);case"latin1":case"binary":return A(this,e,t,n);case"base64":return T(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,e,t,n);default:if(r)throw new TypeError("Unknown encoding: "+o);o=(""+o).toLowerCase(),r=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var D=4096;function L(e){var t=e.length;if(t<=D)return String.fromCharCode.apply(String,e);for(var n="",o=0;o<t;)n+=String.fromCharCode.apply(String,e.slice(o,o+=D));return n}function R(e,t,n){var o="";n=Math.min(e.length,n);for(var i=t;i<n;++i)o+=String.fromCharCode(127&e[i]);return o}function E(e,t,n){var o="";n=Math.min(e.length,n);for(var i=t;i<n;++i)o+=String.fromCharCode(e[i]);return o}function U(e,t,n){var o=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>o)&&(n=o);for(var i="",r=t;r<n;++r)i+=J(e[r]);return i}function F(e,t,n){for(var o=e.slice(t,n),i="",r=0;r<o.length;r+=2)i+=String.fromCharCode(o[r]+256*o[r+1]);return i}function N(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function B(e,t,n,o,i,r){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<r)throw new RangeError('"value" argument is out of bounds');if(n+o>e.length)throw new RangeError("Index out of range")}function j(e,t,n,o){t<0&&(t=65535+t+1);for(var i=0,r=Math.min(e.length-n,2);i<r;++i)e[n+i]=(t&255<<8*(o?i:1-i))>>>8*(o?i:1-i)}function x(e,t,n,o){t<0&&(t=4294967295+t+1);for(var i=0,r=Math.min(e.length-n,4);i<r;++i)e[n+i]=t>>>8*(o?i:3-i)&255}function V(e,t,n,o,i,r){if(n+o>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function H(e,t,n,o,r){return r||V(e,0,n,4),i.write(e,t,n,o,23,4),n+4}function G(e,t,n,o,r){return r||V(e,0,n,8),i.write(e,t,n,o,52,8),n+8}c.prototype.slice=function(e,t){var n,o=this.length;if(e=~~e,t=void 0===t?o:~~t,e<0?(e+=o)<0&&(e=0):e>o&&(e=o),t<0?(t+=o)<0&&(t=0):t>o&&(t=o),t<e&&(t=e),c.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=c.prototype;else{var i=t-e;n=new c(i,void 0);for(var r=0;r<i;++r)n[r]=this[r+e]}return n},c.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||N(e,t,this.length);for(var o=this[e],i=1,r=0;++r<t&&(i*=256);)o+=this[e+r]*i;return o},c.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||N(e,t,this.length);for(var o=this[e+--t],i=1;t>0&&(i*=256);)o+=this[e+--t]*i;return o},c.prototype.readUInt8=function(e,t){return t||N(e,1,this.length),this[e]},c.prototype.readUInt16LE=function(e,t){return t||N(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUInt16BE=function(e,t){return t||N(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUInt32LE=function(e,t){return t||N(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUInt32BE=function(e,t){return t||N(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||N(e,t,this.length);for(var o=this[e],i=1,r=0;++r<t&&(i*=256);)o+=this[e+r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},c.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||N(e,t,this.length);for(var o=t,i=1,r=this[e+--o];o>0&&(i*=256);)r+=this[e+--o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},c.prototype.readInt8=function(e,t){return t||N(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){t||N(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(e,t){t||N(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(e,t){return t||N(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return t||N(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readFloatLE=function(e,t){return t||N(e,4,this.length),i.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return t||N(e,4,this.length),i.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return t||N(e,8,this.length),i.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return t||N(e,8,this.length),i.read(this,e,!1,52,8)},c.prototype.writeUIntLE=function(e,t,n,o){(e=+e,t|=0,n|=0,o)||B(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,r=0;for(this[t]=255&e;++r<n&&(i*=256);)this[t+r]=e/i&255;return t+n},c.prototype.writeUIntBE=function(e,t,n,o){(e=+e,t|=0,n|=0,o)||B(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,r=1;for(this[t+i]=255&e;--i>=0&&(r*=256);)this[t+i]=e/r&255;return t+n},c.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||B(this,e,t,1,255,0),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},c.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||B(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):j(this,e,t,!0),t+2},c.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||B(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):j(this,e,t,!1),t+2},c.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||B(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):x(this,e,t,!0),t+4},c.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||B(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):x(this,e,t,!1),t+4},c.prototype.writeIntLE=function(e,t,n,o){if(e=+e,t|=0,!o){var i=Math.pow(2,8*n-1);B(this,e,t,n,i-1,-i)}var r=0,a=1,s=0;for(this[t]=255&e;++r<n&&(a*=256);)e<0&&0===s&&0!==this[t+r-1]&&(s=1),this[t+r]=(e/a>>0)-s&255;return t+n},c.prototype.writeIntBE=function(e,t,n,o){if(e=+e,t|=0,!o){var i=Math.pow(2,8*n-1);B(this,e,t,n,i-1,-i)}var r=n-1,a=1,s=0;for(this[t+r]=255&e;--r>=0&&(a*=256);)e<0&&0===s&&0!==this[t+r+1]&&(s=1),this[t+r]=(e/a>>0)-s&255;return t+n},c.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||B(this,e,t,1,127,-128),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||B(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):j(this,e,t,!0),t+2},c.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||B(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):j(this,e,t,!1),t+2},c.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||B(this,e,t,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):x(this,e,t,!0),t+4},c.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||B(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):x(this,e,t,!1),t+4},c.prototype.writeFloatLE=function(e,t,n){return H(this,e,t,!0,n)},c.prototype.writeFloatBE=function(e,t,n){return H(this,e,t,!1,n)},c.prototype.writeDoubleLE=function(e,t,n){return G(this,e,t,!0,n)},c.prototype.writeDoubleBE=function(e,t,n){return G(this,e,t,!1,n)},c.prototype.copy=function(e,t,n,o){if(n||(n=0),o||0===o||(o=this.length),t>=e.length&&(t=e.length),t||(t=0),o>0&&o<n&&(o=n),o===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(o<0)throw new RangeError("sourceEnd out of bounds");o>this.length&&(o=this.length),e.length-t<o-n&&(o=e.length-t+n);var i,r=o-n;if(this===e&&n<t&&t<o)for(i=r-1;i>=0;--i)e[i+t]=this[i+n];else if(r<1e3||!c.TYPED_ARRAY_SUPPORT)for(i=0;i<r;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+r),t);return r},c.prototype.fill=function(e,t,n,o){if("string"==typeof e){if("string"==typeof t?(o=t,t=0,n=this.length):"string"==typeof n&&(o=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==o&&"string"!=typeof o)throw new TypeError("encoding must be a string");if("string"==typeof o&&!c.isEncoding(o))throw new TypeError("Unknown encoding: "+o)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var r;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(r=t;r<n;++r)this[r]=e;else{var a=c.isBuffer(e)?e:K(new c(e,o).toString()),s=a.length;for(r=0;r<n-t;++r)this[r+t]=a[r%s]}return this};var q=/[^+\/0-9A-Za-z-_]/g;function z(e){if((e=W(e).replace(q,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}function W(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function J(e){return e<16?"0"+e.toString(16):e.toString(16)}function K(e,t){var n;t=t||1/0;for(var o=e.length,i=null,r=[],a=0;a<o;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&r.push(239,191,189);continue}if(a+1===o){(t-=3)>-1&&r.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&r.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&r.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;r.push(n)}else if(n<2048){if((t-=2)<0)break;r.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;r.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;r.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return r}function Y(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function Q(e,t){for(var n,o,i,r=[],a=0;a<e.length&&!((t-=2)<0);++a)o=(n=e.charCodeAt(a))>>8,i=n%256,r.push(i),r.push(o);return r}function Z(e){return o.toByteArray(z(e))}function X(e,t,n,o){for(var i=0;i<o&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function $(e){return e!=e}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"base64-js":1,ieee754:4,isarray:3}],3:[function(e,t,n){var o={}.toString;t.exports=Array.isArray||function(e){return"[object Array]"==o.call(e)}},{}],4:[function(e,t,n){n.read=function(e,t,n,o,i){var r,a,s=8*i-o-1,c=(1<<s)-1,u=c>>1,l=-7,f=n?i-1:0,p=n?-1:1,h=e[t+f];for(f+=p,r=h&(1<<-l)-1,h>>=-l,l+=s;l>0;r=256*r+e[t+f],f+=p,l-=8);for(a=r&(1<<-l)-1,r>>=-l,l+=o;l>0;a=256*a+e[t+f],f+=p,l-=8);if(0===r)r=1-u;else{if(r===c)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,o),r-=u}return(h?-1:1)*a*Math.pow(2,r-o)},n.write=function(e,t,n,o,i,r){var a,s,c,u=8*r-i-1,l=(1<<u)-1,f=l>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=o?0:r-1,d=o?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-a))<1&&(a--,c*=2),(t+=a+f>=1?p/c:p*Math.pow(2,1-f))*c>=2&&(a++,c/=2),a+f>=l?(s=0,a=l):a+f>=1?(s=(t*c-1)*Math.pow(2,i),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;e[n+h]=255&s,h+=d,s/=256,i-=8);for(a=a<<i|s,u+=i;u>0;e[n+h]=255&a,h+=d,a/=256,u-=8);e[n+h-d]|=128*g}},{}],IConfig:[function(e,t,n){"use strict";cc._RF.push(t,"4d319HO+5FDeIvDzAJHofD1","IConfig"),cc._RF.pop()},{}],ILoader:[function(e,t,n){"use strict";cc._RF.push(t,"678d1YB5q1Ik5WRbnrlekix","ILoader"),Object.defineProperty(n,"__esModule",{value:!0}),cc._RF.pop()},{}],InviteCfg:[function(e,t,n){"use strict";cc._RF.push(t,"b076e6QwGVLJYe6q3y/guGv","InviteCfg");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._name="Invite",t}return o(t,e),t}(e("./TConfig").TConfig);n.InviteCfgReader=i,cc._RF.pop()},{"./TConfig":"TConfig"}],JsBridgeIOS:[function(e,t,n){"use strict";cc._RF.push(t,"d9c2eTerDJCg7+XDCohOpuu","JsBridgeIOS"),Object.defineProperty(n,"__esModule",{value:!0});var o=window.jsb?jsb.reflection.callStaticMethod:function(){},i=function(){function e(){}return e.init=function(){},e.vibrateShort=function(){this._OCCall("vibrateShort")},e.agentSDKLogin=function(e){this._loginCallBack=e,this._OCCall("agentSDKLogin")},e.agentSDKLoginCallBack=function(e){this._userInfo=e,this._loginCallBack&&this._loginCallBack(e)},e.getDevicesInfo=function(){},e.inAppPurchaseWithOrderInfo=function(){var e=this;return new Promise(function(t){e._inAppPurchaseCallBack=t,e._OCCall("inAppPurchaseWithOrderInfo"),e.inAppPurchaseWithOrderInfoCallBack()})},e.inAppPurchaseWithOrderInfoCallBack=function(){this._inAppPurchaseCallBack&&this._inAppPurchaseCallBack(),this._inAppPurchaseCallBack=null},e._className="HDModule",e._userInfo=null,e._OCCall=function(t){o(e._className,t)},e._loginCallBack=null,e._inAppPurchaseCallBack=null,e}();n.default=i,cc.nativeIOS={agentSDKLoginCallBack:function(e){var t=JSON.parse(e);i.agentSDKLoginCallBack(t)}},cc._RF.pop()},{}],JsBridge:[function(e,t,n){"use strict";cc._RF.push(t,"d79e4op3A5N4oyOH26SBsZB","JsBridge"),Object.defineProperty(n,"__esModule",{value:!0});var o=window.jsb?jsb.reflection.callStaticMethod:function(){},i=function(){function e(){}return e.init=function(){o(this.defaultClassPah,"init","()V")},e.vibrateShort=function(){o(this.defaultClassPah,"vibrateShort","(I)V",100)},e.getDevicesInfo=function(){var e={},t=o(this.defaultClassPah,"getDevicesInfo","()Ljava/lang/String;");if(t){var n=t.split("\n");if(n)for(var i=0;i<n.length;++i)if(n[i]){var r=n[i].split(" = ");r&&(e[r[0]]=r[1])}}return e},e.defaultClassPah="org/cocos2dx/javascript/HdModule",e}();n.default=i,cc._RF.pop()},{}],Launcher:[function(e,t,n){"use strict";cc._RF.push(t,"0e194dZjXpFuI8UNrzMwMrD","Launcher");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,r){function a(e){try{c(o.next(e))}catch(e){r(e)}}function s(e){try{c(o.throw(e))}catch(e){r(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}c((o=o.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var n,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(e){return function(t){return c([e,t])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,o=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(e){r=[6,e],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,c=s.ccclass,u=s.property,l=e("./NetLauncher"),f=e("./ModuleLauncher"),p=e("../manager/Manager"),h=e("../config/Cfg"),d=e("../utils/Util"),g=e("../adpapter/NetAdapter"),_=e("../alert/AlertManager"),m=e("../frame/Time"),y=e("../sdk/hd_module/config/AppConfig"),v=e("./UILauncher"),S=e("../sdk/hd_module/hd_module"),w=e("./SdkLauncher"),C=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.progress=null,t.text=null,t.progressText=null,t.version=null,t.progressNum=0,t.loadTime=0,t.count=0,t.downtime=.5,t.loadState=0,t.stateStr=["\u6b63\u5728  \u9996\u6b21\u5b89\u88c5\u4e0b\u8f7d","\u6b63\u5728  \u521d\u59cb\u5316\u8d44\u6e90","\u6b63\u5728  \u767b\u5f55\u4fe1\u606f","\u6b63\u5728 \u4e0b\u8f7d2D\u8d44\u6e90"],t.onloadTime=5/8,t.sdklauncher=null,t}return o(t,e),t.prototype.onLoad=function(){cc.game.addPersistRootNode(this.node)},t.prototype.start=function(){this.version&&(this.version.string="ver:"+y.appConfig.app_version);var e=cc.director.getScene().children[1].getChildByName("bg");d.Util.resizeNode(e),this.schedule(function(){g.default.onlineTime(10)},10),new v.UILanuncher,new l.NetLauncher,this.login()},t.prototype.login=function(){var e=this;S.HD_MODULE.PLATFORM.silenceLogin().then(function(t){e.loadConfig()}).catch(function(t){_.AlertManager.showAlert(_.AlertType.NET_ERROR,{errorcb:function(){e.login()}})})},t.prototype.update=function(e){m.Time.update(e),p.Manager.loader.Update(e),this.downtime<999999&&(this.downtime-=e,this.downtime<=0&&this.moveon()),this.sdklauncher&&this.sdklauncher.loadFinish||(this.loadTime+=e,this.progressNum=Math.lerp(this.progressNum,100,e*this.onloadTime),this.progressNum>=99&&(this.loadState+=1,this.loadState%=this.stateStr.length,this.progressNum=0,this.moveon()),this.progressText.string=this.progressNum.toFixed(0)+"%",this.progress.progress=this.progressNum/100)},t.prototype.loadConfig=function(){return r(this,void 0,void 0,function(){return a(this,function(e){switch(e.label){case 0:return this.progress.progress=0,[4,Promise.all([h.Cfg.initRemoteJson("Barrier")])];case 1:return e.sent(),new f.ModuleLauncher,this.sdklauncher=new w.SdkLauncher,[2]}})})},t.prototype.showDebug=function(){},t.prototype.moveon=function(){try{this.text?(this.count%=6,this.text.string=this.getString("\xb7",this.count),++this.count,this.downtime=.5):this.downtime=999999}catch(e){this.downtime=999999}},t.prototype.getString=function(e,t){for(var n=this.stateStr[this.loadState],o=e,i=0;i<t;i++)o+=e;return n+=o},i([u(cc.ProgressBar)],t.prototype,"progress",void 0),i([u(cc.Label)],t.prototype,"text",void 0),i([u(cc.Label)],t.prototype,"progressText",void 0),i([u(cc.Label)],t.prototype,"version",void 0),t=i([c],t)}(cc.Component);n.default=C,cc._RF.pop()},{"../adpapter/NetAdapter":"NetAdapter","../alert/AlertManager":"AlertManager","../config/Cfg":"Cfg","../frame/Time":"Time","../manager/Manager":"Manager","../sdk/hd_module/config/AppConfig":"AppConfig","../sdk/hd_module/hd_module":"hd_module","../utils/Util":"Util","./ModuleLauncher":"ModuleLauncher","./NetLauncher":"NetLauncher","./SdkLauncher":"SdkLauncher","./UILauncher":"UILauncher"}],ListenID:[function(e,t,n){"use strict";cc._RF.push(t,"d4804XDqrxNfr/uEtJfKf0J","ListenID"),Object.defineProperty(n,"__esModule",{value:!0}),function(e){e[e._Start=999]="_Start",e[e.Login_Start=1e3]="Login_Start",e[e.Login_Finish=1001]="Login_Finish",e[e.Login_User=1002]="Login_User",e[e.Fight_BulletFinish=1003]="Fight_BulletFinish",e[e.Fight_RecycleBullet=1004]="Fight_RecycleBullet",e[e.Fight_RecycleMonster=1005]="Fight_RecycleMonster",e[e.Fight_RecycleTool=1006]="Fight_RecycleTool",e[e.Fight_RecycleBomb=1007]="Fight_RecycleBomb",e[e.Fight_RoleMove=1008]="Fight_RoleMove",e[e.Fight_RoleStand=1009]="Fight_RoleStand",e[e.Fight_MonAttack=1010]="Fight_MonAttack",e[e.Fight_SHOWEFFECT=1011]="Fight_SHOWEFFECT",e[e.Fight_SHOWEFFECT_NUM=1012]="Fight_SHOWEFFECT_NUM",e[e.Fight_Start=1013]="Fight_Start",e[e.Fight_Pause=1014]="Fight_Pause",e[e.Fight_End=1015]="Fight_End",e[e.Fight_Restart=1016]="Fight_Restart",e[e.Fight_ShowGuide=1017]="Fight_ShowGuide",e[e.Fight_AddTool=1018]="Fight_AddTool",e[e.Fight_KillNumChange=1019]="Fight_KillNumChange",e[e.Fight_MonsterWarn=1020]="Fight_MonsterWarn",e[e.Fight_ReliveSuccess=1021]="Fight_ReliveSuccess",e[e.Fight_StartNextStep=1022]="Fight_StartNextStep",e[e.Fight_ChangeGun=1023]="Fight_ChangeGun",e[e.Fight_GunUpdate=1024]="Fight_GunUpdate",e[e.Fight_GunCD=1025]="Fight_GunCD",e[e.Fight_ShowFlyGold=1026]="Fight_ShowFlyGold",e[e.Fight_ShowImproveUI=1027]="Fight_ShowImproveUI",e[e.Fight_Result=1028]="Fight_Result",e[e.Fight_BloodWarn=1029]="Fight_BloodWarn",e[e.Fight_ShowBuffUI=1030]="Fight_ShowBuffUI",e[e.Fight_ShowShake=1031]="Fight_ShowShake",e[e.Fight_QTE_STOP=1032]="Fight_QTE_STOP",e[e.Fight_RecycleObj=1033]="Fight_RecycleObj",e[e.Fight_QTE_STATE=1034]="Fight_QTE_STATE",e[e.Fight_ShowNomalTips=1035]="Fight_ShowNomalTips",e[e.Fight_StartQte=1036]="Fight_StartQte",e[e.Fight_ShowBossBlood=1037]="Fight_ShowBossBlood",e[e.Fight_MonsterInfoList=1038]="Fight_MonsterInfoList",e[e.Fight_KeepBoss=1039]="Fight_KeepBoss",e[e.Fight_DownTime=1040]="Fight_DownTime",e[e.Fight_DownTimeFinish=1041]="Fight_DownTimeFinish",e[e.Game_UpdatePower=1042]="Game_UpdatePower",e[e.Game_UpdateGold=1043]="Game_UpdateGold",e[e.Game_FightBackToHome=1044]="Game_FightBackToHome",e[e.Game_UpdateDiamond=1045]="Game_UpdateDiamond",e[e.GetRewardClose=1046]="GetRewardClose",e[e.Setting_MuteMusic=1047]="Setting_MuteMusic",e[e.Setting_MuteAudio=1048]="Setting_MuteAudio",e[e.Setting_BlockShake=1049]="Setting_BlockShake",e[e.Setting_HurtShow=1050]="Setting_HurtShow",e[e.Setting_Open=1051]="Setting_Open",e[e.Shop_Open=1052]="Shop_Open",e[e.Shop_Close=1053]="Shop_Close",e[e.Shop_SelectItem=1054]="Shop_SelectItem",e[e.Shop_UnLock=1055]="Shop_UnLock",e[e.MoreGold_Open=1056]="MoreGold_Open",e[e.Group_UpdateSelected=1057]="Group_UpdateSelected",e[e.BtnMore_Open=1058]="BtnMore_Open",e[e.Draw_AnimEnd=1059]="Draw_AnimEnd",e[e.Show_WeaponUpgrade=1060]="Show_WeaponUpgrade",e[e.Change_Weapon=1061]="Change_Weapon",e[e.GoldEffect_Show=1062]="GoldEffect_Show",e[e.GoldEffect_End=1063]="GoldEffect_End",e[e.Update_GoldRewardNum=1064]="Update_GoldRewardNum",e[e.Result_BackHome=1065]="Result_BackHome",e[e.Menu_Login=1066]="Menu_Login",e[e.Menu_Open=1067]="Menu_Open",e[e.Menu_Collect=1068]="Menu_Collect",e[e.UnlockNewWeapon=1069]="UnlockNewWeapon",e[e.Close_MoreGoldPanel=1070]="Close_MoreGoldPanel",e[e.Close_InviteAndService=1071]="Close_InviteAndService",e[e.Close_FreeWeapon=1072]="Close_FreeWeapon",e[e.Show_GoldUpgrade=1073]="Show_GoldUpgrade",e[e.Show_PlayerUpgrade=1074]="Show_PlayerUpgrade",e[e.Show_WeaponLight=1075]="Show_WeaponLight",e[e.Guide_RigisterNodeTag=1076]="Guide_RigisterNodeTag",e[e.GroupView_Open=1077]="GroupView_Open",e[e.NoPower=1078]="NoPower",e[e.Stop_CountDown=1079]="Stop_CountDown",e[e.Resume_CountDown=1080]="Resume_CountDown",e[e.Life_On_Show=1081]="Life_On_Show",e[e.Life_On_Hide=1082]="Life_On_Hide",e[e.GetInviteReward=1083]="GetInviteReward",e[e.SecondDay=1084]="SecondDay",e[e.Guide_Step1_Compelete=1085]="Guide_Step1_Compelete",e[e.ShowBanner=1086]="ShowBanner",e[e.HideBanner=1087]="HideBanner",e[e.ClickBanner=1088]="ClickBanner",e[e.Servive_Close=1089]="Servive_Close",e[e.Invite_Close=1090]="Invite_Close",e[e.GetShareTimes=1091]="GetShareTimes",e[e.Refresh_ShareTimes=1092]="Refresh_ShareTimes",e[e.Show_WeaponLockNode=1093]="Show_WeaponLockNode",e[e.Close_SurpassFriendView=1094]="Close_SurpassFriendView",e[e.Close_GetDiamondPanel=1095]="Close_GetDiamondPanel",e[e.GetSignReward=1096]="GetSignReward",e[e.Refresh_InviteWeaponNum=1097]="Refresh_InviteWeaponNum",e[e.showRank=1098]="showRank",e[e.Refresh_Point=1099]="Refresh_Point",e[e.ShowBossRank=1100]="ShowBossRank",e[e.Open_TreasureBox=1101]="Open_TreasureBox",e[e.Refresh_Select=1102]="Refresh_Select",e[e.Refresh_Canopen=1103]="Refresh_Canopen",e[e.Shop_OpenBox=1104]="Shop_OpenBox",e[e.Hide_InviteWeaponIcon=1105]="Hide_InviteWeaponIcon",e[e.Refresh_ShopPoint=1106]="Refresh_ShopPoint",e[e.Refresh_TreasureBoxPoint=1107]="Refresh_TreasureBoxPoint",e[e.Refresh_MoreGoldPoint=1108]="Refresh_MoreGoldPoint"}(n.ListenID||(n.ListenID={})),cc._RF.pop()},{}],LoaderAdapter:[function(e,t,n){"use strict";cc._RF.push(t,"930965EgM1GnJSK7ZCaJ+xo","LoaderAdapter"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../loader/LoaderManager"),i=function(){function e(){this._loader=new o.LoaderManager,this.m_spriteRefs={}}return e.prototype.LoadAssetAsync=function(e,t,n,o,i,r){void 0===r&&(r=null),this._loader.LoadAssetAsync(e,t,n,t,o,i,r)},e.prototype.UnLoadAsset=function(e){this._loader.UnLoadAsset(e)},e.prototype.Update=function(e){this._loader.Update(e)},e.prototype.LoadSpriteAsync=function(e,t,n){var o=this.m_spriteRefs[e];null==o&&(o=0),++o,this.m_spriteRefs[e]=o,this.LoadAssetAsync(e,e,cc.SpriteFrame,t,n)},e.prototype.UnLoadSprite=function(e){var t=this.m_spriteRefs[e];null!=t?--t>0?this.m_spriteRefs[e]=t:(delete this.m_spriteRefs[e],this.UnLoadAsset(e)):cc.error("UnLoadSprite Can't find in Refs:"+e)},e.prototype.LoadSceneAsync=function(e,t,n){this._loadSceneTarget=n,this._loadSceneCallback=t,this._loader.LoadSceneAsync(e,this.afterLoadScene.bind(this))},e.prototype.afterLoadScene=function(){cc.sys.garbageCollect(),this._loadSceneCallback.call(this._loadSceneTarget),this._loadSceneTarget=null,this._loadSceneCallback=null},e.prototype.SetProgressCallback=function(e,t,n){this._loader.SetProgressCallback(e,t,n)},e}();n.LoaderAdapter=i,cc._RF.pop()},{"../loader/LoaderManager":"LoaderManager"}],LoaderManager:[function(e,t,n){"use strict";cc._RF.push(t,"3b999/9lANJfJB8bpGGDynS","LoaderManager"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("./Session"),i=e("./AssetLoader"),r=function(){function e(){this._sessions={},this._loadQueue=[]}return e.prototype.LoadAssetAsync=function(e,t,n,r,a,s,c){var u=this._sessions[r];null==u&&(u=new o.Session,this._sessions[r]=u,u.name=e,u.path=t,u.type=n,u.loader=new i.AssetLoader,u.loader.Init(e,t,n),u.loader.LoadAsync()),null!=a&&(null==u.callbacks&&(u.callbacks=[]),u.callbacks.push(a),null==u.targets&&(u.targets=[]),u.targets.push(s),null==u.args&&(u.args=[]),u.args.push(c)),this._loadQueue.push(u)},e.prototype.CancelLoad=function(e,t,n){if(null!=t){var o=this._sessions[e];if(null!=o)if(null!=o.callbacks){for(var i=!1,r=0;r<o.callbacks.length;r++){var a=o.callbacks[r],s=o.targets[r];if(a==t&&s==n){i=!0,o.callbacks.splice(r,1),o.targets.splice(r,1);break}}i||cc.warn("CancelLoad callback remove fail, key:"+e)}else cc.error("CancelLoad callbacks null, key:"+e);else cc.error("CancelLoad can't find, key:"+e)}else cc.error("CancelLoad callback null, key:"+e)},e.prototype.UnLoadAsset=function(e){var t=this._sessions[e];null!=t?(null!=t.callbacks&&cc.warn("LoaderManager.UnLoad callbacks != null:"+e),t.loader.UnLoad(),delete this._sessions[e]):cc.warn("LoaderManager.UnLoad can't find:"+e)},e.prototype.Update=function(e){for(var t=this._loadQueue.length-1;t>=0;t--){var n=this._loadQueue[t];if(n.loader.IsDone()){var o=n.callbacks,i=n.targets,r=n.args;if(n.callbacks=null,n.targets=null,n.args=null,null!=o)for(var a=0;a<o.length;a++){var s=o[a],c=i[a],u=r[a];s.call(c,n.name,n.loader.asset,n.path,u)}this._loadQueue.splice(t,1)}}},e.prototype.LoadSceneAsync=function(e,t){cc.director.loadScene(e,t)},e.prototype.PreloadSceneAsync=function(e,t,n){cc.director.preloadScene(e,function(e,o,i){null!=t&&t.call(n,e,o)})},e.prototype.SetProgressCallback=function(e,t,n){var o=this._sessions[e];null!=o?o.loader.SetProgressCallback(t,n):cc.error("AddProgressCallback can't find:",e)},e}();n.LoaderManager=r,cc._RF.pop()},{"./AssetLoader":"AssetLoader","./Session":"Session"}],LoginController:[function(e,t,n){"use strict";cc._RF.push(t,"cbe9eZykDFKzIVgWnWwLU0e","LoginController");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("../../framework/MVCS"),r=e("../../framework/Notifier"),a=e("../../common/Common_Define"),s=e("../../adpapter/NetAdapter"),c=e("../../ListenID"),u=e("../../config/Const"),l=e("../../config/Cfg"),f=e("../../manager/GameVoManager"),p=e("../../sdk/hd_module/hd_module"),h=e("../../manager/Manager"),d=function(e){function t(){var t=e.call(this,"LoginController")||this;return t.changeListener(!0),t}return o(t,e),t.prototype.changeListener=function(e){r.Notifier.changeListener(e,c.ListenID.Login_Start,this.onLoginStart,this),r.Notifier.changeListener(e,c.ListenID.Login_Finish,this.onLoginFinish,this)},t.prototype.login=function(e,t,n){return void 0===t&&(t=""),void 0===n&&(n=""),s.default.httpPost(a.Common_HttpInterface.UserLogin,{openid:e,nick_name:t,avatar_url:n})},t.prototype.onLoginStart=function(){},t.prototype.onLoginFinish=function(){var e=l.Cfg.Barrier.getAll(),t=0;for(var n in e)t++;f.GameVoManager.getInstance.stateVo.stepNum=t,f.GameVoManager.getInstance.stateVo.isNewUser=!h.Manager.storage.getNumber(u.Const.STORAGE_NEWUSER,0),p.HD_MODULE.PLATFORM.showToast("\u8fdb\u5165\u6218\u6597\u4e2d!");this.loadResSuc()},t.prototype.loadResSuc=function(){cc.director.loadScene(u.Const.GAME_SCENENAME,function(){p.HD_MODULE.getNet().postGameEvent({event_name:"loadend",counter:1}),f.GameVoManager.getInstance.myUserVo.loadState=2})},t.prototype.loadResFai=function(){var e=this;p.HD_MODULE.getPlatform().showWxTips("\u63d0\u793a","\u7f51\u7edc\u4e0d\u7a33\u5b9a,\u70b9\u51fb\u786e\u5b9a\u91cd\u8fde","\u786e\u5b9a","",function(t){t.confirm&&(p.HD_MODULE.getPlatform().setLoadingVisible(!0),e.loadResSuc())})},t}(i.MVCS.BaseController);n.LoginController=d,cc._RF.pop()},{"../../ListenID":"ListenID","../../adpapter/NetAdapter":"NetAdapter","../../common/Common_Define":"Common_Define","../../config/Cfg":"Cfg","../../config/Const":"Const","../../framework/MVCS":void 0,"../../framework/Notifier":void 0,"../../manager/GameVoManager":"GameVoManager","../../manager/Manager":"Manager","../../sdk/hd_module/hd_module":"hd_module"}],LoginModel:[function(e,t,n){"use strict";cc._RF.push(t,"eb20biivBpOWIuhrX7wH8qY","LoginModel");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=function(e){function t(){var n=e.call(this)||this;return null==t._instance&&(t._instance=n),n}return o(t,e),t.prototype.reset=function(){},Object.defineProperty(t,"getInstance",{get:function(){return null==t._instance&&(t._instance=new t),t._instance},enumerable:!0,configurable:!0}),t._instance=null,t}(e("../../framework/MVCS").MVCS.BaseModel);n.LoginModel=i,cc._RF.pop()},{"../../framework/MVCS":void 0}],MVCS:[function(e,t,n){"use strict";cc._RF.push(t,"e72ddOh3LxCzLFmsa7B/p+E","MVCS");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("./Transition/DefaultTransition"),r=e("./Transition/ScaleTransition"),a=e("./Transition/MoveTransition");(function(e){var t=function(){return function(){}}();e.BaseModel=t;var n=function(){function e(e){this._name="",this._name=e,s.add(this)}return Object.defineProperty(e.prototype,"_classname",{get:function(){return this._name},enumerable:!0,configurable:!0}),e.prototype.reset=function(){},e.prototype.changeListener=function(e){},e}();e.BaseController=n;var s=function(){function e(){}return e.add=function(t){var n=t._classname;null==e.getInstance(n)?e.s_container.push(t):cc.error("LogicContainer.Add repeat:"+n)},e.getInstance=function(t){for(var n=0,o=e.s_container;n<o.length;n++){var i=o[n];if(i._classname==t)return i}return null},e.reset=function(){for(var t=0;t<e.s_container.length;t++)e.s_container[t].reset()},e.s_container=[],e}();e.ControllerContainer=s;var c=function(){function e(){}return Object.defineProperty(e,"loadAssetHandler",{get:function(){return e._loadAssetHandler},enumerable:!0,configurable:!0}),Object.defineProperty(e,"unloadAssetHandler",{get:function(){return e._unloadAssetHandler},enumerable:!0,configurable:!0}),e.initAssetHandler=function(t,n){e._loadAssetHandler=t,e._unloadAssetHandler=n},Object.defineProperty(e,"onOpenEvent",{get:function(){return e._onOpenEvent},enumerable:!0,configurable:!0}),Object.defineProperty(e,"onCloseEvent",{get:function(){return e._onCloseEvent},enumerable:!0,configurable:!0}),e.initUIEvent=function(t,n){e._onOpenEvent=t,e._onCloseEvent=n},e}();e.ViewHandler=c;var u=function(){function e(){}return Object.defineProperty(e,"loadAssetHandler",{get:function(){return e._loadAssetHandler},enumerable:!0,configurable:!0}),Object.defineProperty(e,"unloadAssetHandler",{get:function(){return e._unloadAssetHandler},enumerable:!0,configurable:!0}),e.initAssetHandler=function(t,n){e._loadAssetHandler=t,e._unloadAssetHandler=n},e}();e.ComponentHandler=u;var l,f,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._isClosed=!1,t._isOpened=!1,t}return o(t,e),t.prototype.init=function(e,t,n,o){switch(void 0===e&&(e=f.Panel),void 0===t&&(t=l.Default),void 0===o&&(o=!1),this._uiLayer=e,this._assetsPath=n,t){case l.Scale:this._transition=new r.ScaleTransition;break;case l.Move:this._transition=new a.MoveTransition;break;case l.Default:default:this._transition=new i.DefaultTransition}this._transition.init(this.node,o),this._isClosed=!1,this._isOpened=!1,this._isclean=o},Object.defineProperty(t.prototype,"uiLayer",{get:function(){return this._uiLayer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"assetsPath",{get:function(){return this._assetsPath},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isClosed",{get:function(){return this._isClosed},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isOpened",{get:function(){return this._isOpened},enumerable:!0,configurable:!0}),t.prototype.open=function(e){var t=this;void 0===e&&(e=null),this._isOpened?this.setInfo(e):(this._transition.show().then(function(){t.openCallBack()}),this._isClosed=!1,this.onOpen(e),this._isOpened=!0)},t.prototype.onOpen=function(e){void 0===e&&(e=null),this.changeListener(!0),c.onOpenEvent(this)},t.prototype.onClose=function(){this._isClosed?cc.warn("asset "+this._assetsPath+" is closing"):(this._isClosed=!0,this._isOpened=!1,this.changeListener(!1),c.onCloseEvent(this,this._assetsPath,this._isclean),this._transition.hide())},t.prototype.close=function(){this.onClose()},t.prototype.onClickFrame=function(){},t.prototype.setInfo=function(e){},t.prototype.openCallBack=function(){},t}(cc.Component);e.BaseView=p,function(e){e[e.Default=0]="Default",e[e.Scale=1]="Scale",e[e.Move=2]="Move"}(l=e.eTransition||(e.eTransition={})),function(e){e[e.Unload=0]="Unload",e[e.Loading=1]="Loading",e[e.Loaded=2]="Loaded"}(e.eLoadState||(e.eLoadState={})),function(e){e[e.Scene=0]="Scene",e[e.Main=1]="Main",e[e.Panel=2]="Panel",e[e.Guide=3]="Guide",e[e.Popup=4]="Popup",e[e.Tips=5]="Tips",e[e.Loading=6]="Loading",e[e.Max=7]="Max"}(f=e.eUILayer||(e.eUILayer={})),function(e){e[e.Panel=0]="Panel",e[e.None=1]="None"}(e.eUIQueue||(e.eUIQueue={})),function(e){e[e.Timeout=-2]="Timeout",e[e.Refuse=-1]="Refuse",e[e.Cancel=0]="Cancel",e[e.Confirm=1]="Confirm"}(e.eReplyOption||(e.eReplyOption={}))})(n.MVCS||(n.MVCS={})),cc._RF.pop()},{"./Transition/DefaultTransition":"DefaultTransition","./Transition/MoveTransition":"MoveTransition","./Transition/ScaleTransition":"ScaleTransition"}],Manager:[function(e,t,n){"use strict";cc._RF.push(t,"b4003SLKDhI8bUNr1AEBQaJ","Manager"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../adpapter/LoaderAdapter"),i=e("./AudioManager"),r=e("./StorageManager"),a=e("./AnimateManager"),s=e("./SpriteAtlasManager"),c=function(){function e(){}return Object.defineProperty(e.prototype,"loader",{get:function(){return null==this._loader&&(this._loader=new o.LoaderAdapter),this._loader},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"audio",{get:function(){return null==this._audio&&(this._audio=new i.AudioManager),this._audio},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"anim",{get:function(){return null==this._animation&&(this._animation=new a.AnimateManager),this._animation},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return null==this._storage&&(this._storage=new r.StorageManager),this._storage},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"spAtlas",{get:function(){return null==this._spatlas&&(this._spatlas=new s.SpriteAtlasManager),this._spatlas},enumerable:!0,configurable:!0}),e}();n.Manager=new c,cc._RF.pop()},{"../adpapter/LoaderAdapter":"LoaderAdapter","./AnimateManager":"AnimateManager","./AudioManager":"AudioManager","./SpriteAtlasManager":"SpriteAtlasManager","./StorageManager":"StorageManager"}],MapScroll:[function(e,t,n){"use strict";cc._RF.push(t,"2ad4bjs5rZGkpIrWVKJ0B0Y","MapScroll");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var r,a=e("../../frame/MVCSs/Notifier"),s=e("../ListenID"),c=cc._decorator,u=c.ccclass,l=c.property;(function(e){e[e.Back=0]="Back",e[e.Mid=1]="Mid",e[e.Fore=2]="Fore"})(r||(r={}));var f=function(){return function(e,t){this.index=e,this.node=t}}(),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.adjust=0,t.orders=[0,1,2,3],t._childrens=[],t._pools=[],t._content=[],t._orderIndex=0,t}return o(t,e),t.prototype.start=function(){var e=this.node.name;switch(e){case"background":this._type=r.Back,0==this.adjust&&(this.adjust=.95);break;case"midground":this._type=r.Mid;break;case"foreground":this._type=r.Fore,0==this.adjust&&(this.adjust=-.5);break;default:cc.error("MapScroll name error:"+e),this._type=r.Mid}this._rawX=this.node.x,this._childrens=copy(this.node.children);for(var t=0;t<this._childrens.length;t++){var n=this._childrens[t],o=new cc.NodePool;o.put(n),this._pools.push(o)}this._cameraNode=cc.find("Canvas/Main Camera"),this.reset()},t.prototype.onEnable=function(){this.changeListener(!0)},t.prototype.onDisable=function(){this.changeListener(!1)},t.prototype.changeListener=function(e){a.Notifier.changeListener(e,s.ListenID.Scene_PlayAgain,this.reset,this)},t.prototype.lateUpdate=function(){var e=this._cameraNode.x-this._rawCameraX;this._destX=this._rawX+this.adjust*e,this.node.x=this._destX;var t=(this._cameraNode.x-this._rawCameraX)*(1-this.adjust),n=t-this._cameraNode.width/2*1.5,o=t+this._cameraNode.width/2*1.5,i=this._content[0];if(i.node.x+i.node.width<n&&(this.push(i.index,i.node),this._content.shift()),this._content[this._content.length-1].node.x<o){var r=this.orders[this._orderIndex],a=this.pop(r),s=new f(r,a);this._content.push(s),a.setPosition(this._tailX,0),this._tailX+=a.width,this._orderIndex+=1,this._orderIndex>=this.orders.length&&(this._orderIndex=0)}},t.prototype.reset=function(){var e=this;this.node.x=this._rawX,this._orderIndex=0,this._content.forEach(function(t){e.push(t.index,t.node)}),this._content=[];var t=1.5*this._cameraNode.width;this._tailX=0,this._rawCameraX=this._cameraNode.x;for(var n=0;n<this.orders.length;n++){var o=this.orders[n],i=this.pop(o),r=new f(o,i);if(this._content.push(r),i.setPosition(this._tailX,0),this._tailX>t){this._tailX+=i.width,this._orderIndex=n+1,this._orderIndex>=this.orders.length&&(this._orderIndex=0);break}this._tailX+=i.width}},t.prototype.pop=function(e){var t;e<0?(cc.error(this.node.name+" pop error index:"+e),e=0):e>=this._pools.length&&(cc.error(this.node.name+" pop error index:"+e),e=this._pools.length-1);var n=this._pools[e];if(n.size()>0)t=n.get();else{var o=this._childrens[e];t=cc.instantiate(o)}return t.parent=this.node,t},t.prototype.push=function(e,t){e<0?e=0:e>=this._pools.length&&(e=this._pools.length-1),this._pools[e].put(t)},i([l({type:cc.Float,displayName:"\u901f\u5ea6%\u4fee\u6b63[-1,1]"})],t.prototype,"adjust",void 0),i([l({type:[cc.Integer],displayName:"\u663e\u793a\u987a\u5e8f"})],t.prototype,"orders",void 0),t=i([u],t)}(cc.Component);n.MapScroll=p,cc._RF.pop()},{"../../frame/MVCSs/Notifier":void 0,"../ListenID":"ListenID"}],Math:[function(e,t,n){"use strict";cc._RF.push(t,"837562jPEtCQL8MF8Sn1kn3","Math"),Math.intRange=function(e,t){var n=t-e;return Math.round(Math.random()*n)+e},Math.lerp=function(e,t,n){return e+(t-e)*n},cc._RF.pop()},{}],MinHeap:[function(e,t,n){"use strict";cc._RF.push(t,"88860mAqD9JSpQFf3EHvjn9","MinHeap"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e){this._size=0,this.m_emptyNum=0,this.m_log="",this._compareEv=e,this._element=new Array}return e.prototype.clear=function(e,t){void 0===e&&(e=null),void 0===t&&(t=null),null!=this._element&&(this._size=0,null!=e&&this._element.forEach(function(n){e.call(t,n)}),this._element.splice(0,this._element.length))},e.prototype.frist=function(e,t){if(void 0===t&&(t=null),null==e)return cc.error("MinHeap Frist predicate null"),null;if(null==this._element)return null;for(var n=0;n<this._element.length;n++){var o=this._element[n];if(e.call(t,o))return o}return null},e.prototype.forEach=function(e,t){null!=this._element&&this._element.forEach(function(n){e.call(t,n)})},e.prototype.toStringT=function(e){null!=e?this.m_log+=e.toString()+"\n":++this.m_emptyNum},e.prototype.toString=function(){return this.m_emptyNum=0,this.m_log="",this.forEach(this.toStringT,this),this.m_emptyNum>0&&(this.m_log+="empty:"+this.m_emptyNum),this.m_log},Object.defineProperty(e.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),e.prototype.add=function(e){var t=this._size++;this.up(t,e)},e.prototype.del=function(e){var t=this._element.indexOf(e);t<0||(--this._size,this.down(t,this._element[this._size]),this.insert(this._size,null))},e.prototype.peek=function(){return this._size<=0?null:this._element[0]},e.prototype.pop=function(){if(this._size<=0)return null;var e=this._element[0],t=--this._size;return this.down(0,this._element[t]),this.insert(t,null),e},e.prototype.change=function(e,t){var n=this._element.indexOf(e);n<0||(t?this.down(n,e):this.up(n,e))},e.prototype.insert=function(e,t){this._element.length<=e?this._element.splice(e,0,t):this._element[e]=t},e.prototype.up=function(e,t){for(;e>0;){var n=(e-1)/2,o=this._element[n];if(this._compareEv(this._element[n],t)<0)break;this.insert(e,o),e=n}this.insert(e,t)},e.prototype.down=function(e,t){for(var n=this._size/2;e<n;){var o=2*e+1,i=o+1,r=this._element[o],a=this._element[i];if(i<this._size&&this._compareEv(r,a)>0&&(o=i),this._compareEv(t,this._element[o])<0)break;this.insert(e,this._element[o]),e=o}this.insert(e,t)},e}();n.MinHeap=o,cc._RF.pop()},{}],MinSortList:[function(e,t,n){"use strict";cc._RF.push(t,"b7021EBpGZDb7goq71xfU97","MinSortList"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e){this._count=0,this.m_emptyNum=0,this.m_log="",this._compareEv=e,this._element=new Array}return Object.defineProperty(e.prototype,"count",{get:function(){return this._count},enumerable:!0,configurable:!0}),e.prototype.clear=function(e,t){void 0===e&&(e=null),void 0===t&&(t=null),this._count=0,null!=e&&this._element.forEach(function(n){e.call(t,n)}),this._element.splice(0,this._element.length)},e.prototype.frist=function(e,t){if(void 0===t&&(t=null),null==e)return cc.error("MinSortList Frist predicate null"),null;if(null==this._element)return null;for(var n=0;n<this._element.length;n++){var o=this._element[n];if(e.call(t,o))return o}return null},e.prototype.forEach=function(e,t){null!=this._element&&this._element.forEach(function(n){e.call(t,n)})},e.prototype.add=function(e){this._element.push(e),this.sortDown(this._count,e),++this._count},e.prototype.del=function(e){var t=this._element.indexOf(e);return!(t<0)&&(--this._count,this._element.splice(t,1),!0)},e.prototype.peek=function(){return this._count<=0?null:this._element[0]},e.prototype.pop=function(){return this._count<=0?null:(--this._count,this._element.shift())},e.prototype.sort=function(e){var t=this._element.indexOf(e);if(!(t<0))if(0==t)this.sortUp(t,e);else if(t==this.count-1)this.sortDown(t,e);else{var n=this._element[t-1];this._compareEv(n,e)>0?this.sortDown(t,e):this.sortUp(t,e)}},e.prototype.sortDown=function(e,t){for(var n,o=e-1;o>=0&&(n=this._element[o],!(this._compareEv(n,t)<=0));o--)this._element[o]=t,this._element[o+1]=n},e.prototype.sortUp=function(e,t){for(var n,o=e+1;o<this._count&&(n=this._element[o],!(this._compareEv(n,t)>=0));o++)this._element[o-1]=n,this._element[o]=t},e.prototype.toStringT=function(e){null!=e?this.m_log+=e.toString()+"\n":++this.m_emptyNum},e.prototype.toString=function(){return this.m_emptyNum=0,this.m_log="",this.forEach(this.toStringT,this),this.m_emptyNum>0&&(this.m_log+="empty:"+this.m_emptyNum),this.m_log},e}();n.MinSortList=o,cc._RF.pop()},{}],ModuleLauncher:[function(e,t,n){"use strict";cc._RF.push(t,"e22d0Xg9TFJG7B1rojhybpm","ModuleLauncher"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){return function(){}}();n.ModuleLauncher=o,cc._RF.pop()},{}],MonsterCfg:[function(e,t,n){"use strict";cc._RF.push(t,"2c43anY8d1HhYdBNwJSZnkO","MonsterCfg");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._name="Monster",t}return o(t,e),t}(e("./TConfig").TConfig);n.MonsterCfgReader=i,cc._RF.pop()},{"./TConfig":"TConfig"}],MoveTransition:[function(e,t,n){"use strict";cc._RF.push(t,"31c867smZhNLqCVh1gdTD49","MoveTransition"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(){this._animSpeed=.3,this._moveDist=1e3,this.isClean=!1}return e.prototype.init=function(e,t){this._node=e,this._node.x-=this._moveDist,this.isClean=t;var n=cc.callFunc(this.onMoveOutFinish,this),o=cc.callFunc(this.onMoveInFinish,this);this._moveInAct=cc.sequence(cc.spawn(cc.fadeTo(this._animSpeed,255),cc.moveBy(this._animSpeed,this._moveDist,0)),o),this._moveOutAct=cc.sequence(cc.spawn(cc.fadeTo(this._animSpeed,0),cc.moveBy(this._animSpeed,-this._moveDist,0)),n)},e.prototype.show=function(){var e=this;return new Promise(function(t){null!=e._node&&(e._node.active=!0,e._node.opacity=0,e._node.runAction(cc.sequence(e._moveInAct,cc.callFunc(function(){t()}))))})},e.prototype.hide=function(){null!=this._node&&this._node.runAction(this._moveOutAct)},e.prototype.onMoveInFinish=function(){},e.prototype.onMoveOutFinish=function(){this.isClean?this._node.destroy():this._node.active=!1},e}();n.MoveTransition=o,cc._RF.pop()},{}],Native_Android:[function(e,t,n){"use strict";cc._RF.push(t,"b486cPt+XZFxK0JY8TUMU7F","Native_Android"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../../mgr/EventManager"),i=e("../../../config/AppConfig"),r=e("../../../hd_module"),a=e("./jsb/JsBridge"),s=function(e,t){if(e)for(;e.length>0;){var n=e.pop();n&&n(t)}},c=function(){function e(){}return e.init=function(e,t){var n=this;a.default.getDevicesInfo();this.rigisterOnStartEvent(),this.rigisterOnShowEvent(e),this.rigisterOnHideEvent(t),o.EventManager.on("login-req",function(e){return n._silenceLogin(e.success)},this),setInterval(function(){n.vibrateNum=0},200)},e.rigisterOnStartEvent=function(){var e=this;cc.game.on(cc.game.EVENT_GAME_INITED,function(t){a.default.init(),e.onShowCallBack(t)})},e.rigisterOnShowEvent=function(e){var t=this;cc.game.on(cc.game.EVENT_SHOW,function(n){t.onShowCallBack(n),e&&e(n)})},e.rigisterOnHideEvent=function(e){var t=this;cc.game.on(cc.game.EVENT_HIDE,function(n){t.onHideCallBack(),e&&e(n)})},e.onShowCallBack=function(e){},e.onHideCallBack=function(){this.hideTime=Date.now(),this.updateNotityEvent("onhide"),o.EventManager.emit("game-onhide")},e.loginCallBack=function(e){this.isLogin||(this.isLogin=!0,s(this.loginCallBackList),s(this.afterLoginCallBackList),o.EventManager.emit("game-login"))},e.share=function(e){var t=this,n=(e.channel,e.title||""),o=e.imageUrl||"https://cdn.heidong.fun/gameres/t1/p2/release/wechat/1.0.0/shareTemplates/res/share_0.jpg",i=e.query||"",a=e.extra||void 0,s=e?e.scene:"not define scene!",c=e.cardEvent;if(this.shareFunc=function(n){0==n?(e.success&&e.success(),r.HD_MODULE.getNet().postGameEvent({event_name:"\u5206\u4eab\u6210\u529f"+s,counter:1})):-1==n&&(t.showAlert("\u63d0\u793a","\u5206\u4eab\u5931\u8d25","\u786e\u5b9a"),r.HD_MODULE.getNet().postGameEvent({event_name:"\u5206\u4eab\u5931\u8d25"+s,counter:1}))},cc.sys.platform==cc.sys.WECHAT_GAME){var u="&"+c+"=1",l={title:n,imageUrl:o,query:i+"&openId="+(r.HD_MODULE.getPlatform().getOpenId()||"")+"&share="+s+(u||""),extra:a};this._shareAppMessage(l)}else this.shareFunc&&this.shareFunc(0)},e.getIsGameLauchByShareCard=function(e){var t=!1;return this.onShowRes&&this.onShowRes.query&&(t=this.onShowRes.query[e]),t},e.showAlert=function(e,t,n,o){void 0===n&&(n="\u786e\u5b9a"),void 0===o&&(o="")},e.getUserInfo=function(e,t){this.userInfo?e&&e(this.userInfo):this._login(e,null,t)},e._silenceLogin=function(e,t){void 0===e&&(e=function(){}),void 0===t&&(t=function(){}),e&&e()},e._login=function(e,t,n){},e._shareAppMessage=function(e){wx.shareAppMessage(e)},e.getIsLogin=function(){return this.isLogin},e.setShareAppMsg=function(e){var t=e.title,n=e.imageUrl,o=e.query;wx.onShareAppMessage(function(){return r.HD_MODULE.getNet().postGameEvent({event_name:"\u5206\u4eab\u6210\u529f\u53f3\u4e0a\u89d2",counter:1}),{title:t,imageUrl:n,query:o+"&share=\u53f3\u4e0a\u89d2"}})},e.navigateToMiniProgram=function(e){wx.navigateToMiniProgram(e)},e.openCustomerServiceConversation=function(e){wx.openCustomerServiceConversation(e)},e.getShareTemplate=function(e){var t=this;this.reqList.push(e),this.reqList.length>1||(this.shareTemplate?s(this.reqList,this.shareTemplate):r.HD_MODULE.getNet().getShareTemplate({version:i.appConfig.app_version}).then(function(n){t.shareTemplate=n.data.share,e&&e(n),s(t.reqList,n)}))},e.getOneShareInfoByType=function(e,t){var n=null;if(this.shareTemplate){var o=this.shareTemplate[e];if(o){var i=Math.floor(Math.random()*o.length);n=o[i],t&&t(n)}}else this.getShareTemplate(function(o){if(o){var i=o[e];if(i){var r=Math.floor(Math.random()*i.length);n=i[r],t&&t(n)}}})},e.openShareByShareTemplateRand=function(e,t){var n=this;this.getOneShareInfoByType(e,function(e){if(e){var o={title:e.title,imageUrl:e.image_url,scene:t?t.scene:"default scene",success:t?t.success:null,fail:t?t.fail:null,cardEvent:t?t.cardEvent:null};n.share(o)}})},e.getOnShowRes=function(){return this.onShowRes},e.showBanner=function(e){var t=this;return new Promise(function(n,o){var i=wx.getSystemInfoSync(),r=i.screenWidth,a=i.screenHeight;if(t.bannerAd){if(t.bannerAd.adUnitId==e)return void t.bannerAd.show().then(function(){n&&n()}).catch(function(){o&&o()});t.bannerAd.destroy()}t.bannerAd=wx.createBannerAd({adUnitId:e,adIntervals:30,style:{left:0,top:a-88,width:r}}),t.bannerAd.show().catch(function(e){o&&o()}).then(function(){n&&n()}),t.bannerAd.onResize(function(e){t.bannerAd.style.top=a-e.height,t.bannerAd.style.height=e.height}),t.bannerAd.onError(function(){})})},e.hideBanner=function(){var e=this;return new Promise(function(t,n){e.bannerAd&&e.bannerAd.hide(),t&&t()})},e.notifyOnShowEvent=function(e){this.onShowFuncList.push(e)},e.notifyOnHideEvent=function(e){this.onShowFuncList.push(e)},e.updateNotityEvent=function(e){switch(e){case"onshow":var t=[];for(var n in this.onShowFuncList)this.onShowFuncList[n](this.onShowRes),t.push(this.onShowFuncList[n]);this.onShowFuncList=t;break;case"onhide":t=[];for(var n in this.onHideFuncList)this.onHideFuncList[n](),t.push(this.onHideFuncList[n]);this.onHideFuncList=t}},e.checkQueryEvent=function(){if(this.onShowRes){var e=this.onShowRes,t=e.query||{};t.share&&r.HD_MODULE.getNet().postGameEvent({event_name:"shareIn"+e.scene+t.share,counter:1})}},e.vibrateShort=function(){var e=this;return new Promise(function(t,n){e.vibrateNum>0||(e.vibrateNum++,a.default.vibrateShort())})},e.setDefaultRightTopShare=function(){var e=this;this.getOneShareInfoByType("common",function(t){if(t){var n={title:t.title,imageUrl:t.image_url,query:t.query};e.setShareAppMsg(n)}})},e.checkIsRewardShare=function(e){if(e&&e instanceof cc.Node!=0&&this.shareSwitch){var t=Number(this.shareSwitch.share||0);e.active=e.active&&!!t}},e.getLocalUserInfo=function(){return i.HDDefaultUserInfo},e.rigisterEventAfterLogin=function(e){this.isLogin?e():this.afterLoginCallBackList.push(e)},e.userInfo=null,e.shareInfo={},e.switchConfig={},e.hideTime=0,e.shareFunc=null,e.isLogin=!1,e.onShowRes={},e.authorizeInfo={},e.loginCallBackList=[],e.loginCode=-1,e.gameClub=null,e.shareTemplate=null,e.shareSwitch=null,e.isVideo=!1,e.onShowFuncList=[],e.onHideFuncList={},e.isGetShareTemplate=!1,e.afterLoginCallBackList=[],e.bannerAd=null,e.reqList=[],e.vibrateNum=0,e}();n.default=c,cc._RF.pop()},{"../../../config/AppConfig":"AppConfig","../../../hd_module":"hd_module","../../../mgr/EventManager":"EventManager","./jsb/JsBridge":"JsBridge"}],Native_IOS:[function(e,t,n){"use strict";cc._RF.push(t,"773eaPJw4RONrFp/mHyx38x","Native_IOS"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../../mgr/EventManager"),i=e("../../../config/AppConfig"),r=e("../../../hd_module"),a=e("./jsb/JsBridgeIOS"),s=function(e,t){try{if(e)for(;e.length>0;){var n=e.pop();n&&n(t)}}catch(e){}},c=function(){function e(){}return e.init=function(e,t){var n=this;a.default.getDevicesInfo();this.rigisterOnStartEvent(),this.rigisterOnShowEvent(e),this.rigisterOnHideEvent(t),o.EventManager.on("login-req",function(e){return n._silenceLogin(e.success,e.fail)},this),this._silenceLogin(this.loginCallBack.bind(this)),setInterval(function(){n.vibrateNum=0},200)},e.rigisterOnStartEvent=function(){var e=this;cc.game.on(cc.game.EVENT_GAME_INITED,function(t){a.default.init(),e.onShowCallBack(t)})},e.rigisterOnShowEvent=function(e){var t=this;cc.game.on(cc.game.EVENT_SHOW,function(n){t.onShowCallBack(n),e&&e(n)})},e.rigisterOnHideEvent=function(e){var t=this;cc.game.on(cc.game.EVENT_HIDE,function(n){t.onHideCallBack(),e&&e(n)})},e.onShowCallBack=function(e){},e.onHideCallBack=function(){this.hideTime=Date.now(),this.updateNotityEvent("onhide"),o.EventManager.emit("game-onhide")},e.loginCallBack=function(e){this.isLogin=!0,e&&(s(this.loginCallBackList),s(this.afterLoginCallBackList),o.EventManager.emit("game-login"))},e.loginFailCallBack=function(e){for(;this.loginFailCallBackList.length>0;)this.loginFailCallBackList.pop()(e)},e.share=function(e){var t=this,n=(e.channel,e.title||""),o=e.imageUrl||"https://cdn.heidong.fun/gameres/t1/p2/release/wechat/1.0.0/shareTemplates/res/share_0.jpg",i=e.query||"",a=e.extra||void 0,s=e?e.scene:"not define scene!",c=e.cardEvent;if(this.shareFunc=function(n){0==n?(e.success&&e.success(),r.HD_MODULE.getNet().postGameEvent({event_name:"\u5206\u4eab\u6210\u529f"+s,counter:1})):-1==n&&(t.showAlert("\u63d0\u793a","\u5206\u4eab\u5931\u8d25","\u786e\u5b9a"),r.HD_MODULE.getNet().postGameEvent({event_name:"\u5206\u4eab\u5931\u8d25"+s,counter:1}))},cc.sys.platform==cc.sys.WECHAT_GAME){var u="&"+c+"=1",l={title:n,imageUrl:o,query:i+"&openId="+(r.HD_MODULE.getPlatform().getOpenId()||"")+"&share="+s+(u||""),extra:a};this._shareAppMessage(l)}else this.shareFunc&&this.shareFunc(0)},e.getIsGameLauchByShareCard=function(e){var t=!1;return this.onShowRes&&this.onShowRes.query&&(t=this.onShowRes.query[e]),t},e.showAlert=function(e,t,n,o){void 0===n&&(n="\u786e\u5b9a"),void 0===o&&(o="")},e._silenceLogin=function(t,n){var o=this;if(void 0===t&&(t=function(){}),void 0===n&&(n=function(){}),e.loginFailCallBackList.push(n),!(0!=e.loginCode&&(e.loginCallBackList.push(t),e.loginCallBackList.length>1))){a.default.agentSDKLogin(function(t){if(i.HDDefaultUserInfo.code="sh",i.HDDefaultUserInfo.nick_name=t.nickName,i.HDDefaultUserInfo.open_id=t.memberId,i.HDDefaultUserInfo.code=t.userToken,o.userInfo=i.HDDefaultUserInfo,r.HD_MODULE.getPlatform().getToken())e.loginCallBack(t);else{var a={platform_id:i.appConfig.platform_id,app_id:i.appConfig.app_id,user_info:i.HDDefaultUserInfo};r.HD_MODULE.getNet().postMiniGameLogin(a,function(n){var o=n.data.token;r.HD_MODULE.getPlatform().setToken(o),localStorage.setItem("token"+i.appConfig.platform_id+i.appConfig.env,o),e.loginCode=1,e.loginCallBack(t)},function(t){console.error("[hd_sdk_nativeIOS]------\x3e\u767b\u5f55\u5c0f\u6e38\u620f\u670d\u52a1\u5668\u5931\u8d25",JSON.stringify(t)),e.loginCode=0,e.loginFailCallBack(t),n&&n(t)})}})}},e._login=function(e,t,n){var o=this;wx.login({success:function(a){if(a.code){var s=a,c=function(t){o.userInfo=t.userInfo,i.HDDefaultUserInfo.avatar_url=o.userInfo.avatarUrl,i.HDDefaultUserInfo.city=o.userInfo.city,i.HDDefaultUserInfo.code=s.code,i.HDDefaultUserInfo.country=o.userInfo.country,i.HDDefaultUserInfo.gender=o.userInfo.gender,i.HDDefaultUserInfo.nick_name=o.userInfo.nickName,i.HDDefaultUserInfo.province=o.userInfo.province,o.userInfo=i.HDDefaultUserInfo;var n={platform_id:i.appConfig.platform_id,app_id:i.appConfig.app_id,user_info:o.userInfo};r.HD_MODULE.getNet().postMiniGameLogin(n),e(o.userInfo)},u=function(){var e=cc.view.getVisibleSize(),n=wx.getSystemInfoSync(),o=n.screenWidth/e.width,i=n.screenHeight/e.height,r=wx.createUserInfoButton({type:"text",text:"\u83b7\u53d6",style:{left:n.screenWidth/2-300*o/2,top:n.screenHeight/2-250*i/2,width:300*o,height:250*i,lineHeight:40,backgroundColor:"#ff0000",fontSize:16,borderRadius:10},withCredentials:!0,lang:"zh_CN"});r.onTap(function(e){"getUserInfo:ok"!=e.errMsg?t(e):(r.destroy(),c(e))})};wx.getSetting({success:function(t){o.authorizeInfo=t,t.authSetting["scope.userInfo"]?wx.getUserInfo({success:function(e){c(e)}}):n?e(i.HDDefaultUserInfo):u()}})}else console.error("[hd_sdk_nativeIOS]------\x3e\u5fae\u4fe1\u767b\u5f55\u5931\u8d25:",a)}})},e._shareAppMessage=function(e){wx.shareAppMessage(e)},e.getIsLogin=function(){return this.isLogin},e.setShareAppMsg=function(e){var t=e.title,n=e.imageUrl,o=e.query;wx.onShareAppMessage(function(){return r.HD_MODULE.getNet().postGameEvent({event_name:"\u5206\u4eab\u6210\u529f\u53f3\u4e0a\u89d2",counter:1}),{title:t,imageUrl:n,query:o+"&share=\u53f3\u4e0a\u89d2"}})},e.navigateToMiniProgram=function(e){wx.navigateToMiniProgram(e)},e.openCustomerServiceConversation=function(e){wx.openCustomerServiceConversation(e)},e.getShareTemplate=function(e){var t=this;this.reqList.push(e),this.reqList.length>1||(this.shareTemplate?s(this.reqList,this.shareTemplate):r.HD_MODULE.getNet().getShareTemplate({version:i.appConfig.app_version}).then(function(n){t.shareTemplate=n.data.share,e&&e(n),s(t.reqList,n)}))},e.getOneShareInfoByType=function(e,t){var n=null;if(this.shareTemplate){var o=this.shareTemplate[e];if(o){var i=Math.floor(Math.random()*o.length);n=o[i],t&&t(n)}}else this.getShareTemplate(function(o){if(o){var i=o[e];if(i){var r=Math.floor(Math.random()*i.length);n=i[r],t&&t(n)}}})},e.openShareByShareTemplateRand=function(e,t){var n=this;this.getOneShareInfoByType(e,function(e){if(e){var o={title:e.title,imageUrl:e.image_url,scene:t?t.scene:"default scene",success:t?t.success:null,fail:t?t.fail:null,cardEvent:t?t.cardEvent:null};n.share(o)}})},e.getOnShowRes=function(){return this.onShowRes},e.showBanner=function(e){var t=this;return new Promise(function(n,o){var i=wx.getSystemInfoSync(),r=i.screenWidth,a=i.screenHeight;if(t.bannerAd){if(t.bannerAd.adUnitId==e)return void t.bannerAd.show().then(function(){n&&n()}).catch(function(){o&&o()});t.bannerAd.destroy()}t.bannerAd=wx.createBannerAd({adUnitId:e,adIntervals:30,style:{left:0,top:a-88,width:r}}),t.bannerAd.show().catch(function(e){o&&o()}).then(function(){n&&n()}),t.bannerAd.onResize(function(e){t.bannerAd.style.top=a-e.height,t.bannerAd.style.height=e.height}),t.bannerAd.onError(function(){})})},e.hideBanner=function(){var e=this;return new Promise(function(t,n){e.bannerAd&&e.bannerAd.hide(),t&&t()})},e.notifyOnShowEvent=function(e){this.onShowFuncList.push(e)},e.notifyOnHideEvent=function(e){this.onShowFuncList.push(e)},e.updateNotityEvent=function(e){switch(e){case"onshow":var t=[];for(var n in this.onShowFuncList)this.onShowFuncList[n](this.onShowRes),t.push(this.onShowFuncList[n]);this.onShowFuncList=t;break;case"onhide":t=[];for(var n in this.onHideFuncList)this.onHideFuncList[n](),t.push(this.onHideFuncList[n]);this.onHideFuncList=t}},e.checkQueryEvent=function(){if(this.onShowRes){var e=this.onShowRes,t=e.query||{};t.share&&r.HD_MODULE.getNet().postGameEvent({event_name:"shareIn"+e.scene+t.share,counter:1})}},e.vibrateShort=function(){var e=this;return new Promise(function(t,n){e.vibrateNum>0||(e.vibrateNum++,a.default.vibrateShort())})},e.setDefaultRightTopShare=function(){var e=this;this.getOneShareInfoByType("common",function(t){if(t){var n={title:t.title,imageUrl:t.image_url,query:t.query};e.setShareAppMsg(n)}})},e.checkIsRewardShare=function(e){if(e&&e instanceof cc.Node!=0&&this.shareSwitch){var t=Number(this.shareSwitch.share||0);e.active=e.active&&!!t}},e.getLocalUserInfo=function(){return i.HDDefaultUserInfo},e.rigisterEventAfterLogin=function(e){this.isLogin?e():this.afterLoginCallBackList.push(e)},e.inAppPurchaseWithOrderInfo=function(){return new Promise(function(e){a.default.inAppPurchaseWithOrderInfo().then(e)})},e.userInfo=null,e.shareInfo={},e.switchConfig={},e.hideTime=0,e.shareFunc=null,e.isLogin=!1,e.onShowRes={},e.authorizeInfo={},e.loginCallBackList=[],e.loginFailCallBackList=[],e.loginCode=-1,e.gameClub=null,e.shareTemplate=null,e.shareSwitch=null,e.isVideo=!1,e.onShowFuncList=[],e.onHideFuncList={},e.isGetShareTemplate=!1,e.afterLoginCallBackList=[],e.bannerAd=null,e.reqList=[],e.vibrateNum=0,e}();n.default=c,cc._RF.pop()},{"../../../config/AppConfig":"AppConfig","../../../hd_module":"hd_module","../../../mgr/EventManager":"EventManager","./jsb/JsBridgeIOS":"JsBridgeIOS"}],NetAdapter:[function(e,t,n){"use strict";cc._RF.push(t,"fcd1dEkUC1KM5Xct3xxBQAx","NetAdapter");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i,r=e("../manager/GameVoManager"),a=e("../ListenID"),s=e("../../sdk/hd_module/net/protocol/baseprotocol"),c=e("../frame/Notifier"),u=e("../../sdk/hd_module/net/net"),l=function(){function e(){}return e.code={},e}();n.ErrCode=l;var f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.Init=function(){i=new t},t.getServerTime=function(){return i._getServerTime()},t.getKVData=function(){return i._getKVData()},t.putKVData=function(e){e.custom_data;return r.GameVoManager.getInstance.myUserVo.isGetData?i._putKVData(e):(t.getKVData().then(function(e){if(e.data)try{var t=JSON.parse(e.data.custom_data.public);r.GameVoManager.getInstance.myUserVo.updatetUserVo(t),c.Notifier.send(a.ListenID.Login_User)}catch(e){console.error(e)}}).catch(function(e){}),null)},t.getRankData=function(e){return i._getRankData(e)},t.postRankData=function(e){return i._postRankData(e)},t.postMiniGameLogin=function(e){return i._postMiniGameLogin(e)},t.getDSPInfo=function(e){return i._getDSPInfo(e)},t.onlineTime=function(e){return void 0===e&&(e=10),i._onLineTIme(e)},t.prototype._getServerTime=function(){return s.default.requestByConfig("serverTime",{},null,!1)},t.prototype._getKVData=function(){return s.default.requestByConfig("kvDataGet",{})},t.prototype._putKVData=function(e){return s.default.requestByConfig("kvDataPut",e)},t.prototype._getRankData=function(e){return s.default.requestByConfig("rankGet",e)},t.prototype._postRankData=function(e){return s.default.requestByConfig("rankPost",e)},t.prototype._postMiniGameLogin=function(e){return s.default.requestByConfig("login",e,null,!1)},t.prototype._getDSPInfo=function(e){return s.default.requestByConfig("dspGet",e)},t.prototype._onLineTIme=function(e){return s.default.requestByConfig("online",{duration:e})},t}(u.default);n.default=f,cc._RF.pop()},{"../../sdk/hd_module/net/net":void 0,"../../sdk/hd_module/net/protocol/baseprotocol":void 0,"../ListenID":"ListenID","../frame/Notifier":"Notifier","../manager/GameVoManager":"GameVoManager"}],NetErrorAlert:[function(e,t,n){"use strict";cc._RF.push(t,"46declbrmVHPa/CqqMXijbO","NetErrorAlert");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../framework/MVCS"),a=e("../manager/Manager"),s=cc._decorator,c=s.ccclass,u=(s.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cbConfirm=null,t}return o(t,e),t.prototype.start=function(){},t.prototype.changeListener=function(e){},t.prototype.onOpen=function(t){e.prototype.onOpen.call(this,t),this.cbConfirm=t&&t.errorcb},t.prototype.onClose=function(){a.Manager.audio.playAudio(1),e.prototype.onClose.call(this),this.cbConfirm&&this.cbConfirm()},t=i([c],t)}(r.MVCS.BaseView));n.default=u,cc._RF.pop()},{"../framework/MVCS":void 0,"../manager/Manager":"Manager"}],NetLauncher:[function(e,t,n){"use strict";cc._RF.push(t,"b64d5Qq67dLqqt3QF0McOTv","NetLauncher"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){return function(){}}();n.NetLauncher=o,cc._RF.pop()},{}],NormalTips:[function(e,t,n){"use strict";cc._RF.push(t,"7f8082bB75CY4gPQKGJlMMq","NormalTips");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,a=r.ccclass,s=r.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t}return o(t,e),t.prototype.start=function(){},t.prototype.setText=function(e){this.label.string=e},i([s(cc.Label)],t.prototype,"label",void 0),t=i([a],t)}(cc.Component);n.default=c,cc._RF.pop()},{}],NoticeCfg:[function(e,t,n){"use strict";cc._RF.push(t,"50d9crL1RlIAqcWcow6rsW/","NoticeCfg");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._name="Notice",t}return o(t,e),t}(e("./TConfig").TConfig);n.NoticeCfgReader=i,cc._RF.pop()},{"./TConfig":"TConfig"}],Notifier:[function(e,t,n){"use strict";cc._RF.push(t,"1a97cfMNyNJnqpGTbprbfUW","Notifier"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("./NotifyListener"),i=e("./NotifyCaller");n.PriorLowest=-200,n.PriorLow=-100,n.PriorMiddle=0,n.PriorHigh=100,n.PriorHighest=200;var r=function(){function e(){}return e.addListener=function(e,t,o,i){void 0===i&&(i=n.PriorMiddle),this.m_listener.Register(e,t,o,i)},e.delListener=function(e,t,n){this.m_listener.Unregister(e,t,n)},e.changeListener=function(e,t,o,i,r){void 0===r&&(r=n.PriorMiddle),e?this.addListener(t,o,i,r):this.delListener(t,o,i)},e.send=function(e,t,n,o,i){this.m_listener.Send(e,t,n,o,i)},e.clean=function(e){this.m_listener.clean(e)},e.isExist=function(e){return this.m_listener.IsExist(e)},e.setCall=function(e,t,n){return this.m_caller.Register(e,t,n)},e.delCall=function(e,t,n){return this.m_caller.Unregister(e,t,n)},e.changeCall=function(e,t,n,o){return e?this.setCall(t,n,o):this.delCall(t,n,o)},e.call=function(e,t,n,o,i){return this.m_caller.Call(e,t,n,o,i)},e.m_listener=new o.NotifyListener,e.m_caller=new i.NotifyCaller,e}();n.Notifier=r,cc._RF.pop()},{"./NotifyCaller":"NotifyCaller","./NotifyListener":"NotifyListener"}],NotifyCaller:[function(e,t,n){"use strict";cc._RF.push(t,"d2865wW+UtEgLveeHqsHM3M","NotifyCaller"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(){this.m_calls={}}return e.prototype.Register=function(e,t,n){return null!=t&&(null==this.m_calls[e]&&(this.m_calls[e]={func:t,context:n},!0))},e.prototype.Unregister=function(e,t,n){var o=this.m_calls[e];return null!=o&&o.func===t&&o.context==n&&(delete this.m_calls[e],!0)},e.prototype.Call=function(e,t,n,o,i){var r=this.m_calls[e];if(null!=r)return r.func.call(r.context,t,n,o,i);cc.error("[NotifyCaller].Call can't find:"+e)},e}();n.NotifyCaller=o,cc._RF.pop()},{}],NotifyID:[function(e,t,n){"use strict";cc._RF.push(t,"97e62j7BFtKM51EchuRHmfa","NotifyID"),Object.defineProperty(n,"__esModule",{value:!0}),function(e){e[e.App_Start=1]="App_Start",e[e.App_Pause=2]="App_Pause",e[e.Game_Update=3]="Game_Update",e[e.SDK_Banner_Resize=4]="SDK_Banner_Resize",e[e.Time_Scale=5]="Time_Scale",e[e.Game_onHide=6]="Game_onHide",e[e.Game_OnShareShow=7]="Game_OnShareShow",e[e.Game_OnShow=8]="Game_OnShow"}(n.NotifyID||(n.NotifyID={})),cc._RF.pop()},{}],NotifyListener_Interl:[function(e,t,n){"use strict";cc._RF.push(t,"67cb1KHeTNAqJoT66yS7OyB","NotifyListener_Interl"),Object.defineProperty(n,"__esModule",{value:!0}),n.kMaxStackDepth=15,n.kWarningStackDepth=10;var o=function(){function e(e,t,n){this._prior=0,this._sendTimes=0,this._callback=e,this._context=t,this._prior=n}return Object.defineProperty(e.prototype,"context",{get:function(){return this._context},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"callback",{get:function(){return this._callback},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"prior",{get:function(){return this._prior},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sendTimes",{get:function(){return this._sendTimes},enumerable:!0,configurable:!0}),e.prototype.SetSendTimes=function(e){this._sendTimes=e},e}(),i=function(){function e(e){this.m_sendTimes=0,this.m_id=0,this.m_id=e,this.m_handlers=new Array}return e.prototype.toString=function(){return"<ListenerManager id:%{m_id}, times:%{m_sendTimes}>"},e.prototype.IsExistHandler=function(e,t){if(this.m_handlers.length>0)for(var n=this.m_handlers.length-1;n>=0;n--){var o=this.m_handlers[n];if(o.callback===e&&o.context==t)return!0}return!1},e.prototype.AddHandler=function(e,t,n){var i=new o(e,t,n);if(this.m_handlers.length>0){for(var r=!1,a=this.m_handlers.length-1;a>=0;a--)if(i.prior>=this.m_handlers[a].prior){this.m_handlers.splice(a+1,0,i),r=!0;break}r||this.m_handlers.unshift(i)}else this.m_handlers.push(i);return!0},e.prototype.RemoveHandler=function(e,t){var n=-1;if(this.m_handlers.length>0)for(var o=this.m_handlers.length-1;o>=0;o--){var i=this.m_handlers[o];if(i.callback===e&&i.context==t){n=o;break}}return-1!=n&&(this.m_handlers.splice(n,1),!0)},e.prototype.Send=function(e,t,n,o){++this.m_sendTimes;for(var i=this.m_handlers.length-1;i>=0;i--){var r=this.m_handlers[i];r&&(r.sendTimes>=this.m_sendTimes||(r.SetSendTimes(this.m_sendTimes),r.callback.call(r.context,e,t,n,o)))}},e.prototype.clean=function(){if(this.m_handlers.length>0)for(var e=this.m_handlers.length-1;e>=0;e--){null==this.m_handlers[e].context&&this.m_handlers.splice(e,1)}},e}();n.ListenerManager=i,cc._RF.pop()},{}],NotifyListener:[function(e,t,n){"use strict";cc._RF.push(t,"1b19czbpMlFxIGLQHLcQazG","NotifyListener"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("./NotifyListener_Interl"),i=function(){function e(){this.m_managers={},this.m_callStacks=[]}return e.prototype.GetCellStackString=function(){for(var e="[",t=0,n=this.m_callStacks;t<n.length;t++){e+=n[t]+","}return e+="]"},e.prototype.CheckAndPushCallStack=function(e){var t=this.m_callStacks.length;return t>=o.kMaxStackDepth?(cc.error("[NotifyListener].Send out call stack:"+this.GetCellStackString()+" msg:"+e),!1):t>=o.kWarningStackDepth?(cc.warn("[NotifyListener].Send warning call stack:"+this.GetCellStackString()+" msg:"+e),!1):(this.m_callStacks.push(e),!0)},e.prototype.PopCallStack=function(){this.m_callStacks.pop()},e.prototype.Register=function(e,t,n,i){if(null!=t){var r=this.m_managers[e];if(null==r)r=new o.ListenerManager(e),this.m_managers[e]=r;else if(r.IsExistHandler(t,n))return void cc.error("[NotifyListener].Register:"+e+" callback repeat, skip",n);r.AddHandler(t,n,i)}else cc.error("[NotifyListener].Register:"+e+" callback null")},e.prototype.Unregister=function(t,n,o){var i=this.m_managers[t];null!=i?i.RemoveHandler(n,o)||e.enableLog&&cc.warn("[NotifyListener].Unregister:"+t+" can't find callback:"+n):e.enableLog&&cc.warn("[NotifyListener].Unregister can't find ListenerManager:"+t+" callback:"+n,o)},e.prototype.Send=function(t,n,o,i,r){var a=this.m_managers[t];null!=a?this.CheckAndPushCallStack(t)&&(a.Send(n,o,i,r),this.PopCallStack()):e.enableLog&&cc.warn("[NotifyListener].Send can't find ListenerManager:"+t)},e.prototype.IsExist=function(e){return null!=this.m_managers[e]},e.prototype.clean=function(e){var t=this.m_managers[e];t&&t.clean()},e.enableLog=!0,e}();n.NotifyListener=i,cc._RF.pop()},{"./NotifyListener_Interl":"NotifyListener_Interl"}],ObjectPool:[function(e,t,n){"use strict";cc._RF.push(t,"9ebeeVElW5JcazhbGpIzlSo","ObjectPool"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t,n){void 0===t&&(t=null),void 0===n&&(n=null),this._ctor=e,this._queue=new Array,this._onPop=t,this._onPush=n}return e.prototype.pop=function(){var e;return e=this._queue.length>0?this._queue.shift():this._ctor(),null!=this._onPop&&this._onPop(e),e},e.prototype.push=function(e){null!=this._onPush&&this._onPush(e),this._queue.push(e)},e.prototype.clear=function(){this._queue=[]},e}();n.ObjectPool=o,cc._RF.pop()},{}],Pool:[function(e,t,n){"use strict";cc._RF.push(t,"d47abuHwkRE06MRyxyUgAQS","Pool");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var r=e("./Time"),a=function(){function e(){this.m_pools={}}return e.prototype.isExist=function(e){return null!=this.m_pools[e]},e.prototype.create=function(e,t,n){void 0===n&&(n=null);try{var o=this.m_pools[e];if(null!=o)return cc.error("Pool has Created:"+e),o;null==t&&cc.error("PoolManager.create target null",e);var i=null;return(i=null==n?new cc.Node(e):n).position=cc.Vec2.ZERO,i.rotation=0,(o=i.addComponent(u)).Type=e,o.Root=i,o.target=t,o.DontDestroyOnLoad(),this.m_pools[e]=o,o}catch(e){cc.error(e)}return null},e.prototype.destory=function(e){var t=this.m_pools[e];null!=t?(delete this.m_pools[e],t._Destory()):cc.error("Destory Pool no exist:"+e)},e.prototype.clear=function(e,t){var n=this.m_pools[e];null!=n?n._Clear(t):cc.error("Clear Pool no exist:"+e)},e.prototype.checkUnClear=function(){for(var e in this.m_pools){var t=this.m_pools[e];null!=t.Root&&(0!=t.Root.childrenCount&&(cc.warn("Pool wasn't cleared: "+e),cc.warn("First child:"+t.Root.children[0].name)))}},e}();n.PoolManager=new a;var s=cc._decorator,c=s.ccclass,u=(s.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.MatchScale=!1,t.MatchLayer=!1,t.BackActive=!0,t.ClearAbove=-1,t.ClearMaxPer=5,t.GroupPosition=cc.v2(1e3,1e3),t.m_spawners={},t}return o(t,e),t.prototype.GetPrefab=function(e){var t=this.m_spawners[e];return null==t?(cc.error("Pool.getPrefab null",this.Type,e),null):t.Prefab},t.prototype.CheckPrefab=function(e){return null!=this.m_spawners[e]},t.prototype.GetSpawner=function(e){var t=this.m_spawners[e];return null==t?(cc.warn("Pool.getSpawner null",this.Type,e),null):t},t.prototype.GetDatas=function(){var e=[];for(var t in this.m_spawners){var n=this.m_spawners[t];e.push(toArray(n.spawneds))}return e},t.prototype.DontDestroyOnLoad=function(){cc.game.addPersistRootNode(this.Root)},t.prototype._DespawnAll=function(){null!=this.Root?toArray(this.m_spawners).forEach(function(e){e.DespawnAll()}):cc.error(this.Type+" is Null:Clear")},t.prototype._Clear=function(e){var t=this;null!=this.Root?toArray(this.m_spawners).forEach(function(n){e>=n.grade?(delete t.m_spawners[n.Id],n.destory()):--n.grade}):cc.error(this.Type+" is Null:Clear")},t.prototype._Destory=function(){if(null!=this.Root){for(var e in this.unscheduleAllCallbacks(),this.m_spawners){this.m_spawners[e].destory()}this.m_spawners=null,null!=this.Root&&(this.Root.destroy(),this.Root=null)}else cc.error(this.Type+" is Null: Destroy")},t.prototype.CreateSpawner=function(e,t,n,o,i,r,a){if(void 0===n&&(n=null),void 0===o&&(o=null),void 0===i&&(i=1),void 0===r&&(r=-1),void 0===a&&(a=0),null==this.Root)return cc.error(this.Type+" is Null, CreateSpawner id:"+e),null;this.smoothClear();var s=this.m_spawners[e];return null!=s?(cc.error(this.Type+" CreateSpawner twice id:"+e),s):((s=new f(e,t,this,n,o,i,r)).grade=a,this.m_spawners[s.Id]=s,s.PreloadInstances(),s)},t.prototype.DelSpawner=function(e){var t=this.m_spawners[e];null!=t?(t.destory(),delete this.m_spawners[e]):cc.error(this.Type+" DelSpawner Null id:"+e)},t.prototype.poolSpawnerComparer=function(e,t){return e.lastSpawnTime-t.lastSpawnTime},t.prototype.smoothClear=function(){if(!(this.ClearAbove<0)){var e=0,t=[];for(var n in this.m_spawners){(i=this.m_spawners[n]).clearing||(++e,0==i.grade&&0==i.spawneds.length&&t.push(i))}if(!(e<this.ClearAbove||0==t.length)){e=0,t.sort(this.poolSpawnerComparer);for(var o=0;o<t.length;o++){var i;if((i=t[o]).SmoothClear(),++e>=this.ClearMaxPer)break}}}},t.prototype.Spawn=function(e,t,n,o){if(void 0===t&&(t=cc.Vec2.ZERO),void 0===n&&(n=0),void 0===o&&(o=null),null==this.Root)return cc.error(this.Type+" is Null, Spawn id:"+e),null;var i=this.m_spawners[e];return null==i?(cc.error(this.Type+" Can't Find Spawner id:"+e),null):i.SpawnInstance(t,n,o)},t.prototype.Despawn=function(e){this.despawn(e,!1)},t.prototype.despawn=function(e,t){if(null!=e){if(!(e.spawnTimes<=0))if(null!=this.Root)if(e.spawned)try{null!=e.spawner?(e.spawner.DespawnInstance(e,t),0==e.spawner.spawneds.length&&this.smoothClear()):cc.error(this.Type+" spawner is Null!! id:"+e.id+"instanceID:"+e.uuid)}catch(e){cc.error(e)}else cc.warn(this.Type+" despawn mult, id:"+e.id+" inst:"+e.uuid);else cc.error(this.Type+" is Null, despawn id:"+e.id+" inst:"+e.uuid)}else cc.error(this.Type+" data is Null")},t.prototype.DelayDespawn=function(e,t){if(null!=e)if(null!=this.Root){var n=e.spawnTimes;r.Time.delay(t,this.onDelayDespawn,[e,n],this)}else cc.error(this.Type+" is Null, DelayDespawn id:"+e.id+" inst:"+e.uuid);else cc.error(this.Type+" data is Null")},t.prototype.onDelayDespawn=function(e){var t=e[0],n=e[1];t[0].spawnTimes==n&&this.Despawn(t)},t=i([c],t)}(cc.Component));n.Pool=u;var l=function(){function e(e,t,n){this._id=0,this._uuid="",this.m_spawnTimes=0,this.m_spawned=!1,this._id=e,this._uuid=t.uuid,this._node=t,this._name=t.name,this._spawner=n}return Object.defineProperty(e.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"uuid",{get:function(){return this._uuid},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"spawnTimes",{get:function(){return this.m_spawnTimes},enumerable:!0,configurable:!0}),e.prototype.Spawn=function(){this.m_spawned=!0,++this.m_spawnTimes},e.prototype.Despawn=function(){this.m_spawned=!1},e.prototype.Clear=function(){this.m_spawnTimes=0},Object.defineProperty(e.prototype,"node",{get:function(){return this._node},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"spawner",{get:function(){return this._spawner},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"spawned",{get:function(){return this.m_spawned},enumerable:!0,configurable:!0}),e}();n.PoolItem=l;var f=function(){function e(e,t,n,o,i,a,s){this.m_id=0,this.grade=0,this.cullAbove=-1,this.m_clearing=!1,this.m_preloadCount=1,this.m_preload=!1,this.m_lastSpawnTime=0,this.m_spawneds=[],this.m_despawneds=[],this._cursor=0,this.m_id=e,this.m_prefab=t,this.m_pool=n,this.m_spawnedEvent=o,this.m_despawnedEvent=i,this.m_preloadCount=a,this.cullAbove=s,this.m_lastSpawnTime=r.Time.time}return Object.defineProperty(e.prototype,"Id",{get:function(){return this.m_id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Prefab",{get:function(){return this.m_prefab},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"clearing",{get:function(){return this.m_clearing},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lastSpawnTime",{get:function(){return this.m_lastSpawnTime},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"spawneds",{get:function(){return this.m_spawneds},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"despawneds",{get:function(){return this.m_despawneds},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"TotalCount",{get:function(){var e=0;return e+=this.m_spawneds.length,e+=this.m_despawneds.length},enumerable:!0,configurable:!0}),e.prototype.SmoothClear=function(){this.m_clearing=!0,null==this.m_cullWatcher&&(this.m_cullWatcher=r.Time.delay(10,this.cullDespawned,null,this,-1))},e.prototype.destory=function(){null!=this.m_pool.onDelSpawner&&this.m_pool.onDelSpawner.call(this.m_pool.target,this.m_id),this.m_id=0,cc.isValid(this.Prefab,!0),this.m_prefab=null,null!=this.m_cullWatcher&&(this.m_cullWatcher.Cancal(),this.m_cullWatcher=null),this.clear()},e.prototype.clear=function(){var e=this;this.m_despawneds.forEach(function(t){e._clear(t)}),this.m_despawneds=[],this.m_spawneds.forEach(function(t){e._clear(t)}),this.m_spawneds=[]},e.prototype._clear=function(e){e.Clear(),cc.isValid(e.node,!0)&&(e.Despawn(),e.node.parent=null,e.node.destroy())},e.prototype.DespawnAll=function(){for(var e=0;e<this.m_spawneds.length;e++){var t=this.m_spawneds[e];t.Despawn(),cc.isValid(t.node,!0)&&(this.m_despawneds.push(t),t.node.parent=this.m_pool.Root,t.node.position=this.m_pool.GroupPosition,this.m_pool.BackActive&&(t.node.active=!1),this.despawnEvent(t))}this.m_spawneds=[]},e.prototype.despawnEvent=function(e){try{return null!=this.m_despawnedEvent&&(this.m_despawnedEvent.call(this.m_pool.target,e),cc.isValid(e.node,!0)||cc.warn(this.m_pool.Type+" despawnEvent Error uuid:"+e.uuid+" Id:"+e.id)),!0}catch(e){cc.error(e)}return!1},e.prototype.DespawnInstance=function(e,t,n){return void 0===n&&(n=!0),null==e?(cc.error("DespawnInstance data null, Pool:"+this.m_pool.Type),!1):(e.Despawn(),n&&!this.m_spawneds.remove(e)?cc.error("spawneds can't find:",e.id,e.uuid,e.name):this.logSpawneds("DespawnInstance",e),cc.isValid(e.node,!0)?t?(e.node.destroy(),e.Clear(),cc.log(this.m_pool.Type,"DespawnInstance destroy",e.id,"uuid:"+e.uuid,e.name)):(this.m_despawneds.push(e),e.node.parent=this.m_pool.Root,e.node.position=this.m_pool.GroupPosition,this.m_pool.BackActive&&(e.node.active=!1)):cc.warn(this.m_pool.Type+" DespawnInstance Error uuid:"+e.uuid+" Id:"+e.id),null==this.m_cullWatcher&&this.cullAbove>=0&&this.m_despawneds.length>this.cullAbove&&(this.m_cullWatcher=r.Time.delay(10,this.cullDespawned,null,this,-1)),!(n&&!this.despawnEvent(e)))},e.prototype.cullDespawned=function(){var e=this.cullAbove;(this.m_clearing||this.cullAbove<=0)&&(e=0);var t=this.m_despawneds.length;if(t>e){t>5&&(t=5);for(var n=t-1;n>=0;n--){var o=this.m_despawneds.pop();this._clear(o)}}else this.m_cullWatcher.Cancal(),this.m_cullWatcher=null,this.m_clearing&&0!=this.m_id&&this.m_pool.DelSpawner(this.m_id)},e.prototype.fixErrorDestory=function(){for(var e=this.m_spawneds.length,t=e-1;t>=0;t--){var n=this.m_spawneds[t];cc.isValid(n.node,!0)||(this._clear(n),this.m_spawneds.removeAt(t))}for(t=(e=this.m_despawneds.length)-1;t>=0;t--){n=this.m_despawneds[t];cc.isValid(n.node,!0)||(this._clear(n),this.m_despawneds.removeAt(t))}},e.prototype.SpawnInstance=function(e,t,n){this.m_clearing=!1,this.m_lastSpawnTime=r.Time.time;for(var o=null;null==o;){if(this.m_despawneds.length<=0){o=this.spawnNew(e,t,n);break}o=this.m_despawneds.shift(),cc.isValid(o.node,!0)||(cc.error(this.m_pool.Type+" Despawn Error inst:"+o.uuid+" ID:"+o.id+" Name:"+o.name),o=null,this.fixErrorDestory())}return null==o?(cc.error("SpawnInstance null",o.id+" Name:"+o.name),null):(null!=n&&cc.isValid(n,!0)&&(o.node.parent=n,this.m_pool.MatchLayer&&this.SetRecursively(o.node,n.groupIndex)),o.node.position=e,o.node.rotation=t,o.node.active=!0,this.m_spawneds.push(o),this.logSpawneds("SpawnInstance",o),o.Spawn(),o)},e.prototype.spawnNew=function(e,t,n){if(void 0===e&&(e=null),void 0===t&&(t=0),void 0===n&&(n=null),null==this.m_pool||null==this.m_pool.Root)return cc.warn(this.m_pool,"Pool has destroy!!!, id:",this.m_id),null;if(null==this.m_prefab)return cc.error(this.m_pool,"Pool prefab null!!!, id:",this.m_id),null;null==e&&(e=this.m_pool.GroupPosition),null!=n&&cc.isValid(n,!0)||(n=this.m_pool.Root);var o,i=cc.instantiate(this.m_prefab);return null==i&&cc.error(this.m_pool,"Pool inst null!!!, id:",this.m_id,this.m_prefab),i.name=this.m_prefab.name,this.nameInstance(i),i.parent=n,i.position=e,i.rotation=t,this.m_pool.MatchScale&&(i.scale=1),o=null!=this.m_spawnedEvent?this.m_spawnedEvent.call(this.m_pool.target,this.m_id,i,this):new l(this.m_id,i,this),this.m_pool.MatchLayer&&this.SetRecursively(i,n.groupIndex),o},e.prototype.logSpawneds=function(e,t){},e.prototype.SetRecursively=function(e,t){var n=this;e.groupIndex=t,e.children.forEach(function(e){n.SetRecursively(e,t)})},e.prototype.PreloadInstances=function(){if(this.m_preload)cc.log(this.m_pool.Type+" Preload twice "+this.m_prefab.name);else for(this.cullAbove>0&&this.m_preloadCount>this.cullAbove&&cc.error(this.m_pool.Type+" PreloadCount > cullAbove ",this.m_prefab.name),this.m_preload=!0;this.TotalCount<this.m_preloadCount;){var e=this.spawnNew();this.DespawnInstance(e,!1,!1)}},e.prototype.nameInstance=function(e){++this._cursor,e.name+="_"+ ++this._cursor},e}();n.PoolSpawner=f,cc._RF.pop()},{"./Time":"Time"}],QQ:[function(e,t,n){"use strict";cc._RF.push(t,"265958iri5KGKkYnYC42rIB","QQ"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../imp/sdk_hd_minipro_0.0.1"),i=e("../../../mgr/EventManager"),r=e("../../../config/AppConfig"),a=e("../../../hd_module"),s=e("../../../utils/base64.js"),c=e("../../../net/protocol/baseprotocol"),u=e("../../../../../manager/Manager"),l=e("../../../../../manager/GameVoManager"),f=window.qq,p=window.wx,h=function(e,t){if(e)for(;e.length>0;){var n=e.pop();n&&n(t)}},d=function(){function e(){}return e.init=function(){f.showShareMenu({showShareItems:["qq","qzone"]}),o.HDMiniPro.setup(e.onShowCallBack.bind(this),e.onHideCallBack.bind(this)),i.EventManager.on("open-share",this.share,this)},e.onShowCallBack=function(t){e.onShowRes=t,t.query.openId&&e.getUserInfo(function(e){a.HD_MODULE.getNet().postInvitation({inviter_open_id:t.query.openId,mark:e.avatar_url},function(){},function(e){})},function(){}),t.query.channel_code&&(e.channel_code=t.query.channel_code);var n=t.referrerInfo;if(n){var o=n.extraData,s=n.appId;o&&o.channel_code&&(e.channel_code=o.channel_code),s&&a.HD_MODULE.getNet().postDSPIn({from_app_id:s})}e.getShareTemplate(r.appConfig.app_version),e.shareFunc&&(Date.now()-e.hideTime>=2500?e.shareFunc(0):e.shareFunc(-1)),e.shareFunc=null,e.updateNotityEvent("onshow"),e.checkQueryEvent(),i.EventManager.emit("game-onshow",{res:t})},e.onHideCallBack=function(t){e.onHideRes=t,e.hideTime=Date.now(),e.updateNotityEvent("onhide"),i.EventManager.emit("game-onhide")},e.loginCallBack=function(t){e.isLogin=!0,h(this.loginCallBackList,t),h(this.afterLoginCallBackList,t),i.EventManager.emit("game-login")},e.loginFailCallBack=function(e){for(;this.loginFailCallBackList.length>0;)this.loginFailCallBackList.pop()(e)},e.share=function(t){t.channel;var n=t.title||"",o=t.imageUrl||"https://cdn.heidong.fun/gameres/t3/p1/release/wechat/1.0.0/shareTemplates/res/share.jpg",i=t.query||"",r=t.extra||void 0,s=t.scene||"\u672a\u5b9a\u4e49\u573a\u666f";if(e.shareFunc=function(n){0==n?(t.success&&t.success(),a.HD_MODULE.getNet().postGameEvent({event_name:"\u5206\u4eab\u6210\u529f"+s,counter:1})):-1==n&&(t.fail&&t.fail(),e.showWxTips("\u63d0\u793a","\u8bf7\u5206\u4eab\u4e0d\u540c\u7fa4\u83b7\u5f97\u5956\u52b1","\u786e\u5b9a"),a.HD_MODULE.getNet().postGameEvent({event_name:"\u5206\u4eab\u5931\u8d25"+s,counter:1}))},cc.sys.platform==cc.sys.WECHAT_GAME){var c={title:n,imageUrl:o,query:i+"&share="+s+"&openId="+a.HD_MODULE.getPlatform().getOpenId(),extra:r,ald_desc:s};this._shareAppMessage(c)}else e.shareFunc&&e.shareFunc(0)},e.showWxTips=function(e,t,n,o,i){void 0===n&&(n="\u786e\u5b9a"),void 0===o&&(o="");var r={title:e,content:t,showCancel:Boolean(o),confirmText:n,cancelText:o,success:i};f.showModal(r)},e.getUserInfo=function(e,t,n){void 0===n&&(n=1),this.userInfo?e&&1==n&&e(this.userInfo):this._login(e,t,n)},e.login=function(){return new Promise(function(t,n){f.login({success:function(o){if(o.code){var i=o;r.HDDefaultUserInfo.code=i.code;var c={platform_id:r.appConfig.platform_id,app_id:r.appConfig.app_id,user_info:r.HDDefaultUserInfo,channel_code:e.channel_code};a.HD_MODULE.getNet().postMiniGameLogin(c,function(n){var o=n.data.token;a.HD_MODULE.getPlatform().setToken(o),e.loginCode=1,e.isLogin=!0;var i=n.data.token.split("."),r=JSON.parse(s.Base64.decode(i[1]));n.data.token&&e.channel_code&&r.new_user&&(e.countAgain=3,e.confirmAgainDelay()),t()},function(t){e.loginCode=0,n()})}else n()},fail:function(e){n()}})})},e._silenceLogin=function(t,n){void 0===t&&(t=function(){}),void 0===n&&(n=function(){}),e.loginFailCallBackList.push(n),0!=e.loginCode&&(e.loginCallBackList.push(t),e.loginCallBackList.length>1)||f.login({success:function(t){if(t.code){var n=t;if(r.HDDefaultUserInfo.code=n.code,a.HD_MODULE.getPlatform().getToken())e.loginCallBack(t);else{var o={platform_id:r.appConfig.platform_id,app_id:r.appConfig.app_id,user_info:r.HDDefaultUserInfo,channel_code:e.channel_code};a.HD_MODULE.getNet().postMiniGameLogin(o,function(t){var n=t.data.token;a.HD_MODULE.getPlatform().setToken(n),localStorage.setItem("token"+r.appConfig.platform_id+r.appConfig.env,n),e.loginCode=1,e.loginCallBack(t);var o=t.data.token.split("."),i=JSON.parse(s.Base64.decode(o[1]));t.data.token&&e.channel_code&&i.new_user&&(e.countAgain=3,e.confirmAgainDelay())},function(t){e.loginCode=0,e.loginFailCallBack(t)})}}else e.loginCallBackList=[],e.loginFailCallBack(t)},fail:function(t){e.loginFailCallBack(t),e.loginCallBackList=[]}})},e._login=function(t,n,o){var i=this;void 0===o&&(o=1);var a=function(n){e.userInfo=n.userInfo,l.GameVoManager.getInstance.myUserVo.isAuthorize=1,r.HDDefaultUserInfo.avatar_url=e.userInfo.avatarUrl,r.HDDefaultUserInfo.city=e.userInfo.city,r.HDDefaultUserInfo.country=e.userInfo.country,r.HDDefaultUserInfo.gender=e.userInfo.gender,r.HDDefaultUserInfo.nick_name=e.userInfo.nickName,r.HDDefaultUserInfo.province=e.userInfo.province,l.GameVoManager.getInstance.myUserVo.nickName=e.userInfo.nickName,l.GameVoManager.getInstance.myUserVo.avatarUrl=e.userInfo.avatarUrl,e.userInfo=r.HDDefaultUserInfo;r.appConfig.platform_id,r.appConfig.app_id,e.userInfo;t(e.userInfo)},s=function(){var t=cc.view.getVisibleSize(),i=f.getSystemInfoSync(),r=i.screenWidth/t.width,s=i.screenHeight/t.height,c=f.createUserInfoButton({type:"image",image:1==o?"https://cdn.heidong.fun/gameres/t3/p1/release/wechat/loginBtn.png":"https://cdn.heidong.fun/gameres/t3/p1/release/wechat/loginBtn_2.png",style:{left:1==o?i.screenWidth/2-720*r/2:77*r-100*r/2,top:1==o?i.screenHeight/2-1280*s/2:i.screenHeight/2-100,width:1==o?720*r:60,height:1==o?1280*s:55,lineHeight:40,backgroundColor:"#ff0000",fontSize:16,borderRadius:10},withCredentials:!0,lang:"zh_CN"});2==o&&(e.userInfoBtn=c);c.onTap(function(e){"getUserInfo:ok"!=e.errMsg?n(e):(c.destroy(),a(e))})};f.getSetting({success:function(e){i.authorizeInfo=e,e.authSetting["scope.userInfo"]&&l.GameVoManager.getInstance.myUserVo.isAuthorize?f.getUserInfo({success:function(e){1==o&&a(e)}}):s()}})},e.getUserInfoBtn=function(){return e.userInfoBtn},e._shareAppMessage=function(e){p.aldShareAppMessage?p.aldShareAppMessage(e):f.shareAppMessage(e)},e.getIsLogin=function(){return this.isLogin},e.setShareAppMsg=function(e){var t=e.title,n=e.imageUrl,o="channel_code="+e.channel_code;f.onShareAppMessage(function(){return a.HD_MODULE.getNet().postGameEvent({event_name:"\u5206\u4eab\u6210\u529f\u53f3\u4e0a\u89d2",counter:1}),{title:t,imageUrl:n,query:o+"&share=\u53f3\u4e0a\u89d2&openId="+a.HD_MODULE.getPlatform().getOpenId()}})},e.navigateToMiniProgram=function(e){f.navigateToMiniProgram(e)},e.openCustomerServiceConversation=function(e){f.openCustomerServiceConversation(e)},e.getShareTemplate=function(t,n,o){e.shareTemplate?n&&n(e.shareTemplate):c.default.requestByConfig("shareConfig",{version:t}).then(function(t){e.shareTemplate=t.data.share,n&&n(e.shareTemplate)}).catch(function(e){o&&o(e)})},e.getOneShareInfoByType=function(t,n,o){var i=null;if(e.shareTemplate){var a=e.shareTemplate[t];if(a){var s=Math.floor(Math.random()*a.length);i=a[s],n&&n(i)}else o&&o()}else e.getShareTemplate(r.appConfig.app_version,function(e){if(e){var o=e[t];if(o){var r=Math.floor(Math.random()*o.length);i=o[r],n&&n(i)}}},o)},e.openShareByShareTemplateRand=function(t,n){e.getOneShareInfoByType(t,function(t){if(t){var o=t.channel_code?"channel_code="+t.channel_code:"",i={title:t.title,imageUrl:t.image_url,scene:n&&n.scene||"\u5206\u4eab",success:n&&n.success,fail:n&&n.fail,query:o};e.share(i)}})},e.getOnShowRes=function(){return this.onShowRes},e.showVideo=function(t,n,o,r){var a=this;if(void 0===r&&(r=!0),!e.isVideo){e.isVideo=!0;var s=function(e,t){r&&!a.isLoadVideo||(a.isLoadVideo=!1,a.videoAd.load().then(function(){a.isLoadVideo=!0,a.isHaveVideo=!0,e&&e()}).catch(function(){a.isLoadVideo=!0,t&&t()}))},c=function(){r?(a.videoAd.show(),cc.audioEngine.pauseAll(),u.Manager.audio.pauseMusic()):e.isVideo=!1},l=function(t){e.isVideo=!1,s(),o&&o(t)};this.videoAd?this.isLoadVideo?c():l(null):(this.videoAd=f.createRewardedVideoAd({adUnitId:t}),s(function(){c()},function(){l({errCode:0})}));var p=function(t){t&&t.isEnded||void 0==t?(i.EventManager.emit("video-success"),e.isVideo=!1,u.Manager.audio.resumeMusic(),cc.audioEngine.resumeAll(),s(),n&&n()):(console.log("[hd_sdk_QQ]-----\x3e\u89c6\u9891\u4e2d\u9014\u64ad\u653e\u7ed3\u675f\u6216\u89c6\u9891\u9519\u8bef"),l(null)),a.videoAd.offClose(p)},h=function(e){e&&e.errCode&&(1004==e.errCode||1005==e.errCode||1006==e.errCode||1007==e.errCode||1008==e.errCode)&&(a.isHaveVideo=!1),l(e),a.videoAd.offError(h)};this.videoAd.onClose(p),this.videoAd.onError(h)}},e.getIsHaveVideo=function(){return this.isHaveVideo},e.systemInfo=function(){return o.HDMiniPro.systemInfo},e.notifyOnShowEvent=function(t){e.onShowFuncList.push(t)},e.notifyOnHideEvent=function(t){e.onHideFuncList.push(t)},e.updateNotityEvent=function(t){switch(t){case"onshow":for(var n=0;n<e.onShowFuncList.length;n++)e.onShowFuncList[n](e.onShowRes);break;case"onhide":for(n=0;n<e.onHideFuncList.length;n++)e.onHideFuncList[n](e.onHideRes)}},e.checkQueryEvent=function(){if(e.onShowRes){var t=e.onShowRes,n=t.query;n.share&&a.HD_MODULE.getNet().postGameEvent({event_name:"shareIn"+t.scene+n.share,counter:1})}},e.getGameSwitchConfig=function(){return c.default.requestByConfig("shareSwitchGet",{version:r.appConfig.app_version})},e.showToast=function(e,t,n){void 0===t&&(t=!1),f.showToast({title:e,mask:t,icon:n})},e.hideToast=function(){f.hideToast()},e.vibrateShort=function(e,t){f.vibrateShort({success:e,fail:t})},e.setDefaultRightTopShare=function(){var t=this;e.getOneShareInfoByType("common",function(e){if(e){var n={title:e.title,imageUrl:e.imageUrl,query:e.query};t.setShareAppMsg(n)}})},e.checkIsOpenShare=function(t,n){if(t&&t instanceof cc.Node!=0&&e.shareSwitch){var o=Number(e.shareSwitch[n]||0);t.active=t.active&&!!o}},e.isIphoneX=function(){return e._wxSystemInfo||(e._wxSystemInfo=f.getSystemInfoSync()),-1!=e._wxSystemInfo.model.indexOf("iPhone X")||-1!=e._wxSystemInfo.model.indexOf("iPhone1")},e.rigisterEventAfterLogin=function(t){e.isLogin?t():this.afterLoginCallBackList.push(t)},e.showBanner=function(e){var t=this;return new Promise(function(n,o){var i=f.getSystemInfoSync(),r=i.screenWidth,a=i.screenHeight;if(t.bannerAd){if(t.bannerAd.adUnitId==e)return void t.bannerAd.show().then(function(){n&&n()}).catch(function(){o&&o()});t.bannerAd.destroy()}t.bannerAd=f.createBannerAd({adUnitId:e,adIntervals:30,style:{left:0,top:a-88,width:r}}),t.bannerAd.show().catch(function(e){o&&o()}).then(function(){n&&n()}),t.bannerAd.onResize(function(e){t.bannerAd.style.top=a-e.height,t.bannerAd.style.height=e.height}),t.bannerAd.onError(function(){})})},e.hideBanner=function(){var e=this;return new Promise(function(t,n){e.bannerAd&&e.bannerAd.hide(),t&&t()})},e.getSysInfo=function(){return e._wxSystemInfo||this.isIphoneX(),e._wxSystemInfo},e.setLoadingVisible=function(e){e?f.showLoading({title:"\u52a0\u8f7d\u4e2d"}):f.hideLoading()},e.confirmAgainDelay=function(t){void 0===t&&(t=3e4);var n=setTimeout(function(){c.default.requestByConfig("confirmAgain",{}).then(function(e){}).catch(function(t){clearTimeout(n),console.error("catch confirmAgainDelay"),e.countAgain>0&&(e.countAgain--,e.confirmAgainDelay(2e3))})},t)},e.isQuickGame=function(e){return cc.sys.os!=cc.sys.OS_ANDROID?!(!e||!e.mode||"back"!=e.mode):!(!e||!e.mode||"close"!=e.mode&&"back"!=e.mode)},e.uiPasteBoard=function(e,t){f.setClipboardData({data:e,success:function(e){t&&t()}})},e.stageLog=function(e,t){p.aldStage&&(0==e?p.aldStage.onStart({stageId:t.stageId,stageName:t.stageName}):1==e?p.aldStage.onEnd({stageId:t.stageId,stageName:t.stageName,event:t.stageWin?"complete":"fail",params:{desc:t.stageWin?"\u5173\u5361\u5b8c\u6210":"\u5173\u5361\u5931\u8d25"}}):2==e&&p.aldStage.onRunning({stageId:t.stageId,stageName:t.stageName,event:"relive",params:{itemName:"\u590d\u6d3b"}}))},e.userInfo=null,e.shareInfo={},e.switchConfig={},e.hideTime=0,e.shareFunc=null,e.isLogin=!1,e.onShowRes={},e.onHideRes={},e.authorizeInfo={},e.loginCallBackList=[],e.loginFailCallBackList=[],e.loginCode=-1,e.gameClub=null,e.shareTemplate=null,e.shareSwitch=null,e.isVideo=!1,e.videoAd=null,e.isLoadVideo=!0,e.onShowFuncList=[],e.onHideFuncList=[],e.afterLoginCallBackList=[],e.bannerAd=null,e.channel_code="",e.isHaveVideo=!0,e.userInfoBtn=null,e.countAgain=3,e}();n.default=d,cc._RF.pop()},{"../../../../../manager/GameVoManager":"GameVoManager","../../../../../manager/Manager":"Manager","../../../config/AppConfig":"AppConfig","../../../hd_module":"hd_module","../../../mgr/EventManager":"EventManager","../../../net/protocol/baseprotocol":"baseprotocol","../../../utils/base64.js":"base64","../../imp/sdk_hd_minipro_0.0.1":"sdk_hd_minipro_0.0.1"}],ScaleTransition:[function(e,t,n){"use strict";cc._RF.push(t,"41ec92igx1FpZyJ0xuHFgyt","ScaleTransition"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(){this._animInSpeed=.2,this._animOutSpeed=.2,this.isClean=!1}return e.prototype.init=function(e,t){this._node=e,this.isClean=t;var n=cc.callFunc(this.onFadeOutFinish,this),o=cc.callFunc(this.onFadeInFinish,this);this._fadeInAct=cc.sequence(cc.spawn(cc.fadeTo(this._animInSpeed,255),cc.scaleTo(this._animInSpeed,1)),o),this._fadeOutAct=cc.sequence(cc.spawn(cc.fadeTo(this._animOutSpeed,0),cc.scaleTo(this._animOutSpeed,2)),n)},e.prototype.show=function(){var e=this;return new Promise(function(t){null!=e._node&&(e._node.active=!0,e._node.setScale(2),e._node.opacity=0,e._node.runAction(cc.sequence(e._fadeInAct,cc.callFunc(function(){t()}))))})},e.prototype.hide=function(){null!=this._node&&this._node.runAction(this._fadeOutAct)},e.prototype.onFadeInFinish=function(){},e.prototype.onFadeOutFinish=function(){this.isClean?this._node.destroy():this._node.active=!1},e}();n.ScaleTransition=o,cc._RF.pop()},{}],SdkLauncher:[function(e,t,n){"use strict";cc._RF.push(t,"7b7689FnSpCeZiUzT/M2p08","SdkLauncher");var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,r){function a(e){try{c(o.next(e))}catch(e){r(e)}}function s(e){try{c(o.throw(e))}catch(e){r(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}c((o=o.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(e){return function(t){return c([e,t])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,o=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(e){r=[6,e],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../config/Const"),a=e("../manager/GameVoManager"),s=e("../alert/AlertManager"),c=e("../adpapter/NetAdapter"),u=e("../ListenID"),l=e("../sdk/hd_module/hd_module"),f=e("../common/Common_Define"),p=e("../frame/Notifier"),h=e("../frame/Time"),d=function(){function e(e,t){this.launchDesc=null,this.progress=null,this._progressNum=0,this.loadFinish=!1,this.launchDesc=e,this.progress=t,this._progressNum=10,this.loadFinish=!1,this.setSdkInfo(),this.loadShareTemplates(),this.login()}return Object.defineProperty(e.prototype,"progressNum",{get:function(){return this._progressNum>100?100:this._progressNum},enumerable:!0,configurable:!0}),e.prototype.setSdkInfo=function(){p.Notifier.send(u.ListenID.Login_Start)},e.prototype.login=function(){this.loadOther(),this.loadData()},e.prototype.loadData=function(){return o(this,void 0,void 0,function(){var e=this;return i(this,function(t){switch(t.label){case 0:return[4,Promise.all([this.loadGameSwitchConfig(),,this.loadTime(),this.loadUserData(),this.loadScene()])];case 1:return t.sent(),this.progress&&(this.progress.progress=1,this.launchDesc.string="100%"),this.checkLogin().then(function(){e.initData(),e.loadFinish=!0,setTimeout(function(){p.Notifier.send(u.ListenID.Login_Finish)},100)}).catch(function(t){e.reLogin()}),[2]}})})},e.prototype.loadTime=function(){return o(this,void 0,void 0,function(){return i(this,function(e){return[2,new Promise(function(e,t){c.default.getServerTime().then(function(t){if(t&&t.data)h.Time.setServerTime(1e3*t.data.timestamp);else{var n=Date.now();h.Time.setServerTime(n)}e()}).catch(function(t){var n=Date.now();h.Time.setServerTime(n),e()})})]})})},e.prototype.loadShareTemplates=function(){l.HD_MODULE.PLATFORM.getOneShareInfoByType(f.ShareCode.regular,function(e){e&&(e.imageUrl=e.image_url,l.HD_MODULE.PLATFORM.setShareAppMsg(e))},function(){})},e.prototype.loadGameSwitchConfig=function(){return o(this,void 0,void 0,function(){return i(this,function(e){return[2,new Promise(function(e,t){l.HD_MODULE.PLATFORM.getGameSwitchConfig().then(function(t){a.GameVoManager.getInstance.updateSwitchVo(t.data.switch),e()}).catch(function(t){console.error("switch",t),e()})})]})})},e.prototype.loadUserData=function(){return o(this,void 0,void 0,function(){var e=this;return i(this,function(t){return[2,new Promise(function(t,n){c.default.getKVData().then(function(n){if(n.data)try{var o=JSON.parse(n.data.custom_data.public);o=e.checkUserData(o),a.GameVoManager.getInstance.myUserVo.updatetUserVo(o),a.GameVoManager.getInstance.myUserVo.isGetData=!0,p.Notifier.send(u.ListenID.Login_User)}catch(e){console.log("reject------"),console.error(e)}t(n)}).catch(function(n){e.progress.progress+=.1,t(n)})})]})})},e.prototype.loadScene=function(){return o(this,void 0,void 0,function(){return i(this,function(e){return[2,new Promise(function(e,t){cc.director.preloadScene(r.Const.GAME_SCENENAME,function(e,t){},function(){e()})})]})})},e.prototype.loadOther=function(){},e.prototype.checkLogin=function(){var e=this;return new Promise(function(t,n){!a.GameVoManager.getInstance.myUserVo.isGetData&&l.HD_MODULE.PLATFORM.sdk?s.AlertManager.showAlert(s.AlertType.COMMON,{desc:"\u83b7\u53d6\u7528\u6237\u6570\u636e\u5931\u8d25\uff0c\u70b9\u51fb\u786e\u5b9a\u91cd\u8fde",errorcb:function(){c.default.getKVData().then(function(o){if(o.data)try{var i=JSON.parse(o.data.custom_data.public);i=e.checkUserData(i),a.GameVoManager.getInstance.myUserVo.updatetUserVo(i),a.GameVoManager.getInstance.myUserVo.isGetData=!0,p.Notifier.send(u.ListenID.Login_User),t()}catch(e){console.error(e),n()}}).catch(function(e){n()})}}):t()})},e.prototype.checkUserData=function(e){return e},e.prototype.reLogin=function(){var e=this;this.checkLogin().then(function(){e.initData(),e.loadFinish=!0,p.Notifier.send(u.ListenID.Login_Finish)}).catch(function(t){e.reLogin()})},e.prototype.initData=function(){var e=new Date(h.Time.serverTimeMs).getDate(),t=a.GameVoManager.getInstance.myUserVo;e!=t.day&&(t.day=e,p.Notifier.send(u.ListenID.SecondDay))},e}();n.SdkLauncher=d,cc._RF.pop()},{"../ListenID":"ListenID","../adpapter/NetAdapter":"NetAdapter","../alert/AlertManager":"AlertManager","../common/Common_Define":"Common_Define","../config/Const":"Const","../frame/Notifier":"Notifier","../frame/Time":"Time","../manager/GameVoManager":"GameVoManager","../sdk/hd_module/hd_module":"hd_module"}],Session:[function(e,t,n){"use strict";cc._RF.push(t,"96c3cSey1dCQIL6K5jF2b+w","Session"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){return function(){}}();n.Session=o,cc._RF.pop()},{}],SettingController:[function(e,t,n){"use strict";cc._RF.push(t,"30f7fnAalZCW5CtQ8kv/N6Q","SettingController");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("../../framework/MVCS"),r=e("../../framework/Notifier"),a=e("../../ListenID"),s=e("../../CallID"),c=e("./SettingModel"),u=e("../../manager/Manager"),l=e("../../config/Const"),f=e("../../framework/UIManager"),p=e("../../common/Common_Define"),h=function(e){function t(){var t=e.call(this,"SettingController")||this;return t.changeListener(!0),t}return o(t,e),t.prototype.reset=function(){},t.prototype.changeListener=function(e){r.Notifier.changeCall(e,s.CallID.Setting_IsMuteMusic,this.isMuteMusic,this),r.Notifier.changeCall(e,s.CallID.Setting_IsMuteAudio,this.isMuteAudio,this),r.Notifier.changeCall(e,s.CallID.Setting_IsBlockShake,this.isBlockShake,this),r.Notifier.changeCall(e,s.CallID.Setting_IsHurtShow,this.isHurtShow,this),r.Notifier.changeCall(e,s.CallID.Setting_GetRealDesignSize,this.getRealDesign,this),r.Notifier.changeListener(e,a.ListenID.Login_Start,this.onLoginStart,this),r.Notifier.changeListener(e,a.ListenID.Setting_MuteMusic,this.reqMuteMusic,this),r.Notifier.changeListener(e,a.ListenID.Setting_MuteAudio,this.reqMuteAudio,this),r.Notifier.changeListener(e,a.ListenID.Setting_BlockShake,this.reqBlockShake,this),r.Notifier.changeListener(e,a.ListenID.Setting_HurtShow,this.reqHurShow,this),r.Notifier.changeListener(e,a.ListenID.Setting_Open,this.openSettingView,this)},t.prototype.onLoginStart=function(){var e=u.Manager.storage.getString(l.Const.STORAGE_SETTING,"");e&&""!=e&&(c.default.getInstance.initSetting(JSON.parse(e)),u.Manager.audio.muteAudio(c.default.getInstance.muteAudio))},t.prototype.isMuteMusic=function(){return c.default.getInstance.muteMusic},t.prototype.isMuteAudio=function(){return c.default.getInstance.muteAudio},t.prototype.isBlockShake=function(){return c.default.getInstance.blockShake},t.prototype.isHurtShow=function(){return c.default.getInstance.hurtShow},t.prototype.getRealDesign=function(){return c.default.getInstance.getRealDesignSize()},t.prototype.reqMuteMusic=function(e){c.default.getInstance.muteMusic=!!e,u.Manager.audio.muteMusic(!!e),this.reqSave()},t.prototype.reqMuteAudio=function(e){c.default.getInstance.muteAudio=e,u.Manager.audio.muteAudio(e),this.reqSave()},t.prototype.reqBlockShake=function(e){c.default.getInstance.blockShake=e,this.reqSave()},t.prototype.reqHurShow=function(e){c.default.getInstance.hurtShow=e,this.reqSave()},t.prototype.reqSave=function(){u.Manager.storage.setString(l.Const.STORAGE_SETTING,c.default.getInstance.serialize())},t.prototype.openSettingView=function(){f.UIManager.Open(p.Common_UIPath.SettingUI,i.MVCS.eTransition.Default,i.MVCS.eUILayer.Popup)},t}(i.MVCS.BaseController);n.SettingController=h,cc._RF.pop()},{"../../CallID":"CallID","../../ListenID":"ListenID","../../common/Common_Define":"Common_Define","../../config/Const":"Const","../../framework/MVCS":void 0,"../../framework/Notifier":void 0,"../../framework/UIManager":void 0,"../../manager/Manager":"Manager","./SettingModel":"SettingModel"}],SettingModel:[function(e,t,n){"use strict";cc._RF.push(t,"1b462bTuo9PXqzSg0Ooya01","SettingModel");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("../../framework/MVCS"),r=e("../../config/Const"),a=function(e){function t(){var n=e.call(this)||this;return n.muteMusic=!0,n.muteAudio=!0,n.blockShake=!0,n.hurtShow=!0,n.designSize=null,null==t._instance&&(t._instance=n),n}return o(t,e),Object.defineProperty(t,"getInstance",{get:function(){return null==t._instance&&(t._instance=new t),t._instance},enumerable:!0,configurable:!0}),t.prototype.serialize=function(){var e={music:this.muteMusic,audio:this.muteAudio,shake:this.blockShake,hurt:this.hurtShow};return JSON.stringify(e)},t.prototype.reset=function(){},t.prototype.initSetting=function(e){null!==e&&(this.muteMusic=e.music,this.muteAudio=e.audio,this.blockShake=e.shake,this.hurtShow=e.hurt)},t.prototype.getRealDesignSize=function(){if(!this.designSize){var e=cc.view.getCanvasSize();if(e.height/e.width<=1.5){var t=r.Const.designHeight*e.width/e.height;this.designSize=new cc.Size(t,cc.winSize.height)}else{var n=r.Const.designWidth*e.height/e.width;this.designSize=new cc.Size(cc.winSize.width,n)}}return this.designSize},t._instance=null,t}(i.MVCS.BaseModel);n.default=a,cc._RF.pop()},{"../../config/Const":"Const","../../framework/MVCS":void 0}],SettingView:[function(e,t,n){"use strict";cc._RF.push(t,"e5b2cFLlIlDgbPnxsfXy1gh","SettingView");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../ListenID"),a=e("../../CallID"),s=e("../../manager/Manager"),c=e("../../common/Common_Define"),u=e("../../sdk/hd_module/hd_module"),l=e("../../sdk/hd_module/config/AppConfig"),f=e("../../alert/AlertManager"),p=e("../../utils/Util"),h=e("../../frame/Notifier"),d=e("../../frame/NotifyID"),g=e("../../frame/MVCS"),_=e("../../frame/UIManager"),m=cc._decorator,y=m.ccclass,v=m.property,S=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.musicToggle=null,t.audioToggle=null,t.shakeToggle=null,t.hurtToggle=null,t.lblCustomServer=null,t.lblUserId=null,t._customServer="",t._userId="",t._pasteBtnId="",t}return o(t,e),t.prototype.changeListener=function(e){h.Notifier.changeListener(e,d.NotifyID.SDK_Banner_Resize,this.resizeBtnPos,this)},t.prototype.resizeBtnPos=function(){cc.find("know",this.node).active=!0},t.prototype.onOpen=function(t){e.prototype.onOpen.call(this,t);var n=h.Notifier.call(a.CallID.Setting_IsMuteMusic);this.musicToggle.isChecked=n;var o=h.Notifier.call(a.CallID.Setting_IsMuteAudio);this.audioToggle.isChecked=o;var i=h.Notifier.call(a.CallID.Setting_IsBlockShake);this.shakeToggle.isChecked=i;var s=h.Notifier.call(a.CallID.Setting_IsHurtShow);this.hurtToggle.isChecked=s,this.onFlush(),h.Notifier.send(r.ListenID.ShowBanner,3)},t.prototype.start=function(){},t.prototype.onClose=function(){s.Manager.audio.playAudio(501),e.prototype.onClose.call(this),h.Notifier.send(r.ListenID.HideBanner)},t.prototype.onClickMusic=function(e){s.Manager.audio.playAudio(501),h.Notifier.send(r.ListenID.Setting_MuteMusic,e.isChecked)},t.prototype.onClickAudio=function(e){s.Manager.audio.playAudio(501),h.Notifier.send(r.ListenID.Setting_MuteAudio,e.isChecked)},t.prototype.onClickShake=function(e){s.Manager.audio.playAudio(501),h.Notifier.send(r.ListenID.Setting_BlockShake,e.isChecked)},t.prototype.onClickHurt=function(e){s.Manager.audio.playAudio(501),h.Notifier.send(r.ListenID.Setting_HurtShow,e.isChecked)},t.prototype.onBtnNoticeClick=function(){s.Manager.audio.playAudio(501),_.UIManager.Open(c.Common_UIPath.NoticeUI,g.MVCS.eTransition.Default,g.MVCS.eUILayer.Tips)},t.prototype.uiPasteBoard=function(e,t){var n="";if("1"==t){if(this._pasteBtnId==t)return;n=this._customServer}else{if(this._pasteBtnId==t)return;n=this._userId}this._pasteBtnId,u.HD_MODULE.getPlatform().uiPasteBoard(n),f.AlertManager.showNormalTips("\u590d\u5236\u5230\u526a\u8d34\u677f\u6210\u529f")},t.prototype.onFlush=function(e){switch(void 0===e&&(e="all"),e){case"all":this._updateLblCustomServer(),this._updateLblUserId()}},t.prototype._updateLblCustomServer=function(){if(this.lblCustomServer){var e="heidong20190501";this.lblCustomServer.string=e,this._customServer=e}},t.prototype._updateLblUserId=function(){if(this.lblUserId){var e=l.HDDefaultUserInfo.open_id;(u.HD_MODULE.PLATFORM.isWeChat()||u.HD_MODULE.PLATFORM.isZiJie())&&(e=u.HD_MODULE.PLATFORM.getOpenId()),this._userId=e,e&&(this.lblUserId.string=p.Util.normalName(e,10))}},i([v(cc.Toggle)],t.prototype,"musicToggle",void 0),i([v(cc.Toggle)],t.prototype,"audioToggle",void 0),i([v(cc.Toggle)],t.prototype,"shakeToggle",void 0),i([v(cc.Toggle)],t.prototype,"hurtToggle",void 0),i([v(cc.Label)],t.prototype,"lblCustomServer",void 0),i([v(cc.Label)],t.prototype,"lblUserId",void 0),t=i([y],t)}(g.MVCS.BaseView);n.default=S,cc._RF.pop()},{"../../CallID":"CallID","../../ListenID":"ListenID","../../alert/AlertManager":"AlertManager","../../common/Common_Define":"Common_Define","../../frame/MVCS":"MVCS","../../frame/Notifier":"Notifier","../../frame/NotifyID":"NotifyID","../../frame/UIManager":"UIManager","../../manager/Manager":"Manager","../../sdk/hd_module/config/AppConfig":"AppConfig","../../sdk/hd_module/hd_module":"hd_module","../../utils/Util":"Util"}],ShareFailTips:[function(e,t,n){"use strict";cc._RF.push(t,"3aed2VnCY5DnKnlYV3Ok3UJ","ShareFailTips");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../framework/MVCS"),a=cc._decorator,s=a.ccclass,c=(a.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.changeListener=function(e){},t.prototype.start=function(){},t.prototype.onClose=function(){e.prototype.onClose.call(this)},t=i([s],t)}(r.MVCS.BaseView));n.default=c,cc._RF.pop()},{"../framework/MVCS":void 0}],SignCfg:[function(e,t,n){"use strict";cc._RF.push(t,"e1ffbzeEUtHuLK3oJXfNaOs","SignCfg");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._name="Sign",t}return o(t,e),t}(e("./TConfig").TConfig);n.SignCfgReader=i,cc._RF.pop()},{"./TConfig":"TConfig"}],SoundCfg:[function(e,t,n){"use strict";cc._RF.push(t,"04a13Cst75K4qzjnIWkZtik","SoundCfg");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._name="Sound",t}return o(t,e),t}(e("./TConfig").TConfig);n.SoundCfgReader=i,cc._RF.pop()},{"./TConfig":"TConfig"}],SpriteAtlasManager:[function(e,t,n){"use strict";cc._RF.push(t,"f639cY8T7xAG4zS+rGdJqz9","SpriteAtlasManager"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("./Manager"),i=function(){function e(){this._spriteatlas={}}return e.prototype.getWeaponIcon=function(e){var t=this;return new Promise(function(n,i){var r=t._spriteatlas.weaponIcon;null==r?o.Manager.loader.LoadAssetAsync("weaponIcon","icon/weaponIcon",cc.SpriteAtlas,function(o,i,r){t._spriteatlas.weaponIcon=i,n(i.getSpriteFrame("weapon"+e))},t,""):n(r.getSpriteFrame("weapon"+e))})},e.prototype.getToolIcon=function(e){var t=this;return new Promise(function(n,i){var r=t._spriteatlas.toolIcon;null==r?o.Manager.loader.LoadAssetAsync("toolIcon","icon/toolIcon",cc.SpriteAtlas,function(o,i,r){t._spriteatlas.toolIcon=i,n(i.getSpriteFrame("drop"+e))},t,""):n(r.getSpriteFrame("drop"+e))})},e.prototype.getToolNameSprite=function(e){var t=this;return new Promise(function(n,i){var r=t._spriteatlas.toolIcon;null==r?o.Manager.loader.LoadAssetAsync("toolIcon","icon/toolIcon",cc.SpriteAtlas,function(o,i,r){t._spriteatlas.toolIcon=i,n(i.getSpriteFrame("dname"+e))},t,""):n(r.getSpriteFrame("dname"+e))})},e.prototype.getDiamondIcon=function(e){var t=this;return new Promise(function(n,i){var r=t._spriteatlas.getDiamond;null==r?o.Manager.loader.LoadAssetAsync("getDiamond","getDiamond/diamond",cc.SpriteAtlas,function(o,i,r){t._spriteatlas.getDiamond=i,n(i.getSpriteFrame(e))},t,""):n(r.getSpriteFrame(e))})},e.prototype.getMonsterBuffIcon=function(e){var t=this;return new Promise(function(n,i){var r=t._spriteatlas.monList;null==r?o.Manager.loader.LoadAssetAsync("monList","actor/monList",cc.SpriteAtlas,function(o,i,r){t._spriteatlas.monList=i,n(i.getSpriteFrame(e))},t,""):n(r.getSpriteFrame(e))})},e.prototype.getSpecialProIcon=function(e){var t=this;return new Promise(function(n,i){var r=t._spriteatlas.mainPlayer;null==r?o.Manager.loader.LoadAssetAsync("mainPlayer","ui/menu/mainPlayer",cc.SpriteAtlas,function(o,i,r){t._spriteatlas.mainPlayer=i,n(i.getSpriteFrame(e))},t,""):n(r.getSpriteFrame(e))})},e.prototype.getResIcon=function(e){var t=this;return new Promise(function(n,i){var r=t._spriteatlas.resIcon;null==r?o.Manager.loader.LoadAssetAsync("resIcon","icon/resIcon",cc.SpriteAtlas,function(o,i,r){t._spriteatlas.resIcon=i,n(i.getSpriteFrame(e))},t,""):n(r.getSpriteFrame(e))})},e}();n.SpriteAtlasManager=i,cc._RF.pop()},{"./Manager":"Manager"}],SpriteSheet:[function(e,t,n){"use strict";cc._RF.push(t,"52453z4wttAlJ5ZkIRQToc3","SpriteSheet");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,a=r.ccclass,s=r.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.sprites=[],t}return o(t,e),t.prototype.get=function(e){return e>this.sprites.length?(cc.error(this.node.name,"SpriteSheet.get out range:",e,this.sprites.length),this.sprites[0]):this.sprites[e]},i([s(cc.SpriteFrame)],t.prototype,"sprites",void 0),t=i([a],t)}(cc.Component);n.SpriteSheet=c,cc._RF.pop()},{}],StorageID:[function(e,t,n){"use strict";cc._RF.push(t,"f39662OPyNIUbZ3O19cOBuw","StorageID"),Object.defineProperty(n,"__esModule",{value:!0}),function(e){e.Setting_MusicVolume="MusicVolume",e.Setting_AudioVolume="AudioVolume"}(n.StorageID||(n.StorageID={})),cc._RF.pop()},{}],StorageManager:[function(e,t,n){"use strict";cc._RF.push(t,"d7cdfk8nwRNto7lxnrzcdgc","StorageManager"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(){}return e.prototype.clear=function(){cc.sys.localStorage.clear()},e.prototype.delete=function(e){cc.sys.localStorage.removeItem(e)},e.prototype.getBool=function(e,t){void 0===t&&(t=!1);var n=cc.sys.localStorage.getItem(e);return isNullOrEmpty(n)?t:0!=n},e.prototype.setBool=function(e,t){var n=t?1:0;cc.sys.localStorage.setItem(e,n)},e.prototype.getNumber=function(e,t){void 0===t&&(t=0);var n=cc.sys.localStorage.getItem(e);return isNullOrEmpty(n)?t:n},e.prototype.setNumber=function(e,t){cc.sys.localStorage.setItem(e,t)},e.prototype.getString=function(e,t){void 0===t&&(t="");var n=cc.sys.localStorage.getItem(e);return isNullOrEmpty(n)?t:n},e.prototype.setString=function(e,t){cc.sys.localStorage.setItem(e,t)},e.prototype.getObject=function(e,t){void 0===t&&(t=null);var n=cc.sys.localStorage.getItem(e);if(isNullOrEmpty(n))return t;var o=JSON.parse(n);return null==o&&cc.error("StorageManager.getObject error",e,n),o},e.prototype.setObject=function(e,t){if(null!=t){var n=JSON.stringify(t);cc.sys.localStorage.setItem(e,n)}else cc.error("StorageManager.setObject null",e)},e.prototype.getArray=function(e,t){void 0===t&&(t=null);var n=cc.sys.localStorage.getItem(e);if(isNullOrEmpty(n))return t;var o=JSON.parse(n);return null==o&&cc.error("StorageManager.getArray error",e,n),o},e.prototype.setArray=function(e,t){if(null!=t){var n=JSON.stringify(t);cc.sys.localStorage.setItem(e,n)}else cc.error("StorageManager.setArray null",e)},e.prototype.setPersonKey=function(e){this._personKey=e},e.prototype.getPrivyBool=function(e,t){return void 0===t&&(t=!1),null==this._personKey?(cc.error("getPrivyBool _personKey null"),t):(e=this._personKey+e,this.getBool(e,t))},e.prototype.setPrivyBool=function(e,t){null!=this._personKey?(e=this._personKey+e,this.setBool(e,t)):cc.error("setPrivyBool _personKey null")},e.prototype.getPrivyNumber=function(e,t){return void 0===t&&(t=0),null==this._personKey?(cc.error("getPrivyNumber _personKey null"),t):(e=this._personKey+e,this.getNumber(e,t))},e.prototype.setPrivyNumber=function(e,t){null!=this._personKey?(e=this._personKey+e,this.setNumber(e,t)):cc.error("setPrivyNumber _personKey null")},e.prototype.getPrivyString=function(e,t){return void 0===t&&(t=""),null==this._personKey?(cc.error("getPrivyString _personKey null"),t):(e=this._personKey+e,this.getString(e,t))},e.prototype.setPrivyString=function(e,t){null!=this._personKey?(e=this._personKey+e,this.setPrivyString(e,t)):cc.error("setPrivyString _personKey null")},e.prototype.getPrivyObject=function(e,t){return void 0===t&&(t=null),null==this._personKey?(cc.error("getPrivyObject _personKey null"),t):(e=this._personKey+e,this.getObject(e,t))},e.prototype.setPrivyObject=function(e,t){null!=this._personKey?(e=this._personKey+e,this.setObject(e,t)):cc.error("setPrivyObject _personKey null")},e.prototype.getPrivyArray=function(e,t){return void 0===t&&(t=null),null==this._personKey?(cc.error("getPrivyArray _personKey null"),t):(e=this._personKey+e,this.getArray(e,t))},e.prototype.setPrivyArray=function(e,t){null!=this._personKey?(e=this._personKey+e,this.setArray(e,t)):cc.error("setPrivyArray _personKey null")},e}();n.StorageManager=o,cc._RF.pop()},{}],StrikeCfg:[function(e,t,n){"use strict";cc._RF.push(t,"4885eBs6u5Pba64+ARoTIFQ","StrikeCfg");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._name="Strike",t}return o(t,e),t}(e("./TConfig").TConfig);n.StrikeCfgReader=i,cc._RF.pop()},{"./TConfig":"TConfig"}],SurpriseCfg:[function(e,t,n){"use strict";cc._RF.push(t,"39dbcZwaP1NdIlX4/8vo75Y","SurpriseCfg");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._name="Surprise",t}return o(t,e),t}(e("./TConfig").TConfig);n.SurpriseCfgReader=i,cc._RF.pop()},{"./TConfig":"TConfig"}],SyncPosition:[function(e,t,n){"use strict";cc._RF.push(t,"3f85cYGX8RIqpKZyPZrzS5/","SyncPosition");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,a=r.ccclass,s=r.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.target=null,t.offset=cc.v2(0,0),t}return o(t,e),t.prototype.setTarget=function(e,t){this.target=e,null!=t&&(this.offset=t)},t.prototype.start=function(){},t.prototype.lateUpdate=function(){if(null!=this.target){var e=this.target.position.add(this.offset);this.node.setPosition(e)}},i([s(cc.Node)],t.prototype,"target",void 0),i([s(cc.Vec2)],t.prototype,"offset",void 0),t=i([a],t)}(cc.Component);n.SyncPosition=c,cc._RF.pop()},{}],TConfig:[function(e,t,n){"use strict";cc._RF.push(t,"862c0JeCnhKqatVpmM87hXN","TConfig"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(){this._name="",this._keyMap=null}return e.prototype.initByMap=function(e){null==this._map?this._map=e:cc.error(this._name+" TConfig.initByMap repetition")},e.prototype.initByArray=function(e){var t=this;null==this._map?(this._map={},e.forEach(function(e){t._map[e.id]=e})):cc.error(this._name+" TConfig.initByArray repetition")},e.prototype.tryGet=function(e){if(null!=this._map){var t=this._map[e];return[null!=t,t]}cc.error(this._name+" TConfig.isExist _map null")},e.prototype.get=function(e){if(null!=this._map){var t=this._map[e];return null==t&&cc.error(this._name+" TConfig.get fail, id:",e),t}cc.error(this._name+" TConfig.get _map null")},e.prototype.find=function(e){if(null!=this._map){for(var t in this._map){var n=this._map[t],o=!0;for(var i in e){if(e[i]!==n[i]){o=!1;break}}if(o)return n}return cc.error(this._name+" TConfig.find fail, key:",JSON.stringify(e)),null}cc.error(this._name+" TConfig.find _map null")},e.prototype.filter=function(e){if(null!=this._map){var t=[];for(var n in this._map){var o=this._map[n],i=!0;for(var r in e){if(e[r]!==o[r]){i=!1;break}}i&&t.push(o)}return t.length<=0&&cc.error(this._name+" TConfig.filter fail, key:",JSON.stringify(e)),t}cc.error(this._name+" TConfig.filter _map null")},e.prototype.sort=function(e,t){var n=this;e.sort(function(e,o){for(var i in t){var r=t[i],a=e[i],s=o[i];if(null!=a&&null!=s)return r*(a-s);cc.warn(n._name+" TConfig.sort property null, key:",i,"id",e.id,o.id)}return 0})},e.prototype.forEach=function(e,t){if(null!=this._map)for(var n in this._map){var o=this._map[n];e.call(t,o)}else cc.error(this._name+" TConfig.forEach _map null")},e.prototype.keyMap=function(e,t,n){null==this._keyMap&&(this._keyMap={});var o=this._keyMap[e];null==o&&(o={},this._keyMap[e]=o);var i=o[t];if(null==i)for(var r in i={},o[t]=i,this._map){var a=this._map[r],s=a[e],c=a[t];null!=s&&null!=c&&(i[s]=c)}return i[n]},e.prototype.getAll=function(){if(null!=this._map)return this._map;cc.error(this._name+" TConfig.getAll _map null")},e}();n.TConfig=o,cc._RF.pop()},{}],Time:[function(e,t,n){"use strict";cc._RF.push(t,"86939sc2vZMjoaulMXhk3aG","Time"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("./collections/ObjectPool"),i=e("./collections/MinSortList"),r=e("./Watcher"),a=e("./Notifier"),s=e("./NotifyID"),c=e("../adpapter/NetAdapter"),u=e("../ListenID"),l=e("../../sdk/hd_module/mgr/EventManager"),f=function(){function e(){this._time=0,this._deltaTime=0,this._frameCount=0,this._clientTimeMs=0,this._clientDate=new Date,this._serverUpdateMs=0,this._serverInitMs=0,this._serverTimeMs=0,this._gameTime=0,this._isUpdateServerTime=!0,this._isPause=!1,this._index=0,this._pool=new o.ObjectPool(function(){return new r.Watcher}),this._watchers=new i.MinSortList(this.compareTime),this._scaling=!1,this._scale=1,this._scaleDura=0,this._scaleTimeout=0,this._scaleSmooth=!0,this.tokenExpire=3600,this.isgetToken=!1,this.getTokenState=0,a.Notifier.changeListener(!0,u.ListenID.Life_On_Hide,this.onHideCallBack,this)}return Object.defineProperty(e.prototype,"time",{get:function(){return this._time},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"deltaTime",{get:function(){return this._deltaTime},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"frameCount",{get:function(){return this._frameCount},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"clientTimeMs",{get:function(){return this._clientTimeMs},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"clientDate",{get:function(){return this._clientDate},enumerable:!0,configurable:!0}),e.prototype.onHideCallBack=function(){this._isUpdateServerTime=!1},Object.defineProperty(e.prototype,"serverTimeMs",{get:function(){return this._serverTimeMs=this._serverInitMs+Date.now()-this._serverUpdateMs,this._serverTimeMs},enumerable:!0,configurable:!0}),e.prototype.getServetTime=function(){var e=this;return new Promise(function(t,n){e._isUpdateServerTime?t(e.serverTimeMs):e.updateServerTime().then(t).catch(n)})},e.prototype.getServetTime1=function(e,t){this._isUpdateServerTime?e(this.serverTimeMs):(this.updateServerTime(),t())},e.prototype.updateServerTime=function(){var e=this;return new Promise(function(t,o){c.default.getServerTime().then(function(i){if(i&&i.data)n.Time.setServerTime(1e3*i.data.timestamp),e._isUpdateServerTime=!0,t();else{var r=Date.now();n.Time.setServerTime(r),e._isUpdateServerTime=!1,e.tokenExpire-=60,o()}}).catch(function(t){e._isUpdateServerTime=!1,o()})})},Object.defineProperty(e.prototype,"isPause",{get:function(){return this._isPause},enumerable:!0,configurable:!0}),e.prototype.pause=function(){this._isPause=!0},e.prototype.resume=function(){this._isPause=!1},e.prototype.update=function(e){if(this._frameCount+=1,this.isgetToken&&(this.tokenExpire-=e,this.tokenExpire<300&&1!=this.getTokenState&&(l.EventManager.emit("updateToken"),this.getTokenState=1)),this._scaling&&(e*=this.scale),this._deltaTime=e,!this._isPause){this._time+=e,this._gameTime+=e;var t=0;for(this.updateScale(e),a.Notifier.isExist(s.NotifyID.Game_Update)&&a.Notifier.send(s.NotifyID.Game_Update,e);;){var n=this._watchers.peek();if(null==n||n.nextTime>this._time)break;if(this._watchers.pop(),n._CallBack(),n.enable&&this._watchers.add(n),++t>5e3){cc.error("watchers too many! frist:"+n.toString());break}}}},e.prototype.setServerTime=function(e){this._serverTimeMs=e,this._serverInitMs=e,this._serverUpdateMs=Date.now()},e.prototype.compareTime=function(e,t){return e.nextTime<t.nextTime?-1:e.nextTime>t.nextTime?1:0},e.prototype.delay=function(e,t,n,o,i){if(void 0===n&&(n=null),void 0===o&&(o=null),void 0===i&&(i=1),null==t)return cc.error("Delay ArgCallback null:"+t+" arg:"+n),null;if(null==e||e<0)return cc.error("Timer.Delay delay:"+e),null;var r=this._pool.pop();return r._SetIndex(++this._index),r._SetCallback(this._time+e,e,t,n,o,i),this._watchers.add(r),r},e.prototype.doCancal=function(e){null!=e&&(e.Cancal(),this._pool.push(e))},e.prototype.reset=function(){this._index=0,this._watchers.clear(this.doCancal,this),cc.warn("Time.reset")},e.prototype.setScale=function(e,t,n){void 0===n&&(n=!0),this._scaling=!0,this._scale=e,this._scaleDura=t,this._scaleTimeout=this._time+t,this._scaleSmooth=n,cc.director.getScheduler().setTimeScale(e),a.Notifier.send(s.NotifyID.Time_Scale,e)},e.prototype.updateScale=function(e){if(this._scaling){if(this._time>this._scaleTimeout)return this._scaling=!1,cc.director.getScheduler().setTimeScale(1),void a.Notifier.send(s.NotifyID.Time_Scale,1);if(this._scaleSmooth){var t=Math.lerp(this._scale,1,1-(this._scaleTimeout-this._time)/this._scaleDura);cc.director.getScheduler().setTimeScale(t),a.Notifier.send(s.NotifyID.Time_Scale,t)}}},Object.defineProperty(e.prototype,"scale",{get:function(){return cc.director.getScheduler().getTimeScale()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isScaling",{get:function(){return this._scaling},enumerable:!0,configurable:!0}),e.prototype.startGameTimeLog=function(){this._gameTime=0},Object.defineProperty(e.prototype,"gameTime",{get:function(){return this._gameTime},enumerable:!0,configurable:!0}),e.prototype.initTokenTime=function(){this.getTokenState=2,this.tokenExpire=3600,this.isgetToken=!0},e}();n.Time=new f,cc._RF.pop()},{"../../sdk/hd_module/mgr/EventManager":void 0,"../ListenID":"ListenID","../adpapter/NetAdapter":"NetAdapter","./Notifier":"Notifier","./NotifyID":"NotifyID","./Watcher":"Watcher","./collections/MinSortList":"MinSortList","./collections/ObjectPool":"ObjectPool"}],TipsCfg:[function(e,t,n){"use strict";cc._RF.push(t,"023611vEnxINpBi83srYZw2","TipsCfg");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._name="Tips",t}return o(t,e),t}(e("./TConfig").TConfig);n.TipsCfgReader=i,cc._RF.pop()},{"./TConfig":"TConfig"}],TreasureCfg:[function(e,t,n){"use strict";cc._RF.push(t,"c72d83U9DhNUYVndsJImjLZ","TreasureCfg");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._name="Treasure",t}return o(t,e),t}(e("./TConfig").TConfig);n.TreasureCfgReader=i,cc._RF.pop()},{"./TConfig":"TConfig"}],TreasurefixCfg:[function(e,t,n){"use strict";cc._RF.push(t,"ba340WaalNI6qvHVs9Yr4mS","TreasurefixCfg");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._name="Treasurefix",t}return o(t,e),t}(e("./TConfig").TConfig);n.TreasurefixCfgReader=i,cc._RF.pop()},{"./TConfig":"TConfig"}],UILauncher:[function(e,t,n){"use strict";cc._RF.push(t,"c92dcLLKZtLeYb9k/8eTEbJ","UILauncher"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../framework/UIManager"),i=e("../framework/MVCS"),r=e("../manager/Manager"),a=function(){return function(){o.UIManager.Init(),i.MVCS.ViewHandler.initAssetHandler(r.Manager.loader.LoadAssetAsync.bind(r.Manager.loader),r.Manager.loader.UnLoadAsset.bind(r.Manager.loader)),i.MVCS.ComponentHandler.initAssetHandler(r.Manager.loader.LoadAssetAsync.bind(r.Manager.loader),r.Manager.loader.UnLoadAsset.bind(r.Manager.loader))}}();n.UILanuncher=a,cc._RF.pop()},{"../framework/MVCS":void 0,"../framework/UIManager":void 0,"../manager/Manager":"Manager"}],UIManager:[function(e,t,n){"use strict";cc._RF.push(t,"34bceduVlRBNojFVOeywzRt","UIManager"),Object.defineProperty(n,"__esModule",{value:!0});var o,i=e("./MVCS"),r=e("../config/Const"),a=e("../alert/AlertManager"),s=function(){function e(){this._viewNode=cc.js.createMap(),this._assets="",this._counter=0,this._countcall=0,this._views={},i.MVCS.ViewHandler.initUIEvent(this.onOpen.bind(this),this.onClose.bind(this))}return e.Init=function(){(o=new e).initRoot()},Object.defineProperty(e,"canvas",{get:function(){return o._canvas},enumerable:!0,configurable:!0}),e.RegisterViewType=function(e,t){},e.Open=function(e,t,n,r,a){void 0===t&&(t=i.MVCS.eTransition.Default),void 0===n&&(n=i.MVCS.eUILayer.Panel),void 0===r&&(r=null),void 0===a&&(a=!0),o.open(e,t,n,r,a)},e.Close=function(e){o.close(e)},e.PreLoadView=function(e,t,n){o.preloadView(e,t,n)},e.CloseQueues=function(){o.closeQueues()},e.layerRoots=function(e){return void 0===e&&(e=i.MVCS.eUILayer.Panel),o.getLayerRoots(e)},e.getNodeByName=function(e){return o.getNodeByName(e)},e.prototype.initRoot=function(){this._root=new cc.Node("_UIRoot"),this._root.parent=cc.director.getScene(),this._root.width=720,this._root.height=1280,this._root.position=cc.v2(360,640),cc.game.addPersistRootNode(this._root),this._layerRoots=new Array;for(var e=i.MVCS.eUILayer.Scene;e<i.MVCS.eUILayer.Max;e++)this._layerRoots[e]=this.addSubCanvas(i.MVCS.eUILayer[e])},e.prototype.addSubCanvas=function(e){var t=new cc.Node(e+"_Root");return t.group="UI",t.parent=this._root,t.width=720,t.height=1280,t.position=cc.Vec2.ZERO,t.rotation=0,t.scale=1,t},e.prototype.preloadView=function(e,t,n){if(null==this._views[e]){var o=e.split("/");i.MVCS.ViewHandler.loadAssetHandler(o[o.length-1],e,cc.Prefab,this.onPreLoadCallBack,this,{suc:t,fai:n})}},e.prototype.onPreLoadCallBack=function(e,t,n,o){var i=t;if(null==i)return console.error(".loadCallback GameObject null:"+e),this._views[n]=null,void(o&&o.fai&&o.fai());var r=cc.instantiate(i);this._viewNode[n]=r,o&&o.suc&&o.suc()},e.prototype.open=function(e,t,n,o,s){void 0===t&&(t=i.MVCS.eTransition.Default),void 0===n&&(n=i.MVCS.eUILayer.Panel),void 0===o&&(o=null),void 0===s&&(s=!0);var c=e.split("/");if(null==this._views[e]){this._views[e]={asset:e,args:o,uiLayer:n,transition:t,cleanView:s};var u=c[c.length-1];if(this._viewNode[e]&&cc.isValid(this._viewNode[e])){try{var l=this._viewNode[e];l.getComponent(u).init(n,t,e,s),l.setParent(this._layerRoots[n]),l.group=r.Const.GroupUI,this._views[e].node=l,l.getComponent(u).open(this._views[e].args)}catch(e){a.AlertManager.showAlert(a.AlertType.COMMON,{desc:"\u6253\u5f00UI "+u+"\u9519\u8bef"+e,errorcb:o})}return}this._assets=e,this._uiLayer=n,this._transition=t,i.MVCS.ViewHandler.loadAssetHandler(u,e,cc.Prefab,this.onLoadCallback,this,o)}else this._views[e].node&&this._views[e].node.getComponent(c[c.length-1]).open(o)},e.prototype.getLayerRoots=function(e){return this._layerRoots[e]},e.prototype.onLoadCallback=function(e,t,n,o){var s=t;if(null==s){console.error(".loadCallback GameObject null:"+e),this._views[n]=null;var c=n.split("/");return this._countcall++,void(this._countcall<=3&&i.MVCS.ViewHandler.loadAssetHandler(c[c.length-1],n,cc.Prefab,this.onLoadCallback,this,o))}var u=this._views[n],l=cc.instantiate(s);try{l.getComponent(e).init(u.uiLayer,u.transition,n,u.cleanView),l.setParent(this._layerRoots[u.uiLayer]),l.group=r.Const.GroupUI,this._views[n].node=l,l.getComponent(e).open(this._views[n].args)}catch(t){a.AlertManager.showAlert(a.AlertType.COMMON,{desc:"\u6253\u5f00UI "+e+"\u9519\u8bef"+t,errorcb:o})}this._countcall=1},e.prototype.onOpen=function(e){},e.prototype.close=function(e){var t=this._views[e];null!=t&&t.node&&cc.isValid(t.node)&&t.node.getComponent(t.node.name).close()},e.prototype.onClose=function(e,t,n){n&&(this._views[t]=null)},e.prototype.closeQueues=function(){},e.prototype.getNodeByName=function(e){if(this._views[e]&&this._views[e].node)return this._views[e].node},e}();n.UIManager=s,cc._RF.pop()},{"../alert/AlertManager":"AlertManager","../config/Const":"Const","./MVCS":"MVCS"}],UserVo:[function(e,t,n){"use strict";cc._RF.push(t,"f1814IJNMBHZYeO/OtVAI3x","UserVo"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../alert/AlertManager"),i=function(){function e(){this.isGetData=!1,this.day=0}return e.prototype.updatetUserVo=function(e){Object.getOwnPropertyNames(this).forEach(function(t){if(e.hasOwnProperty(t)&&"version"!=t)if("member"!=t)this[t]=e[t];else for(var n in e[t])this[t][n]=e[t][n]}.bind(this))},e.prototype.serialize=function(){var e={day:this.day},t="";try{"{}"!=(t=JSON.stringify(e))&&null!=t&&""!=t||o.AlertManager.showAlert(o.AlertType.COMMON,{desc:"\u6570\u636e\u5e8f\u5217\u5316\u51fa\u9519"+t+",\u8bf7\u622a\u56fe\u53cd\u9988\u7ed9\u5ba2\u670d"})}catch(e){o.AlertManager.showAlert(o.AlertType.COMMON,{desc:"\u6570\u636e\u5e8f\u5217\u5316\u51fa\u9519"+e+",\u8bf7\u622a\u56fe\u53cd\u9988\u7ed9\u5ba2\u670d"})}return t},e}();n.UserVo=i,cc._RF.pop()},{"../alert/AlertManager":"AlertManager"}],Util:[function(e,t,n){"use strict";cc._RF.push(t,"9046b4KINpM4p7vTvt5DvWa","Util");var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,r){function a(e){try{c(o.next(e))}catch(e){r(e)}}function s(e){try{c(o.throw(e))}catch(e){r(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}c((o=o.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(e){return function(t){return c([e,t])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,o=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(e){r=[6,e],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../frame/MVCS"),a=function(){function e(){}return e.isWeChat=function(){return cc.sys.platform==cc.sys.WECHAT_GAME},e.getAngle=function(e,t){if(0==t.x&&0==t.y)return 0;var n=t.signAngle(e);return 180/(Math.PI/n)},e.AngleToRadinas=function(e){return e*(Math.PI/180)},e.RadinasToAngle=function(e){return 180*e/Math.PI},e.pDistance=function(e,t){var n=t.x-e.x,o=t.y-e.y;return Math.sqrt(n*n+o*o)},e.getAngleByVec2=function(e){var t=0<e.x?1:-1,n=e.mag();if(0==n)return 0;var o=e.y/n,i=Math.acos(o);return 180/(Math.PI/i)*t},e.setSprite2=function(e,t,n){if(void 0===n&&(n=null),e)if(t){var o;if(e instanceof cc.Sprite)o=e;else if(e instanceof cc.Node)o=e.getComponent(cc.Sprite);else{if("[object String]"!==Object.prototype.toString.call(e))return void cc.error("\u4f20\u5165\u8282\u70b9\u8d44\u6e90\u7c7b\u578b\u4e0d\u6b63\u786e");o=cc.find(e).getComponent(cc.Sprite)}if(o){if(o&&o.spriteFrame){var i=o.node.opacity;o.node.opacity=0;var r="load";0!=t.indexOf("http")&&(r+="Res"),cc.loader[r]({url:t,type:"jpg"},function(e,t){e?cc.error(e.message||e):(o.spriteFrame=new cc.SpriteFrame(t),o.node.opacity=i,n&&n())})}}else cc.error("\u672a\u627e\u5230\u6b63\u786e\u7684Sprite")}else cc.error("\u8bf7\u4f20\u5165\u6b63\u786e\u7684\u8d44\u6e90\u8def\u5f84");else cc.error("\u8bf7\u4f20\u5165\u6b63\u786e\u7684\u8282\u70b9\u540d\u79f0")},e.setSprite=function(t,n,o){if(void 0===o&&(o=null),e.isWeChat()){if(n){var i=null;if(t instanceof cc.Sprite?i=t:t instanceof cc.Node&&(i=t.getComponent(cc.Sprite)),!i)throw new Error("CommonUtil.setSprite:  \u65e0\u6cd5\u627e\u5230\u6b63\u786e\u7684Sprite");var r=wx.createImage();r.onload=function(){var e=new cc.Texture2D;e.initWithElement(r),e.handleLoadedTexture(),i.spriteFrame=new cc.SpriteFrame(e),o&&o()},r.src=n}}else this.setSprite2(t,n,o)},e.setNodePic=function(e,t){cc.loader.loadRes(t,cc.SpriteFrame,function(t,n){t?cc.error(t.message||t):e.getComponent(cc.Sprite).spriteFrame=n})},e.random=function(e,t){return e+Math.floor(Math.random()*(t-e))},e.loadPrefab=function(e){return new Promise(function(t,n){var o=e.split("/");r.MVCS.ComponentHandler.loadAssetHandler(o[o.length-1],e,cc.Prefab,function(e,o,i,r){var a=o;if(null==a)cc.error(".loadCallback GameObject null:"+e),n(null);else{var s=cc.instantiate(a);t(s)}},null,null)})},e.timeFormat=function(e,t){if(void 0===t&&(t=1),e<0)return"";var n="";if(1==t)n=Math.floor(e/60)+"\u5206"+e%60+"\u79d2";else if(2==t){var o=e/60>>0;n+=(o<10?"0":"")+o+":";var i=Math.ceil(e%60);n+=(i<10?"0":"")+i}return n},e.normalName=function(e,t){void 0===t&&(t=5);var n=e;return e.length>t&&(n=e.substr(0,t)+"..."),n},e.getRandomSDiff=function(e,t,n){if(t-e+1<n)return[0];for(var o=new Array,i=t-e+1,r=0;r<i;r++)o[r]=e+r;var a=new Array;for(r=0;r<n;r++){var s=this.random(0,i-1-r);a[r]=o[s];var c=o[i-1-r];o[i-1-r]=o[s],o[s]=c}return a},e.randomArray=function(e){for(var t=new Array,n=e,o=e.length,i=0;i<o;i++){var r=this.random(0,o-1-i);t[i]=n[r];var a=n[o-1-i];n[o-1-i]=n[r],n[r]=a}return t},e.goldFormat=function(e){return e<=0?"0":e<1e3?String(Math.floor(e)):e>=1e3&&e<1e6?(e/1e3).toFixed(1)+"k":e>=1e6&&e<1e9?(e/1e6).toFixed(1)+"m":e>=1e9&&e<1e12?(e/1e9).toFixed(1)+"b":e>=1e12&&e<1e15?(e/1e12).toFixed(1)+"t":e>=1e15&&e<1e18?(e/1e15).toFixed(1)+"A":(e/1e18).toFixed(1)+"B"},e.numFormat=function(e){return e<=0?"0":e<1e3?String(Math.floor(e)):e>=1e3&&e<1e6?(e/1e3).toFixed(1)+"k":e>=1e6&&e<1e9?(e/1e6).toFixed(1)+"m":e>=1e9&&e<1e12?(e/1e9).toFixed(1)+"b":e>=1e12&&e<1e15?(e/1e12).toFixed(1)+"t":e>=1e15&&e<1e18?(e/1e15).toFixed(1)+"A":(e/1e18).toFixed(1)+"B"},e.showGoldEffect=function(t,n,r,a,s,c,u){if(void 0===s&&(s=0),void 0===c&&(c=100),void 0===u&&(u=1),e._goldN){var l=cc.instantiate(e._goldN);l.parent=t,l.position=r,l.getComponent("GoldEffect").stopEffect(),l.getComponent("GoldEffect").playEffect(n,a,s,0,u)}else setTimeout(function(){return o(this,void 0,void 0,function(){return i(this,function(o){return t?(e.loadPrefab("tool/goldeffect").then(function(o){e._goldN=cc.instantiate(o),o.parent=t,o.position=r,o.getComponent("GoldEffect").playEffect(n,a,s,0,u)}),[2]):[2]})})},c)},e.S4=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)},e.guid=function(){return e.S4()+e.S4()+"-"+e.S4()+"-"+e.S4()+"-"+e.S4()+"-"+e.S4()+e.S4()+e.S4()},e.resizeNode=function(e){if(e&&cc.isValid(e)){var t=cc.view.getCanvasSize();t.height/t.width<=1.5&&(e.scale=t.height/t.width)}},e.setAvatarSprite=function(t,n,o){void 0===o&&(o=null),e.setSprite(t,n,o)},e._goldN=null,e}();n.Util=a,cc._RF.pop()},{"../frame/MVCS":"MVCS"}],Watcher:[function(e,t,n){"use strict";cc._RF.push(t,"183ccrcPvxDfYBTpqNbeSr2","Watcher"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(){}return Object.defineProperty(e.prototype,"index",{get:function(){return this._index},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nextTime",{get:function(){return this._nextTime},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"delay",{get:function(){return this._delay},set:function(e){this._delay=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"times",{get:function(){return this._times},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"enable",{get:function(){return this._times>0||-1==this.times},enumerable:!0,configurable:!0}),e.prototype._SetIndex=function(e){this._index=e},e.prototype._SetCallback=function(e,t,n,o,i,r){void 0===o&&(o=null),void 0===i&&(i=null),void 0===r&&(r=1),r<0&&(r=-1),this._nextTime=e,this._delay=t,this._times=r,this._func=n,this._args=o,this._target=i},e.prototype.Cancal=function(e){void 0===e&&(e=!1),e&&this._CallBack(),this._times=0},e.prototype._CallBack=function(){this.enable&&(this.times>0?(this._times=this._times-1,this._nextTime=this.nextTime+this.delay):-1==this.times?this._nextTime=this.nextTime+this.delay:cc.error("Watcher._CallBack times error:",this.times),null!=this._func&&this._func.call(this._target,this._args))},e.prototype.toString=function(){var e="[Watcher] index:"+this.index+" time:"+this.nextTime+" times:"+this.times;return null==this._args?e+=" func:"+this._func:e+=" argfunc:"+this._func+" "+this._args,e},e}();n.Watcher=o,cc._RF.pop()},{}],WeChat:[function(e,t,n){"use strict";cc._RF.push(t,"fda7fw1qOBDbYRuluC2bgZR","WeChat"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../imp/sdk_hd_minipro_0.0.1"),i=e("../../../mgr/EventManager"),r=e("../../../config/AppConfig"),a=e("../../../hd_module"),s=e("../../../utils/base64.js"),c=e("../../../net/protocol/baseprotocol"),u=e("../../../../../manager/Manager"),l=e("../../../../../manager/GameVoManager"),f=window.wx,p=function(e,t){if(e)for(;e.length>0;){var n=e.pop();n&&n(t)}},h=function(){function e(){}return e.init=function(){f.showShareMenu({withShareTicket:!0}),o.HDMiniPro.setup(e.onShowCallBack.bind(this),e.onHideCallBack.bind(this)),i.EventManager.on("open-share",this.share,this)},e.onShowCallBack=function(t){console.log("[hd_sdk_WeChat]------\x3eonShowCallBack",t),e.onShowRes=t,t.query.openId&&e.getUserInfo(function(e){a.HD_MODULE.getNet().postInvitation({inviter_open_id:t.query.openId,mark:e.avatar_url},function(){},function(e){})},function(){}),t.query.channel_code&&(e.channel_code=t.query.channel_code);var n=t.referrerInfo;if(n){var o=n.extraData,s=n.appId;o&&o.channel_code&&(e.channel_code=o.channel_code),s&&a.HD_MODULE.getNet().postDSPIn({from_app_id:s})}e.getShareTemplate(r.appConfig.app_version),e.shareFunc&&(Date.now()-e.hideTime>=2500?e.shareFunc(0):e.shareFunc(-1)),e.shareFunc=null,e.updateNotityEvent("onshow"),e.checkQueryEvent(),i.EventManager.emit("game-onshow",{res:t})},e.onHideCallBack=function(t){e.onHideRes=t,e.hideTime=Date.now(),e.updateNotityEvent("onhide"),i.EventManager.emit("game-onhide")},e.loginCallBack=function(t){e.isLogin=!0,p(this.loginCallBackList,t),p(this.afterLoginCallBackList,t),i.EventManager.emit("game-login")},e.loginFailCallBack=function(e){for(;this.loginFailCallBackList.length>0;)this.loginFailCallBackList.pop()(e)},e.share=function(t,n){t.channel;var o=t.title||"",i=t.tempImageUrl||t.imageUrl||"https://cdn.heidong.fun/gameres/t3/p1/release/wechat/1.0.0/shareTemplates/res/share.jpg",r=t.query||"",s=t.extra||void 0,c=t.scene||"\u672a\u5b9a\u4e49\u573a\u666f";if(e.shareFunc=function(o){0==o?(t.success&&t.success(),a.HD_MODULE.getNet().postGameEvent({event_name:"\u5206\u4eab\u6210\u529f"+c,counter:1})):-1==o&&(t.fail&&t.fail(),n&&"bossresult"==n||e.showWxTips("\u63d0\u793a","\u8bf7\u5206\u4eab\u4e0d\u540c\u7fa4\u83b7\u5f97\u5956\u52b1","\u786e\u5b9a"),a.HD_MODULE.getNet().postGameEvent({event_name:"\u5206\u4eab\u5931\u8d25"+c,counter:1}))},cc.sys.platform==cc.sys.WECHAT_GAME){var u={title:o,imageUrl:i,query:r+"&share="+c+"&openId="+a.HD_MODULE.getPlatform().getOpenId(),extra:s,ald_desc:c};this._shareAppMessage(u)}else e.shareFunc&&e.shareFunc(0)},e.showWxTips=function(e,t,n,o,i){void 0===n&&(n="\u786e\u5b9a"),void 0===o&&(o="");var r={title:e,content:t,showCancel:Boolean(o),confirmText:n,cancelText:o,success:i};f.showModal(r)},e.getUserInfo=function(t,n,o){void 0===o&&(o=null),e.userInfo?t&&t(e.userInfo):e._login(t,n,o)},e.login=function(){return new Promise(function(t,n){f.login({success:function(o){if(o.code){var i=o;r.HDDefaultUserInfo.code=i.code;var c={platform_id:r.appConfig.platform_id,app_id:r.appConfig.app_id,user_info:r.HDDefaultUserInfo,channel_code:e.channel_code};a.HD_MODULE.getNet().postMiniGameLogin(c,function(n){var o=n.data.token;a.HD_MODULE.getPlatform().setToken(o),e.loginCode=1,e.isLogin=!0;var i=n.data.token.split("."),r=JSON.parse(s.Base64.decode(i[1]));n.data.token&&e.channel_code&&r.new_user&&(e.countAgain=3,e.confirmAgainDelay()),t()},function(t){e.loginCode=0,n()})}else n()},fail:function(e){n()}})})},e._silenceLogin=function(t,n){void 0===t&&(t=function(){}),void 0===n&&(n=function(){}),e.loginFailCallBackList.push(n),0!=e.loginCode&&(e.loginCallBackList.push(t),e.loginCallBackList.length>1)||f.login({success:function(t){if(t.code){var n=t;if(r.HDDefaultUserInfo.code=n.code,a.HD_MODULE.getPlatform().getToken())e.loginCallBack(t);else{var o={platform_id:r.appConfig.platform_id,app_id:r.appConfig.app_id,user_info:r.HDDefaultUserInfo,channel_code:e.channel_code};a.HD_MODULE.getNet().postMiniGameLogin(o,function(t){var n=t.data.token;a.HD_MODULE.getPlatform().setToken(n),localStorage.setItem("token"+r.appConfig.platform_id+r.appConfig.env,n),e.loginCode=1,e.loginCallBack(t);var o=t.data.token.split("."),i=JSON.parse(s.Base64.decode(o[1]));t.data.token&&e.channel_code&&i.new_user&&(e.countAgain=3,e.confirmAgainDelay())},function(t){e.loginCode=0,e.loginFailCallBack(t)})}}else e.loginFailCallBack(t),e.loginCallBackList=[]},fail:function(t){e.loginFailCallBack(t),e.loginCallBackList=[]}})},e.getRealDesignSize=function(){if(!e.designSize){var t=cc.view.getCanvasSize(),n=720*t.height/t.width;e.designSize=new cc.Size(cc.winSize.width,n)}return e.designSize},e._login=function(t,n,o){void 0===o&&(o=null);var i=function(n){e.userInfo=n.userInfo,l.GameVoManager.getInstance.myUserVo.isAuthorize=1,r.HDDefaultUserInfo.avatar_url=e.userInfo.avatarUrl,r.HDDefaultUserInfo.city=e.userInfo.city,r.HDDefaultUserInfo.country=e.userInfo.country,r.HDDefaultUserInfo.gender=e.userInfo.gender,r.HDDefaultUserInfo.nick_name=e.userInfo.nickName,r.HDDefaultUserInfo.province=e.userInfo.province,l.GameVoManager.getInstance.myUserVo.nickName=e.userInfo.nickName,l.GameVoManager.getInstance.myUserVo.avatarUrl=e.userInfo.avatarUrl,e.userInfo=r.HDDefaultUserInfo,t(e.userInfo)};f.getSetting({success:function(r){var a=r.authSetting["scope.userInfo"],s=e.getSysInfo();if(a&&l.GameVoManager.getInstance.myUserVo.isAuthorize)a?f.getUserInfo({success:function(t){e.userInfo=t.userInfo,i(t)}}):t();else if(s&&s.SDKVersion>="2.0.1"){var c=e.getRealDesignSize(),u=f.getSystemInfoSync(),p=u.screenWidth/c.width,h=u.screenHeight/c.height,d=f.createUserInfoButton({type:"image",image:null!=o&&o?"https://cdn.heidong.fun/gameres/t3/p1/release/wechat/loginBtn_2.png":"https://cdn.heidong.fun/gameres/t3/p1/release/wechat/loginBtn.png",style:{left:null!=o&&o?(o.worldPos.x-o.width/2)*p:u.screenWidth/2-720*p/2,top:null!=o&&o?u.screenHeight-(o.worldPos.y+o.height/2+(c.height-1280)/2)*h:u.screenHeight/2-c.height*h/2,width:null!=o&&o?o.width*p:720*p,height:null!=o&&o?o.height*p:c.height*h,lineHeight:40,backgroundColor:"#ffffffff",color:"#ffffffff",textAlign:"center",fontSize:16,borderRadius:10},withCredentials:!1,lang:"zh_CN"});o&&(e.userInfoBtn=d);var g=function(t){"getUserInfo:ok"!=t.errMsg?n&&n(t):(d.offTap(g),d.destroy(),e.authorizeInfo=r,e.authorizeInfo.authSetting["scope.userInfo"]=!0,i(t))};e.onTapCallFunc=g,d.onTap(g)}else f.getUserInfo({success:function(t){e.userInfo=t.userInfo,i(t)}})},fail:function(e){}})},e.destroyUserInfoBtn=function(){e.userInfoBtn&&e.onTapCallFunc&&(e.userInfoBtn.offTap(e.onTapCallFunc),e.userInfoBtn.destroy(),e.onTapCallFunc=null,e.userInfoBtn=null)},e.getSetting=function(){f.getSetting({success:function(t){console.log("====\u6388\u6743\u4fe1\u606f====",t,e.userInfo),e.authorizeInfo=t}})},e.getAuthorizeInfo=function(){return!("{}"==JSON.stringify(e.authorizeInfo)||!e.authorizeInfo.authSetting["scope.userInfo"])},e.getUserInfoBtn=function(){return e.userInfoBtn},e._shareAppMessage=function(e){f.shareAppMessage(e)},e.getIsLogin=function(){return this.isLogin},e.setShareAppMsg=function(e){var t=e.title,n=e.imageUrl,o="channel_code="+e.channel_code;f.onShareAppMessage(function(){return a.HD_MODULE.getNet().postGameEvent({event_name:"\u5206\u4eab\u6210\u529f\u53f3\u4e0a\u89d2",counter:1}),{title:t,imageUrl:n,query:o+"&share=\u53f3\u4e0a\u89d2&openId="+a.HD_MODULE.getPlatform().getOpenId()}})},e.navigateToMiniProgram=function(e){f.navigateToMiniProgram(e)},e.openCustomerServiceConversation=function(e){f.openCustomerServiceConversation(e)},e.getShareTemplate=function(t,n,o){e.shareTemplate?n&&n(e.shareTemplate):c.default.requestByConfig("shareConfig",{version:t}).then(function(t){e.shareTemplate=t.data.share,n&&n(e.shareTemplate)}).catch(function(e){o&&o(e)})},e.getOneShareInfoByType=function(t,n,o){var i=null;if(e.shareTemplate){var a=e.shareTemplate[t];if(a){var s=Math.floor(Math.random()*a.length);i=a[s],n&&n(i)}else o&&o()}else e.getShareTemplate(r.appConfig.app_version,function(e){if(e){var o=e[t];if(o){var r=Math.floor(Math.random()*o.length);i=o[r],n&&n(i)}}},o)},e.openShareByShareTemplateRand=function(t,n){e.getOneShareInfoByType(t,function(o){if(o){var i=o.channel_code?"channel_code="+o.channel_code:"",r={title:o.title,imageUrl:o.image_url,scene:n&&n.scene||"\u5206\u4eab",success:n&&n.success,fail:n&&n.fail,query:i,tempImageUrl:n.tempImageUrl};e.share(r,t)}else{r={title:"\u70ed\u8840\u730e\u624b",scene:n&&n.scene||"\u672c\u5730\u5206\u4eab",success:n&&n.success,fail:n&&n.fail,tempImageUrl:n.tempImageUrl};e.share(r,t)}},function(){var o={title:"\u70ed\u8840\u730e\u624b",scene:n&&n.scene||"\u672c\u5730\u5206\u4eab",success:n&&n.success,fail:n&&n.fail,tempImageUrl:n.tempImageUrl};e.share(o,t)})},e.getOnShowRes=function(){return this.onShowRes},e.showVideo=function(t,n,o,i){var r=this;if(void 0===i&&(i=!0),!e.isVideo){e.isVideo=!0;var a=function(e,t){i&&!r.isLoadVideo||(r.isLoadVideo=!1,r.videoAd.load().then(function(){r.isLoadVideo=!0,r.isHaveVideo=!0,e&&e()}).catch(function(){r.isLoadVideo=!0,t&&t(),r.videoAd.offClose(l)}))},s=function(){i?(r.videoAd.show().catch(function(e){console.error("======show error======",e),r.videoAd&&r.videoAd.offClose(l),o&&o(e)}),cc.audioEngine.pauseAll(),u.Manager.audio.pauseMusic()):e.isVideo=!1},c=function(t){e.isVideo=!1,a(),o&&o(t)};this.videoAd?this.isLoadVideo?s():c(null):(this.videoAd=f.createRewardedVideoAd({adUnitId:t}),this.videoAd,a(function(){s()},function(){c({errCode:0})}));var l=function(t){t&&t.isEnded||void 0==t?(e.isVideo=!1,u.Manager.audio.resumeMusic(),cc.audioEngine.resumeAll(),a(),n&&n()):(u.Manager.audio.resumeMusic(),c(null)),r.videoAd.offClose(l)},p=function(e){r.videoAd.offClose(l),r.videoAd.onError(p),e&&e.errCode&&(1004==e.errCode||1005==e.errCode||1006==e.errCode||1007==e.errCode||1008==e.errCode)&&(r.isHaveVideo=!1,r.videoAd=null),console.log(r.isHaveVideo,r.videoAd),c(e)};this.videoAd.onClose(l),this.videoAd.onError(p)}},e.getIsHaveVideo=function(){return this.isHaveVideo},e.systemInfo=function(){return o.HDMiniPro.systemInfo},e.notifyOnShowEvent=function(t){e.onShowFuncList.push(t)},e.notifyOnHideEvent=function(t){e.onHideFuncList.push(t)},e.updateNotityEvent=function(t){switch(t){case"onshow":for(var n=0;n<e.onShowFuncList.length;n++)e.onShowFuncList[n](e.onShowRes);break;case"onhide":for(n=0;n<e.onHideFuncList.length;n++)e.onHideFuncList[n](e.onHideRes)}},e.checkQueryEvent=function(){if(e.onShowRes){var t=e.onShowRes,n=t.query;n.share&&a.HD_MODULE.getNet().postGameEvent({event_name:"shareIn"+t.scene+n.share,counter:1})}},e.getGameSwitchConfig=function(){return c.default.requestByConfig("shareSwitchGet",{version:r.appConfig.app_version})},e.showToast=function(e,t,n){void 0===t&&(t=!1),f.showToast({title:e,mask:t,icon:n})},e.hideToast=function(){f.hideToast()},e.vibrateShort=function(e,t){f.vibrateShort({success:e,fail:t})},e.setDefaultRightTopShare=function(){var t=this;e.getOneShareInfoByType("common",function(e){if(e){var n={title:e.title,imageUrl:e.imageUrl,query:e.query};t.setShareAppMsg(n)}})},e.checkIsOpenShare=function(t,n){if(t&&t instanceof cc.Node!=0&&e.shareSwitch){var o=Number(e.shareSwitch[n]||0);t.active=t.active&&!!o}},e.isIphoneX=function(){return e._wxSystemInfo||(e._wxSystemInfo=f.getSystemInfoSync()),-1!=e._wxSystemInfo.model.indexOf("iPhone X")||-1!=e._wxSystemInfo.model.indexOf("iPhone1")},e.rigisterEventAfterLogin=function(t){e.isLogin?t():this.afterLoginCallBackList.push(t)},e.showBanner=function(e){var t=this;return new Promise(function(n,o){var i=f.getSystemInfoSync(),r=i.screenWidth,a=i.screenHeight;if(t.bannerAd){if(t.bannerAd.adUnitId==e)return void t.bannerAd.show().then(function(){n&&n()}).catch(function(){o&&o()});t.bannerAd.destroy()}t.bannerAd=f.createBannerAd({adUnitId:e,adIntervals:30,style:{left:0,top:a-88,width:r}}),t.bannerAd.show().catch(function(e){o&&o()}).then(function(){n&&n()}),t.bannerAd.onResize(function(e){t.bannerAd.style.top=a-e.height,t.bannerAd.style.height=e.height}),t.bannerAd.onError(function(){})})},e.hideBanner=function(){var e=this;return new Promise(function(t,n){e.bannerAd&&e.bannerAd.hide(),t&&t()})},e.getSysInfo=function(){return e._wxSystemInfo||(e._wxSystemInfo=f.getSystemInfoSync()),e._wxSystemInfo},e.setLoadingVisible=function(e){e?f.showLoading({title:"\u52a0\u8f7d\u4e2d"}):f.hideLoading()},e.confirmAgainDelay=function(t){void 0===t&&(t=3e4);var n=setTimeout(function(){c.default.requestByConfig("confirmAgain",{}).then(function(e){}).catch(function(t){clearTimeout(n),console.error("catch confirmAgainDelay"),e.countAgain>0&&(e.countAgain--,e.confirmAgainDelay(2e3))})},t)},e.isQuickGame=function(e){return cc.sys.os!=cc.sys.OS_ANDROID?!(!e||!e.mode||"back"!=e.mode):!(!e||!e.mode||"close"!=e.mode&&"back"!=e.mode)},e.uiPasteBoard=function(e,t){f.setClipboardData({data:e,success:function(e){t&&t()}})},e.stageLog=function(e,t){f.aldStage&&(0==e?f.aldStage.onStart({stageId:t.stageId,stageName:t.stageName}):1==e?f.aldStage.onEnd({stageId:t.stageId,stageName:t.stageName,event:t.stageWin?"complete":"fail",params:{desc:t.stageWin?"\u5173\u5361\u5b8c\u6210":"\u5173\u5361\u5931\u8d25"}}):2==e&&f.aldStage.onRunning({stageId:t.stageId,stageName:t.stageName,event:"relive",params:{itemName:"\u590d\u6d3b"}}))},e.userInfo=null,e.shareInfo={},e.switchConfig={},e.hideTime=0,e.shareFunc=null,e.isLogin=!1,e.onShowRes={},e.onHideRes={},e.authorizeInfo={},e.loginCallBackList=[],e.loginFailCallBackList=[],e.loginCode=-1,e.gameClub=null,e.shareTemplate=null,e.shareSwitch=null,e.isVideo=!1,e.videoAd=null,e.isLoadVideo=!0,e.onShowFuncList=[],e.onHideFuncList=[],e.afterLoginCallBackList=[],e.bannerAd=null,e.channel_code="",e.isHaveVideo=!0,e.userInfoBtn=null,e.onTapCallFunc=null,e.designSize=null,e.countAgain=3,e}();n.default=h,cc._RF.pop()},{"../../../../../manager/GameVoManager":"GameVoManager","../../../../../manager/Manager":"Manager","../../../config/AppConfig":"AppConfig","../../../hd_module":"hd_module","../../../mgr/EventManager":"EventManager","../../../net/protocol/baseprotocol":"baseprotocol","../../../utils/base64.js":"base64","../../imp/sdk_hd_minipro_0.0.1":"sdk_hd_minipro_0.0.1"}],WeaponCfg:[function(e,t,n){"use strict";cc._RF.push(t,"bf3a4L3AMlDyIwFrFtJsF5n","WeaponCfg");var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._name="Weapon",t}return o(t,e),t}(e("./TConfig").TConfig);n.WeaponCfgReader=i,cc._RF.pop()},{"./TConfig":"TConfig"}],ZiJie:[function(e,t,n){"use strict";cc._RF.push(t,"8e91e2FB9NHYbIR/zBBPP6O","ZiJie"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../imp/sdk_hd_minipro_0.0.1"),i=e("../../../mgr/EventManager"),r=e("../../../hd_module"),a=e("../../../config/AppConfig"),s=e("../../../net/protocol/baseprotocol"),c=e("../../../../../manager/Manager"),u=e("../../../utils/base64.js"),l=e("../../../../../manager/GameVoManager"),f=(window.tt,function(e,t){if(e)for(;e.length>0;){var n=e.pop();n&&n(t)}}),p=function(){function e(){}return e.init=function(){var t=this;tt.showShareMenu({withShareTicket:!0}),tt.onShow(function(t){e.onShowCallBack(t)}),tt.onHide(function(t){e.onHideCallBack(t)}),i.EventManager.on("open-share",this.share,this),i.EventManager.on("login-req",function(e){return t._silenceLogin(e.success,e.fail)},this)},e.onShowCallBack=function(t){console.log("[hd_sdk_zijie]------\x3eonShowCallBack",t),e.onShowRes=t,t&&t.query.openId&&e.getUserInfo(function(e){r.HD_MODULE.getNet().postInvitation({inviter_open_id:t.query.openId,mark:e.avatar_url},function(){console.log("=====\u9080\u8bf7\u8fdb\u5165\u6210\u529f====",t.query.openId,e)},function(e){console.log("=====\u9080\u8bf7\u8fdb\u5165\u5931\u8d25====",e)})},function(){}),e.shareFunc=null,e.updateNotityEvent("onshow"),e.checkQueryEvent(),i.EventManager.emit("game-onshow",{res:t})},e.onHideCallBack=function(t){e.onHideRes=t,e.hideTime=Date.now(),e.updateNotityEvent("onhide"),i.EventManager.emit("game-onhide")},e.loginCallBack=function(e){f(this.loginCallBackList,e),f(this.afterLoginCallBackList,e),i.EventManager.emit("game-login")},e.loginFailCallBack=function(e){for(;this.loginFailCallBackList.length>0;)this.loginFailCallBackList.pop()(e)},e.share=function(t){t.channel;var n=t.title||"",o=t.imageUrl||"https://cdn.heidong.fun/gameres/t3/p1/release/wechat/1.0.0/shareTemplates/res/share.jpg",i=t.query||"",a=t.extra||void 0,s=t.scene||"\u672a\u5b9a\u4e49\u573a\u666f";if(e.shareFunc=function(n){0==n?(t.success&&t.success(),r.HD_MODULE.getNet().postGameEvent({event_name:"\u5206\u4eab\u6210\u529f"+s,counter:1})):-1==n&&(t.fail&&t.fail(),e.showWxTips("\u63d0\u793a","\u8bf7\u5206\u4eab\u4e0d\u540c\u7fa4\u83b7\u5f97\u5956\u52b1","\u786e\u5b9a"),r.HD_MODULE.getNet().postGameEvent({event_name:"\u5206\u4eab\u5931\u8d25"+s,counter:1}))},cc.sys.platform==cc.sys.WECHAT_GAME){var c={title:n,imageUrl:o,query:i+"&share="+s+"&openId="+r.HD_MODULE.getPlatform().getOpenId(),extra:a,ald_desc:s,success:function(){console.log("\u5206\u4eab\u6210\u529f-----"),e.shareFunc(0)},fail:function(t){console.log("\u5206\u4eab\u5931\u8d25------"),e.shareFunc(-1)}};this._shareAppMessage(c)}else e.shareFunc&&e.shareFunc(0)},e.showWxTips=function(e,t,n,o,i){void 0===n&&(n="\u786e\u5b9a");var r={title:e,content:t,showCancel:Boolean(o),confirmText:n,cancelText:o,success:i};tt.showModal(r)},e.getUserInfo=function(t,n,o,i){void 0===o&&(o=null),void 0===i&&(i=!1),e.userInfo?t&&(console.log("Zijie.userInfo",e.userInfo),t(e.userInfo)):e._login(t,n,o,i)},e.login=function(){return new Promise(function(t,n){tt.login({force:!1,success:function(o){if(e.isLogin=o.isLogin,o.code){var i=o;a.HDDefaultUserInfo.code=i.code;var s={platform_id:a.appConfig.platform_id,app_id:a.appConfig.app_id,user_info:a.HDDefaultUserInfo,channel_code:e.channel_code};r.HD_MODULE.getNet().postMiniGameLogin(s,function(n){var o=n.data.token;r.HD_MODULE.getPlatform().setToken(o),e.loginCode=1;var i=n.data.token.split("."),a=JSON.parse(u.Base64.decode(i[1]));n.data.token&&e.channel_code&&a.new_user&&(e.countAgain=3,e.confirmAgainDelay()),t()},function(t){e.loginCode=0,n()})}else if(o.anonymousCode){i=o;a.HDDefaultUserInfo.code=i.anonymousCode;s={platform_id:a.appConfig.platform_id,app_id:a.appConfig.app_id,user_info:a.HDDefaultUserInfo,channel_code:e.channel_code};r.HD_MODULE.getNet().postMiniGameLogin(s,function(n){var o=n.data.token;r.HD_MODULE.getPlatform().setToken(o),e.loginCode=1;var i=n.data.token.split("."),a=JSON.parse(u.Base64.decode(i[1]));n.data.token&&e.channel_code&&a.new_user&&(e.countAgain=3,e.confirmAgainDelay()),t()},function(t){e.loginCode=2,n()})}},fail:function(t){console.error("fail = ",t),e.loginCode=2,n()}})})},e._silenceLogin=function(t,n){if(void 0===t&&(t=function(){}),void 0===n&&(n=function(){}),2==e.loginCode)return e.loginFailCallBack(null),void n();e.loginFailCallBackList.push(n),e.loginCode<0&&(e.loginCallBackList.push(t),e.loginCallBackList.length>1)||tt.login({force:!1,success:function(t){if(e.isLogin=t.isLogin,t.code){var n=t;if(a.HDDefaultUserInfo.code=n.code,r.HD_MODULE.getPlatform().getToken())e.loginCode=1,e.loginCallBack(t);else{var o={platform_id:a.appConfig.platform_id,app_id:a.appConfig.app_id,user_info:a.HDDefaultUserInfo,channel_code:e.channel_code};r.HD_MODULE.getNet().postMiniGameLogin(o,function(t){var n=t.data.token;r.HD_MODULE.getPlatform().setToken(n),e.loginCode=1,e.loginCallBack(t);var o=t.data.token.split("."),i=JSON.parse(u.Base64.decode(o[1]));t.data.token&&e.channel_code&&i.new_user&&(e.countAgain=3,e.confirmAgainDelay())},function(t){e.loginCode=0,e.loginFailCallBack(t)})}}else if(t.anonymousCode){n=t;a.HDDefaultUserInfo.code=n.anonymousCode;o={platform_id:a.appConfig.platform_id,app_id:a.appConfig.app_id,user_info:a.HDDefaultUserInfo,channel_code:e.channel_code};r.HD_MODULE.getNet().postMiniGameLogin(o,function(t){var n=t.data.token;r.HD_MODULE.getPlatform().setToken(n),e.loginCode=1,e.loginCallBack(t);var o=t.data.token.split("."),i=JSON.parse(u.Base64.decode(o[1]));t.data.token&&e.channel_code&&i.new_user&&(e.countAgain=3,e.confirmAgainDelay())},function(t){e.loginCode=2,e.loginFailCallBack(t)})}},fail:function(t){console.error("fail = ",t),e.loginCode=2,e.loginFailCallBack(t)}})},e.getRealDesignSize=function(){if(!e.designSize){var t=cc.view.getCanvasSize(),n=720*t.height/t.width;e.designSize=new cc.Size(cc.winSize.width,n)}return e.designSize},e.getSetting=function(){tt.getSetting({success:function(t){e.authorizeInfo=t}})},e.getAuthorizeInfo=function(){return!("{}"==JSON.stringify(e.authorizeInfo)||!e.authorizeInfo.authSetting["scope.userInfo"])},e._login=function(t,n,o,i){var r=this;void 0===o&&(o=null),void 0===i&&(i=!1);var s=function(n){e.userInfo=n.userInfo,l.GameVoManager.getInstance.myUserVo.isAuthorize=1,a.HDDefaultUserInfo.avatar_url=e.userInfo.avatarUrl,a.HDDefaultUserInfo.city=e.userInfo.city,a.HDDefaultUserInfo.country=e.userInfo.country,a.HDDefaultUserInfo.gender=e.userInfo.gender,a.HDDefaultUserInfo.nick_name=e.userInfo.nickName,a.HDDefaultUserInfo.province=e.userInfo.province,l.GameVoManager.getInstance.myUserVo.nickName=e.userInfo.nickName,l.GameVoManager.getInstance.myUserVo.avatarUrl=e.userInfo.avatarUrl,e.userInfo=a.HDDefaultUserInfo,t(e.userInfo)};tt.getSetting({success:function(t){console.log("[hd_sdk_ZiJie]-----\x3e\u83b7\u53d6\u6388\u6743\u4fe1\u606f",t),r.authorizeInfo=t,t.authSetting["scope.userInfo"]&&l.GameVoManager.getInstance.myUserVo.isAuthorize?e.userInfo||tt.getUserInfo({success:function(t){e.userInfo=t.userInfo,s(t)},fail:function(){n&&n()}}):tt.getUserInfo({success:function(t){e.userInfo=t.userInfo,console.log("userInfo",t),s(t)},fail:function(){n&&n()}})},fail:function(e){console.log("\u83b7\u53d6\u8bbe\u7f6e\u5931\u8d25",e)}})},e.getUserInfoBtn=function(){},e._shareAppMessage=function(e){tt.shareAppMessage(e)},e.getIsLogin=function(){return this.isLogin&&1==this.loginCode},e.setShareAppMsg=function(e){var t=e.title,n=e.imageUrl,o="channel_code="+e.channel_code;tt.onShareAppMessage(function(){return r.HD_MODULE.getNet().postGameEvent({event_name:"\u5206\u4eab\u6210\u529f\u53f3\u4e0a\u89d2",counter:1}),{title:t,imageUrl:n,query:o+"&share=\u53f3\u4e0a\u89d2&openId="+r.HD_MODULE.getPlatform().getOpenId()}})},e.getShareTemplate=function(t,n,o){e.shareTemplate?n&&n(e.shareTemplate):s.default.requestByConfig("shareConfig",{version:t}).then(function(t){e.shareTemplate=t.data.share,n&&n(e.shareTemplate)}).catch(function(e){o&&o(e)})},e.getOneShareInfoByType=function(t,n,o){var i=null;if(e.shareTemplate){var r=e.shareTemplate[t];if(r){var s=Math.floor(Math.random()*r.length);i=r[s],n&&n(i)}else o&&o()}else e.getShareTemplate(a.appConfig.app_version,function(e){if(e){var o=e[t];if(o){var r=Math.floor(Math.random()*o.length);i=o[r],n&&n(i)}}},o)},e.openShareByShareTemplateRand=function(t,n){e.getOneShareInfoByType(t,function(t){if(t){var o="channel_code ="+t.channel_code,i={title:t.title,imageUrl:t.image_url,scene:n&&n.scene||"\u5206\u4eab",success:n&&n.success,fail:n&&n.fail,query:o};e.share(i)}else{i={title:"\u70ed\u8840\u730e\u624b",scene:n&&n.scene||"\u672c\u5730\u5206\u4eab",success:n&&n.success,fail:n&&n.fail};e.share(i)}},function(){var t={title:"\u70ed\u8840\u730e\u624b",scene:n&&n.scene||"\u672c\u5730\u5206\u4eab",success:n&&n.success,fail:n&&n.fail};e.share(t)})},e.getOnShowRes=function(){return this.onShowRes},e.showVideo=function(t,n,o,i){var r=this;if(void 0===i&&(i=!0),console.log("showVideo",e.isVideo),!e.isVideo){e.isVideo=!0;try{var a=function(t,n){i&&!e.isLoadVideo||(e.isLoadVideo=!1,e.videoAd.load().then(function(){e.isLoadVideo=!0,e.isHaveVideo=!0,t&&t()}).catch(function(){e.isLoadVideo=!0,console.error("catch load"),n&&n()}))},s=function(){i?(e.videoAd.show().catch(function(t){console.error("catch",t),e.isVideo=!1}),cc.audioEngine.pauseAll(),c.Manager.audio.pauseMusic()):e.isVideo=!1},u=function(){e.isVideo=!1,c.Manager.audio.resumeMusic(),cc.audioEngine.resumeAll(),a(),n&&n()},l=function(t){e.isVideo=!1,o&&o(t)};if(!tt.createRewardedVideoAd)return e.showWxTips("\u63d0\u793a","\u7248\u672c\u8fc7\u4f4e\u65e0\u6cd5\u521b\u5efa\u89c6\u9891\u5e7f\u544a","\u786e\u5b9a"),void(e.isVideo=!1);e.videoAd?e.isLoadVideo?s():l(null):(e.videoAd=tt.createRewardedVideoAd({adUnitId:t}),a(function(){s()},function(){l({errCode:0})}));var f=function(t){t&&t.isEnded||void 0==t?u&&u():(c.Manager.audio.resumeMusic(),l&&l(null)),e.videoAd&&e.videoAd.offClose&&e.videoAd.offClose(f)},p=function(t){r.videoAd&&r.videoAd.offClose&&e.videoAd.offClose(f),e.videoAd.offError(p),t&&t.errCode&&(1004==t.errCode||1005==t.errCode||1006==t.errCode||1007==t.errCode||1008==t.errCode)&&(e.isHaveVideo=!1,e.videoAd=null),l(t)};e.videoAd.onClose(f),e.videoAd.onError(p)}catch(e){}}},e.recordVideo=function(t,n){var o=e;e.stopcb=n;var i=function(){if(!o.isInitRecord){o.isInitRecord=!0;var i=tt.getGameRecorderManager();i.onStart(function(e){t&&t()}),i.onStop(function(t){o.isRecordVideo=!1,n&&n(null),tt.shareVideo({videoPath:t.videoPath,success:function(){e.stopcb&&e.stopcb(1)},fail:function(t){e.showWxTips("\u63d0\u793a","\u5206\u4eab\u89c6\u9891\u5df2\u53d6\u6d88","\u786e\u5b9a","\u53d6\u6d88",function(e){}),e.stopcb&&e.stopcb(1)}})}),i.onError(function(t){e.isRecordVideo=!1,e.showWxTips("\u63d0\u793a","\u5f55\u5c4f\u51fa\u9519"+t,"\u786e\u5b9a")}),i.onInterruptionBegin(function(e){console.log("[hd_sdk_zijie]-----\x3e\u5f55\u5236\u89c6\u9891\u4e2d\u65ad\u5f00\u59cb"),o.isRecordVideo&&i.pause()}),i.onInterruptionEnd(function(e){console.log("[hd_sdk_zijie]-----\x3e\u5f55\u5236\u89c6\u9891\u4e2d\u65ad\u7ed3\u675f"),o.isRecordVideo&&i.resume()})}o.isRecordVideo?o.recordVideoStop():o.recordVideoStart(),o.isRecordVideo=!o.isRecordVideo,console.log("[hd_sdk_zijie]-----\x3e\u6b63\u5728\u5f55\u5236",o.isRecordVideo)};(function(t){tt.authorize({scope:"scope.camera",success:t,fail:function(){e.showWxTips("\u63d0\u793a","\u8bf7\u6388\u6743\u8bbf\u95ee\u76f8\u518c","\u786e\u5b9a","\u53d6\u6d88",function(e){e.confirm&&tt.openSetting({success:function(e){}})})}})})(function(){i()})},e.recordVideoStart=function(){var e=tt.getGameRecorderManager();e?e.start({duration:120}):console.log("[hd_sdk_zijie]-----\x3ett.getGameRecorderManager()\u8fd4\u56de\u503c\u4e3a\u7a7a")},e.recordVideoStop=function(){var e=tt.getGameRecorderManager();e?e.stop():console.log("[hd_sdk_zijie]-----\x3ett.getGameRecorderManager()\u8fd4\u56de\u503c\u4e3a\u7a7a")},e.getIsRecord=function(){return this.isRecordVideo},e.getIsHaveVideo=function(){return this.isHaveVideo},e.systemInfo=function(){return o.HDMiniPro.systemInfo},e.notifyOnShowEvent=function(t){e.onShowFuncList.push(t)},e.notifyOnHideEvent=function(t){e.onHideFuncList.push(t)},e.updateNotityEvent=function(t){switch(t){case"onshow":for(var n=0;n<e.onShowFuncList.length;n++)e.onShowFuncList[n](e.onShowRes);break;case"onhide":for(n=0;n<e.onHideFuncList.length;n++)e.onHideFuncList[n](e.onHideRes)}},e.checkQueryEvent=function(){if(e.onShowRes){var t=e.onShowRes,n=t.query;n.share&&r.HD_MODULE.getNet().postGameEvent({event_name:"shareIn"+t.scene+n.share,counter:1})}},e.getGameSwitchConfig=function(){return s.default.requestByConfig("shareSwitchGet",{version:a.appConfig.app_version})},e.showToast=function(e,t,n){void 0===t&&(t=!1),tt.showToast({title:e,mask:t,icon:n})},e.hideToast=function(){tt.hideToast()},e.vibrateShort=function(e,t){tt.vibrateShort({success:e,fail:t})},e.setDefaultRightTopShare=function(){var t=this;e.getOneShareInfoByType("common",function(e){if(e){var n={title:e.title,imageUrl:e.imageUrl,query:e.query};t.setShareAppMsg(n)}})},e.checkIsOpenShare=function(t,n){if(t&&t instanceof cc.Node!=0&&e.shareSwitch){var o=Number(e.shareSwitch[n]||0);t.active=t.active&&!!o}},e.isIphoneX=function(){return e._ttSystemInfo||(e._ttSystemInfo=tt.getSystemInfoSync()),-1!=e._ttSystemInfo.model.indexOf("iPhone X")||-1!=e._ttSystemInfo.model.indexOf("iPhone1")},e.rigisterEventAfterLogin=function(t){e.isLogin?t():this.afterLoginCallBackList.push(t)},e.getSysInfo=function(){return e._ttSystemInfo||(e._ttSystemInfo=tt.getSystemInfoSync()),e._ttSystemInfo},e.setLoadingVisible=function(e){e?tt.showLoading({title:"\u52a0\u8f7d\u4e2d"}):tt.hideLoading()},e.confirmAgainDelay=function(t){void 0===t&&(t=3e4);var n=setTimeout(function(){s.default.requestByConfig("confirmAgain",{}).then(function(e){}).catch(function(t){clearTimeout(n),e.countAgain>0&&(e.countAgain--,e.confirmAgainDelay(2e3))})},t)},e.isQuickGame=function(e){return cc.sys.os!=cc.sys.OS_ANDROID?!(!e||!e.mode||"back"!=e.mode):!(!e||!e.mode||"close"!=e.mode&&"back"!=e.mode)},e.uiPasteBoard=function(e,t){tt.setClipboardData({data:e,success:function(e){t&&t()}})},e.userInfo=null,e.shareInfo=[],e.switchConfig={},e.hideTime=0,e.shareFunc=null,e.isLogin=!1,e.onShowRes={},e.onHideRes={},e.authorizeInfo={},e.loginCallBackList=[],e.loginFailCallBackList=[],e.loginCode=-1,e.gameClub=null,e.shareTemplate=null,e.shareSwitch=null,e.isVideo=!1,e.videoAd=null,e.isLoadVideo=!0,e.onShowFuncList=[],e.onHideFuncList=[],e.afterLoginCallBackList=[],e.bannerAd=null,e.channel_code="",e.isHaveVideo=!0,e.userInfoBtn=null,e.query={},e.isRecordVideo=!1,e.isInitRecord=!1,e.settingRes=null,e.designSize=null,e.stopcb=null,e.countAgain=3,e}();n.default=p,cc._RF.pop()},{"../../../../../manager/GameVoManager":"GameVoManager","../../../../../manager/Manager":"Manager","../../../config/AppConfig":"AppConfig","../../../hd_module":"hd_module","../../../mgr/EventManager":"EventManager","../../../net/protocol/baseprotocol":"baseprotocol","../../../utils/base64.js":"base64","../../imp/sdk_hd_minipro_0.0.1":"sdk_hd_minipro_0.0.1"}],base64:[function(e,t,n){(function(o){"use strict";cc._RF.push(t,"25b9eCZHABMNrjISvtBNELX","base64");var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};(function(e,o){"object"===(void 0===n?"undefined":i(n))&&void 0!==t?t.exports=o(e):"function"==typeof define&&define.amd?define(o):o(e)})("undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==o?o:void 0,function(n){var o,i=n.Base64;if(void 0!==t&&t.exports)try{o=e("buffer").Buffer}catch(e){}var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=function(e){for(var t={},n=0,o=e.length;n<o;n++)t[e.charAt(n)]=n;return t}(r),s=String.fromCharCode,c=function(e){if(e.length<2)return(t=e.charCodeAt(0))<128?e:t<2048?s(192|t>>>6)+s(128|63&t):s(224|t>>>12&15)+s(128|t>>>6&63)+s(128|63&t);var t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return s(240|t>>>18&7)+s(128|t>>>12&63)+s(128|t>>>6&63)+s(128|63&t)},u=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,l=function(e){return e.replace(u,c)},f=function(e){var t=[0,2,1][e.length%3],n=e.charCodeAt(0)<<16|(e.length>1?e.charCodeAt(1):0)<<8|(e.length>2?e.charCodeAt(2):0);return[r.charAt(n>>>18),r.charAt(n>>>12&63),t>=2?"=":r.charAt(n>>>6&63),t>=1?"=":r.charAt(63&n)].join("")},p=n.btoa?function(e){return n.btoa(e)}:function(e){return e.replace(/[\s\S]{1,3}/g,f)},h=o?o.from&&Uint8Array&&o.from!==Uint8Array.from?function(e){return(e.constructor===o.constructor?e:o.from(e)).toString("base64")}:function(e){return(e.constructor===o.constructor?e:new o(e)).toString("base64")}:function(e){return p(l(e))},d=function(e,t){return t?h(String(e)).replace(/[+\/]/g,function(e){return"+"==e?"-":"_"}).replace(/=/g,""):h(String(e))},g=new RegExp(["[\xc0-\xdf][\x80-\xbf]","[\xe0-\xef][\x80-\xbf]{2}","[\xf0-\xf7][\x80-\xbf]{3}"].join("|"),"g"),_=function(e){switch(e.length){case 4:var t=((7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3))-65536;return s(55296+(t>>>10))+s(56320+(1023&t));case 3:return s((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return s((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},m=function(e){return e.replace(g,_)},y=function(e){var t=e.length,n=t%4,o=(t>0?a[e.charAt(0)]<<18:0)|(t>1?a[e.charAt(1)]<<12:0)|(t>2?a[e.charAt(2)]<<6:0)|(t>3?a[e.charAt(3)]:0),i=[s(o>>>16),s(o>>>8&255),s(255&o)];return i.length-=[0,0,2,1][n],i.join("")},v=n.atob?function(e){return n.atob(e)}:function(e){return e.replace(/[\s\S]{1,4}/g,y)},S=o?o.from&&Uint8Array&&o.from!==Uint8Array.from?function(e){return(e.constructor===o.constructor?e:o.from(e,"base64")).toString()}:function(e){return(e.constructor===o.constructor?e:new o(e,"base64")).toString()}:function(e){return m(v(e))},w=function(e){return S(String(e).replace(/[-_]/g,function(e){return"-"==e?"+":"/"}).replace(/[^A-Za-z0-9\+\/]/g,""))};if(n.Base64={VERSION:"2.4.3",atob:v,btoa:p,fromBase64:w,toBase64:d,utob:l,encode:d,encodeURI:function(e){return d(e,!0)},btou:m,decode:w,noConflict:function(){var e=n.Base64;return n.Base64=i,e}},"function"==typeof Object.defineProperty){var C=function(e){return{value:e,enumerable:!1,writable:!0,configurable:!0}};n.Base64.extendString=function(){Object.defineProperty(String.prototype,"fromBase64",C(function(){return w(this)})),Object.defineProperty(String.prototype,"toBase64",C(function(e){return d(this,e)})),Object.defineProperty(String.prototype,"toBase64URI",C(function(){return d(this,!0)}))}}return n.Meteor&&(Base64=n.Base64),void 0!==t&&t.exports?t.exports.Base64=n.Base64:"function"==typeof define&&define.amd&&define([],function(){return n.Base64}),{Base64:n.Base64}}),cc._RF.pop()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{buffer:2}],baseprotocol:[function(e,t,n){"use strict";cc._RF.push(t,"1aaa80fuv5KOL27YU/zyZrU","baseprotocol"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../config/AppConfig"),i=e("../../hd_module");n.serverUrlConfig=[{serverUrl:"http://192.168.5.94:10000",commonUrl:"http://192.168.5.94:10001",counterUrl:"http://192.168.5.94:10002"},{serverUrl:"https://platform-test.heidong.fun",commonUrl:"https://public-service-test.heidong.fun",counterUrl:"https://statistics-test.heidong.fun"},{serverUrl:"https://platform.heidong.fun",commonUrl:"https://public-service.heidong.fun",counterUrl:"https://statistics.heidong.fun"}];var r={login:{url:n.serverUrlConfig[o.appConfig.env].serverUrl+"/v1/user/login",method:"POST",header:null},serverTime:{url:n.serverUrlConfig[o.appConfig.env].commonUrl+"/v1/server/timestamp",method:"GET",header:null},kvDataGet:{url:n.serverUrlConfig[o.appConfig.env].commonUrl+"/v1/custom_data",method:"GET",header:null},kvDataPut:{url:n.serverUrlConfig[o.appConfig.env].commonUrl+"/v1/custom_data",method:"PUT",header:null},rankGet:{url:n.serverUrlConfig[o.appConfig.env].commonUrl+"/v1/ranking",method:"GET",header:null},rankPost:{url:n.serverUrlConfig[o.appConfig.env].commonUrl+"/v1/ranking",method:"POST",header:null},otherUserGet:{url:n.serverUrlConfig[o.appConfig.env].commonUrl+"/v1/custom_data/others",method:"GET",header:null},counterGet:{url:n.serverUrlConfig[o.appConfig.env].commonUrl+"/v1/counter",method:"GET",header:null},dspGet:{url:n.serverUrlConfig[o.appConfig.env].commonUrl+"/v1/dsp",method:"GET",header:null},counterPost:{url:n.serverUrlConfig[o.appConfig.env].counterUrl+"/v1/source/dsp",method:"POST",header:null},dspOut:{url:n.serverUrlConfig[o.appConfig.env].counterUrl+"/v1/source/dsp/out",method:"POST",header:null},dspIn:{url:n.serverUrlConfig[o.appConfig.env].counterUrl+"/v1/source/dsp/in",method:"POST",header:null},gameEventPost:{url:n.serverUrlConfig[o.appConfig.env].counterUrl+"/v1/event",method:"POST",header:null},shareConfig:{url:n.serverUrlConfig[o.appConfig.env].commonUrl+"/v1/server/share",method:"GET",header:null},shareSwitchGet:{url:n.serverUrlConfig[o.appConfig.env].commonUrl+"/v1/server/switch",method:"GET",header:null},postInvitation:{url:n.serverUrlConfig[o.appConfig.env].commonUrl+"/v1/invitation",method:"POST",header:null},getInvitationList:{url:n.serverUrlConfig[o.appConfig.env].commonUrl+"/v1/invitation",method:"GET",header:null},confirmAgain:{url:n.serverUrlConfig[o.appConfig.env].commonUrl+"/v1/source/confirm",method:"POST",header:null},sharePost:{url:n.serverUrlConfig[o.appConfig.env].commonUrl+"/v1/share",method:"POST",header:null},shareGet:{url:n.serverUrlConfig[o.appConfig.env].commonUrl+"/v1/share/times",method:"GET",header:null},online:{url:n.serverUrlConfig[o.appConfig.env].counterUrl+"/v1/online-time",method:"POST",header:null},onStageStart:{url:n.serverUrlConfig[o.appConfig.env].counterUrl+"/v1/level/start",method:"POST",header:null},onStageEnd:{url:n.serverUrlConfig[o.appConfig.env].counterUrl+"/v1/level/end",method:"POST",header:null}},a=function(){function e(){}return e.requestByConfig=function(e,t,n,o){var i=this;return void 0===o&&(o=!0),new Promise(function(n,o){var a=r[e];if(a){var s=a.url;i._request(s,t,a.method,a.header).then(function(e){n&&n(e)}).catch(function(e){o&&o(e)})}})},e._request=function(e,t,n,i){var r=this;return new Promise(function(a,s){var c=null;(c=cc.sys.platform==cc.sys.WECHAT_GAME?r._wxRequest:o.appConfig.platform_id==o.EPlatform.ZiJie?r._ttRequest:o.appConfig.platform_id==o.EPlatform.QQ?r._qqRequest:r._webHttp)&&c(e,t,n,i).then(function(e){a&&a(e)}).catch(function(e){s&&s(e)})})},e._wxRequest=function(e,t,n,o){return new Promise(function(r,a){wx.request({url:e,data:t,method:n,header:o||{"content-type":"application/json",Authorization:i.HD_MODULE.getPlatform().getToken()},success:function(e){var t=e.data.code,n=e.data.err;0==t||0==n?r(e.data):a(e.data)},fail:function(e){console.error("wxRequest fail",e),a(e)}})})},e._ttRequest=function(e,t,n,o){return new Promise(function(r,a){tt.request({url:e,data:t,method:n,header:o||{"content-type":"application/json",Authorization:i.HD_MODULE.getPlatform().getToken()},success:function(e){var t=e.data.code,n=e.data.err;0==t||0==n?r(e.data):a(e.data)},fail:function(e){console.error("ttRequest fail",e),a(e)}})})},e._qqRequest=function(e,t,n,o){return new Promise(function(r,a){qq.request({url:e,data:t,method:n,header:o||{"content-type":"application/json",Authorization:i.HD_MODULE.getPlatform().getToken()},success:function(e){var t=e.data.code,n=e.data.err;0==t||0==n?r(e.data):a(e.data)},fail:function(e){console.error("wxRequest fail",e),a(e)}})})},e._webHttp=function(t,n,o,r){return new Promise(function(r,a){var s=new XMLHttpRequest;"GET"==o&&n&&(t+=e.urlBindParams(n)),s.timeout=7e3,s.open(o,t),s.onreadystatechange=function(){4==s.readyState?200==s.status?r(JSON.parse(s.responseText)):a({code:-1,msg:Error("xmlHttp status = "+s.status),data:{}}):console.debug("xmlhttp readystate "+s.readyState)},s.onerror=function(){a({code:-1,msg:Error("xmlhttp something error"),data:{}})},s.setRequestHeader("content-type","application/json"),s.setRequestHeader("Authorization",i.HD_MODULE.getPlatform().getToken()),s.send(n?JSON.stringify(n):"")})},e.urlBindParams=function(e){var t="?";for(var n in e){t+=n+"="+e[n]+"&"}return t=t.slice(0,t.length-1),""+encodeURI(t)},e}();n.default=a,cc._RF.pop()},{"../../config/AppConfig":"AppConfig","../../hd_module":"hd_module"}],hd_module:[function(e,t,n){"use strict";cc._RF.push(t,"d10fcT1v21NL5/n9p8uyBsE","hd_module"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("./net/net"),i=e("./sdk/platform/platform"),r=function(){function e(){}return e.getNet=function(){return this.NET},e.getPlatform=function(){return this.PLATFORM},e.init=function(){e.NET=new o.default,e.PLATFORM=new i.default},e.NET=null,e.PLATFORM=null,e}();n.HD_MODULE=r,cc._RF.pop()},{"./net/net":"net","./sdk/platform/platform":"platform"}],net:[function(e,t,n){"use strict";cc._RF.push(t,"f712boyjbhGO5OdSLRUsovV","net"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("./protocol/baseprotocol"),i=(window.wx,function(){function e(){}return e.prototype.getServerTime=function(e,t){o.default.requestByConfig("serverTime",{}).then(e).catch(t)},e.prototype.getKVData=function(e,t){o.default.requestByConfig("kvDataGet",{}).then(e).catch(t)},e.prototype.putKVData=function(e,t,n){o.default.requestByConfig("kvDataPut",e).then(t).catch(n)},e.prototype.getRankData=function(e,t,n){o.default.requestByConfig("rankGet",e).then(t).catch(n)},e.prototype.postRankData=function(e,t,n){o.default.requestByConfig("rankPost",e).then(t).catch(n)},e.prototype.postMiniGameLogin=function(e,t,n){o.default.requestByConfig("login",e,null,!1).then(t).catch(n)},e.prototype.getDSPInfo=function(e,t,n){o.default.requestByConfig("dspGet",e).then(t).catch(n)},e.prototype.postDSPOut=function(e,t,n){o.default.requestByConfig("dspOut",e).then(t).catch(n)},e.prototype.postDSPIn=function(e,t,n){o.default.requestByConfig("dspIn",e).then(t).catch(n)},e.prototype.postGameEvent=function(e,t,n){o.default.requestByConfig("gameEventPost",e).then(t).catch(n)},e.prototype.getShareConfig=function(e){return o.default.requestByConfig("shareConfig",e)},e.prototype.getShareSwitch=function(e){return o.default.requestByConfig("shareSwitchGet",e)},e.prototype.getShareTemplate=function(e){return o.default.requestByConfig("shareTemplateGet",e)},e.prototype.getServiceCounter=function(e,t,n){o.default.requestByConfig("counterGet",e).then(t).catch(n)},e.prototype.postInvitation=function(e,t,n){o.default.requestByConfig("postInvitation",e).then(t).catch(n)},e.prototype.getInvitationList=function(e,t){o.default.requestByConfig("getInvitationList",null).then(e).catch(t)},e.prototype.buySomeConfirmAgain=function(){return o.default.requestByConfig("confirmAgain",null)},e.prototype.quitGameConfirm=function(e){return o.default.requestByConfig("quitGame",e)},e.prototype.logStartGame=function(e){return o.default.requestByConfig("onStageStart",e)},e.prototype.logEndGame=function(e){return o.default.requestByConfig("onStageEnd",e)},e.prototype.sharePost=function(e,t,n){return o.default.requestByConfig("sharePost",e).then(t).catch(n)},e.prototype.shareGet=function(e,t,n){return o.default.requestByConfig("shareGet",e).then(t).catch(n)},e}());n.default=i,cc._RF.pop()},{"./protocol/baseprotocol":"baseprotocol"}],platform:[function(e,t,n){"use strict";cc._RF.push(t,"ee7979BRmJDA6DjWXU09bzm","platform"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../config/AppConfig"),i=e("../../utils/base64.js"),r=e("./wechat/WeChat"),a=e("./zijie/ZiJie"),s=e("../../mgr/EventManager"),c=e("./android/Native_Android"),u=e("./ios/Native_IOS"),l=e("./qq/QQ"),f=e("../../../../framework/Time"),p=function(){function e(){var e=this;this._token=null,this._openId=null,this._sdk=null,this._userExInfo=null,this._token=null;this.isWeChat()?this._sdk=r.default:this.isZiJie()?this._sdk=a.default:this.isAndroid()?this._sdk=c.default:this.isIOS()?this._sdk=u.default:this.isQQ()&&(this._sdk=l.default),this._sdk?this._sdk.init():s.EventManager.on("login-req",function(e){return e.success(function(){})},this),s.EventManager.on("updateToken",this.updateToken,this),s.EventManager.on("open-video",function(t){return e.showVideo(e.getVideoId(t.index),t.success,t.fail)},this)}return Object.defineProperty(e.prototype,"sdk",{get:function(){return this._sdk},enumerable:!0,configurable:!0}),e.prototype.updateToken=function(){var e=this;this.silenceLogin().then(function(e){}).catch(function(t){f.Time.getTokenState=0,e.updateToken()})},e.prototype.silenceLogin=function(){var e=this;return new Promise(function(t,n){e._sdk&&e._sdk.login?e._sdk.login().then(function(e){f.Time.initTokenTime(),t()}).catch(function(e){n()}):t()})},e.prototype.isWeChat=function(){return cc.sys.platform==cc.sys.WECHAT_GAME&&o.appConfig.platform_id==o.EPlatform.WeChat},e.prototype.isZiJie=function(){return cc.sys.platform==cc.sys.WECHAT_GAME&&o.appConfig.platform_id==o.EPlatform.ZiJie},e.prototype.isAndroid=function(){return cc.sys.platform==cc.sys.ANDROID&&cc.sys.isNative},e.prototype.isIOS=function(){return cc.sys.os==cc.sys.OS_IOS&&cc.sys.isNative},e.prototype.isQQ=function(){return cc.sys.platform==cc.sys.WECHAT_GAME&&o.appConfig.platform_id==o.EPlatform.QQ},e.prototype.isNative=function(){return cc.sys.isNative},e.prototype.isTest=function(){return 2!=o.appConfig.env},e.prototype.getToken=function(){return this._token},e.prototype.setToken=function(e){this._token=e},e.prototype.getOpenId=function(){if(!this._openId&&this._token){var e=this._token.split("."),t=JSON.parse(i.Base64.decode(e[1]));this._openId=t.open_id}return this._openId},Object.defineProperty(e.prototype,"token",{get:function(){return this._token},enumerable:!0,configurable:!0}),e.prototype.isLogin=function(){return this._sdk&&this._sdk.getIsLogin&&this._sdk.getIsLogin()},e.prototype.checkTokenIsExpire=function(e){var t=this;if(!f.Time.isgetToken)return!1;console.log("checkout token");var n=!0;if(e||(e=this._token),e){var o=e.split("."),r=JSON.parse(i.Base64.decode(o[1]));this._openId=r.open_id,f.Time.getServetTime1(function(e){r.exp-e/1e3<=300?t.loginCode=-1:n=!1},function(){})}return n&&this.updateToken(),n},Object.defineProperty(e.prototype,"loginCode",{get:function(){if(this._sdk)return this._sdk.loginCode},set:function(e){this._sdk&&(this._sdk.loginCode=e)},enumerable:!0,configurable:!0}),e.prototype.getUserExInfo=function(){var e={};if(this._token){var t=this._token.split(".");e=JSON.parse(i.Base64.decode(t[1]))}return e},e.prototype.getTokenIsExpire=function(){return this.checkTokenIsExpire(this._token)},e.prototype.getUserInfo=function(e,t,n,o){void 0===t&&(t=null),void 0===n&&(n=null),void 0===o&&(o=!1),this._sdk&&this._sdk.getUserInfo&&this._sdk.getUserInfo(e,t,n,o)},e.prototype.getUserInfoData=function(){return this._sdk?this._sdk.userInfo:null},e.prototype.setShareAppMsg=function(e){this._sdk&&this._sdk.setShareAppMsg&&this._sdk.setShareAppMsg(e)},e.prototype.setDefaultRightTopShare=function(){this._sdk&&this._sdk.setDefaultRightTopShare&&this._sdk.setDefaultRightTopShare()},e.prototype.recordVideo=function(e,t){this._sdk&&this._sdk.recordVideo&&this._sdk.recordVideo(e,t)},e.prototype.getIsRecord=function(){var e=!1;return this._sdk&&this._sdk.getIsRecord&&(e=this._sdk.getIsRecord()),e},e.prototype.showBtnArrayByPlatformt=function(e,t){if(void 0===t&&(t=!1),this._sdk&&e)for(var n in e)for(var o=0;o<e[n].length;++o){var i=e[n][o];if(i){switch(i instanceof cc.Button&&(i=i.node),n){case"wx":i.active=this.isWeChat();break;case"tt":i.active=this.isZiJie();break;case"ios":i.active=this.isIOS()}i.active=i.active&&!t}}},e.prototype.navigateToMiniProgram=function(e){this._sdk&&this._sdk.navigateToMiniProgram&&this._sdk.navigateToMiniProgram(e)},e.prototype.openCustomerServiceConversation=function(e){this._sdk&&this._sdk.openCustomerServiceConversation&&this._sdk.openCustomerServiceConversation(e)},e.prototype.getOneShareInfoByType=function(e,t,n){this._sdk&&this._sdk.getOneShareInfoByType&&this._sdk.getOneShareInfoByType(e,t,n)},e.prototype.openShareByShareTemplateRand=function(e,t){this._sdk?this._sdk.openShareByShareTemplateRand&&this._sdk.openShareByShareTemplateRand(e,t):t.success&&t.success()},e.prototype.getOnShowRes=function(){return this._sdk?this._sdk.getOnShowRes?this._sdk.getOnShowRes():void 0:{}},e.prototype.showVideo=function(e,t,n,o){void 0===o&&(o=!0),this._sdk?this._sdk.showVideo?this._sdk.showVideo(e,t,n,o):n&&n(null):n&&n({errCode:0})},e.prototype.getIsHaveVideo=function(){return!this._sdk||!!this._sdk.getIsHaveVideo&&this._sdk.getIsHaveVideo()},e.prototype.getVideoId=function(e){return o.videoIdList[o.appConfig.platform_id]?o.videoIdList[o.appConfig.platform_id][e]:""},e.prototype.showVideoByIndex=function(e,t){void 0===t&&(t=!0);var n=this;return new Promise(function(o,i){n.showVideo(n.getVideoId(e),o,i,t)})},e.prototype.showBanner=function(e){var t=this;return new Promise(function(n,o){t._sdk&&t._sdk.showBanner&&t._sdk.showBanner(e).then(n).catch(o)})},e.prototype.showBannerByIndex=function(e){var t=this;return new Promise(function(n,i){t.showBanner(o.bannerIdList[o.appConfig.platform_id][e]).then(n).catch(i)})},e.prototype.hideBanner=function(){var e=this;return new Promise(function(t,n){e._sdk&&e._sdk.hideBanner&&e._sdk.hideBanner().then(t).catch(n)})},Object.defineProperty(e.prototype,"SystemInfo",{get:function(){return this._sdk?this._sdk.systemInfo&&this._sdk.systemInfo():null},enumerable:!0,configurable:!0}),e.prototype.notifyOnShowEvent=function(e){this._sdk&&this._sdk.notifyOnShowEvent&&this._sdk.notifyOnShowEvent(e)},e.prototype.notifyOnHideEvent=function(e){this._sdk&&this._sdk.notifyOnHideEvent&&this._sdk.notifyOnHideEvent(e)},e.prototype.getGameSwitchConfig=function(){var e=this;return new Promise(function(t,n){e._sdk&&e._sdk.getGameSwitchConfig?e._sdk.getGameSwitchConfig().then(function(e){t(e)}).catch(function(e){n(e)}):n({msg:"sdk is null"})})},e.prototype.showToast=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n="loading"),this._sdk&&this._sdk.showToast&&this._sdk.showToast(e,t,n)},e.prototype.hideToast=function(){this._sdk&&this._sdk.hideToast&&this._sdk.hideToast()},e.prototype.vibrateShort=function(){return this._sdk&&this._sdk.vibrateShort&&this._sdk.vibrateShort()},e.prototype.checkIsOpenShare=function(e,t){this._sdk&&this._sdk.checkIsOpenShare&&this._sdk.checkIsOpenShare(e,t)},e.prototype.isIphoneX=function(){return!(!this._sdk||!this.isIphoneX)&&(this._sdk.isIphoneX&&this._sdk.isIphoneX())},e.prototype.rigisterEventAfterLogin=function(e){this._sdk&&this._sdk.rigisterEventAfterLogin&&this._sdk.rigisterEventAfterLogin(e)},e.prototype.showWxTips=function(e,t,n,o,i){void 0===n&&(n="\u786e\u5b9a"),void 0===o&&(o=""),this._sdk&&this._sdk.showWxTips&&this._sdk.showWxTips(e,t,n,o,i)},e.prototype.getSysInfo=function(){var e={};return this._sdk&&this._sdk.getSysInfo&&(e=this._sdk.getSysInfo()),e},e.prototype.destroyUserInfoBtn=function(){this._sdk&&this._sdk.destroyUserInfoBtn&&this._sdk.destroyUserInfoBtn()},e.prototype.getSetting=function(){this._sdk&&this._sdk.getSetting&&this._sdk.getSetting()},e.prototype.getAuthorizeInfo=function(){return!(!this._sdk||!this._sdk.getAuthorizeInfo)&&this._sdk.getAuthorizeInfo()},e.prototype.setLoadingVisible=function(e){this._sdk&&this._sdk.setLoadingVisible&&this._sdk.setLoadingVisible(e)},e.prototype.stageLog=function(e,t){this._sdk&&this._sdk.stageLog&&this._sdk.stageLog(e,t)},e.prototype.getUserInfoBtn=function(){return this._sdk&&this._sdk.getUserInfoBtn?this._sdk.getUserInfoBtn():null},e.prototype.inAppPurchaseWithOrderInfo=function(){var e=this;return new Promise(function(t){e._sdk&&e._sdk.inAppPurchaseWithOrderInfo&&e._sdk.inAppPurchaseWithOrderInfo().then(t)})},e.prototype.isQuickGame=function(e){return!(!this._sdk||!this._sdk.isQuickGame)&&this._sdk.isQuickGame(e)},e.prototype.uiPasteBoard=function(e,t){this._sdk&&this._sdk.uiPasteBoard&&this._sdk.uiPasteBoard(e,t)},e}();n.default=p,cc._RF.pop()},{"../../../../framework/Time":void 0,"../../config/AppConfig":"AppConfig","../../mgr/EventManager":"EventManager","../../utils/base64.js":"base64","./android/Native_Android":"Native_Android","./ios/Native_IOS":"Native_IOS","./qq/QQ":"QQ","./wechat/WeChat":"WeChat","./zijie/ZiJie":"ZiJie"}],"sdk_hd_minipro_0.0.1":[function(e,t,n){"use strict";cc._RF.push(t,"2ab1bdR1FlAFYTbDX2spPx4","sdk_hd_minipro_0.0.1"),Object.defineProperty(n,"__esModule",{value:!0}),n.stringFormat=function(e,t){var n=e;if(e.indexOf("{")<0||e.indexOf("}")<0)return n;if(arguments.length>1)if(2==arguments.length&&"object"==typeof t){for(var o in t)if(void 0!=t[o]){var i=new RegExp("({"+o+"})","g");n=n.replace(i,t[o])}}else for(var r=1;r<arguments.length;r++)if(void 0!=arguments[r]){i=new RegExp("({)"+r+"(})","g");n=n.replace(i,arguments[r])}return n};var o=function(){function e(){}return e.setup=function(e,t){this.systemInfo=wx.getSystemInfoSync(),wx.onShow(function(t){e&&e(t)}),wx.onHide(function(e){t&&t(e)})},e.userInfo=null,e.systemInfo=null,e.token="",e}();n.HDMiniPro=o,cc._RF.pop()},{}],"sprite ":[function(e,t,n){"use strict";cc._RF.push(t,"ce246AhPd5ORY477WUyWdK/","sprite "),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(){}return e.setSprite=function(e,t,n,o){if(void 0===o&&(o=!1),e)if(t){var i;if(e instanceof cc.Sprite)i=e;else if(e instanceof cc.Node)i=e.getComponent(cc.Sprite);else{if("[object String]"!==Object.prototype.toString.call(e))return void console.error("\u8282\u70b9\u7c7b\u578b\u4e0d\u6b63\u786e");i=cc.find(e).getComponent(cc.Sprite)}if(i){var r="load",a=i.node.opacity;o&&(i.node.opacity=0),0!=t.indexOf("http")&&(r+="Res"),cc.loader[r](t,function(e,t){i.node.opacity=a,e?cc.error(e.message||e):(i.spriteFrame=new cc.SpriteFrame(t),n&&n())})}else console.error("sprite\u4e0d\u6b63\u786e")}else console.error("\u4f20\u5165\u8def\u5f84\u4e0d\u6b63\u786e");else console.error("\u4f20\u5165\u8282\u70b9\u4e0d\u6b63\u786e")},e}();n.default=o,cc._RF.pop()},{}]},{},["CallID","ListenID","LoaderAdapter","NetAdapter","AlertManager","CommonAlert","NetErrorAlert","NormalTips","ShareFailTips","Common_Define","AutoMove","FontSheet","MapScroll","SpriteSheet","SyncPosition","BarrierCfg","BossCfg","BulletCfg","Cfg","Const","DialCfg","DropCfg","GuideCfg","IConfig","InviteCfg","MonsterCfg","NoticeCfg","SignCfg","SoundCfg","StrikeCfg","SurpriseCfg","TConfig","TipsCfg","TreasureCfg","TreasurefixCfg","WeaponCfg","BaseNet","MVCS","Notifier","NotifyCaller","NotifyID","NotifyListener","NotifyListener_Interl","Pool","Time","AnimTransition","DefaultTransition","MoveTransition","ScaleTransition","UIManager","Watcher","MinHeap","MinSortList","ObjectPool","Global","Math","Launcher","ModuleLauncher","NetLauncher","SdkLauncher","UILauncher","AssetLoader","ILoader","LoaderManager","Session","AnimateManager","AudioManager","CameraManager","GameVoManager","Manager","SpriteAtlasManager","StorageID","StorageManager","LoginController","LoginModel","SettingController","SettingModel","SettingView","AppConfig","hd_module","EventManager","net","baseprotocol","BoxItem_DSP","BoxView_DSP","Button_DSP","sdk_hd_minipro_0.0.1","Native_Android","JsBridge","Native_IOS","JsBridgeIOS","platform","QQ","WeChat","ZiJie","AnimationUtils","EffectUtils","base64","sprite ","GameSwitchVo","UserVo","Util"]);